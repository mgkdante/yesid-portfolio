function NN(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function ty(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function kN(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var ER={exports:{}},ny={},CR={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=Symbol.for("react.element"),UN=Symbol.for("react.portal"),zN=Symbol.for("react.fragment"),HN=Symbol.for("react.strict_mode"),GN=Symbol.for("react.profiler"),VN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),jN=Symbol.for("react.forward_ref"),XN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),DE=Symbol.iterator;function KN(n){return n===null||typeof n!="object"?null:(n=DE&&n[DE]||n["@@iterator"],typeof n=="function"?n:null)}var TR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bR=Object.assign,PR={};function Nu(n,e,t){this.props=n,this.context=e,this.refs=PR,this.updater=t||TR}Nu.prototype.isReactComponent={};Nu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Nu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function RR(){}RR.prototype=Nu.prototype;function SM(n,e,t){this.props=n,this.context=e,this.refs=PR,this.updater=t||TR}var EM=SM.prototype=new RR;EM.constructor=SM;bR(EM,Nu.prototype);EM.isPureReactComponent=!0;var FE=Array.isArray,LR=Object.prototype.hasOwnProperty,CM={current:null},BR={key:!0,ref:!0,__self:!0,__source:!0};function IR(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)LR.call(e,i)&&!BR.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:$f,type:n,key:s,ref:o,props:r,_owner:CM.current}}function QN(n,e){return{$$typeof:$f,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function TM(n){return typeof n=="object"&&n!==null&&n.$$typeof===$f}function qN(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var OE=/\/+/g;function y0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?qN(""+n.key):e.toString(36)}function km(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case $f:case UN:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+y0(o,0):i,FE(r)?(t="",n!=null&&(t=n.replace(OE,"$&/")+"/"),km(r,e,t,"",function(c){return c})):r!=null&&(TM(r)&&(r=QN(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(OE,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",FE(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+y0(s,a);o+=km(s,e,t,l,r)}else if(l=KN(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+y0(s,a++),o+=km(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mp(n,e,t){if(n==null)return n;var i=[],r=0;return km(n,i,"","",function(s){return e.call(t,s,r++)}),i}function ZN(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var bi={current:null},Um={transition:null},$N={ReactCurrentDispatcher:bi,ReactCurrentBatchConfig:Um,ReactCurrentOwner:CM};Tt.Children={map:Mp,forEach:function(n,e,t){Mp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Mp(n,function(){e++}),e},toArray:function(n){return Mp(n,function(e){return e})||[]},only:function(n){if(!TM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Tt.Component=Nu;Tt.Fragment=zN;Tt.Profiler=GN;Tt.PureComponent=SM;Tt.StrictMode=HN;Tt.Suspense=XN;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$N;Tt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=bR({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=CM.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)LR.call(e,l)&&!BR.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:$f,type:n.type,key:r,ref:s,props:i,_owner:o}};Tt.createContext=function(n){return n={$$typeof:WN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:VN,_context:n},n.Consumer=n};Tt.createElement=IR;Tt.createFactory=function(n){var e=IR.bind(null,n);return e.type=n,e};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(n){return{$$typeof:jN,render:n}};Tt.isValidElement=TM;Tt.lazy=function(n){return{$$typeof:YN,_payload:{_status:-1,_result:n},_init:ZN}};Tt.memo=function(n,e){return{$$typeof:JN,type:n,compare:e===void 0?null:e}};Tt.startTransition=function(n){var e=Um.transition;Um.transition={};try{n()}finally{Um.transition=e}};Tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Tt.useCallback=function(n,e){return bi.current.useCallback(n,e)};Tt.useContext=function(n){return bi.current.useContext(n)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(n){return bi.current.useDeferredValue(n)};Tt.useEffect=function(n,e){return bi.current.useEffect(n,e)};Tt.useId=function(){return bi.current.useId()};Tt.useImperativeHandle=function(n,e,t){return bi.current.useImperativeHandle(n,e,t)};Tt.useInsertionEffect=function(n,e){return bi.current.useInsertionEffect(n,e)};Tt.useLayoutEffect=function(n,e){return bi.current.useLayoutEffect(n,e)};Tt.useMemo=function(n,e){return bi.current.useMemo(n,e)};Tt.useReducer=function(n,e,t){return bi.current.useReducer(n,e,t)};Tt.useRef=function(n){return bi.current.useRef(n)};Tt.useState=function(n){return bi.current.useState(n)};Tt.useSyncExternalStore=function(n,e,t){return bi.current.useSyncExternalStore(n,e,t)};Tt.useTransition=function(){return bi.current.useTransition()};Tt.version="18.2.0";CR.exports=Tt;var Y=CR.exports;const uo=ty(Y),ek=NN({__proto__:null,default:uo},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=Y,nk=Symbol.for("react.element"),ik=Symbol.for("react.fragment"),rk=Object.prototype.hasOwnProperty,sk=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ok={key:!0,ref:!0,__self:!0,__source:!0};function DR(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)rk.call(e,i)&&!ok.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:nk,type:n,key:s,ref:o,props:r,_owner:sk.current}}ny.Fragment=ik;ny.jsx=DR;ny.jsxs=DR;ER.exports=ny;var K=ER.exports,d_={},FR={exports:{}},or={},OR={exports:{}},NR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,O){var H=L.length;L.push(O);e:for(;0<H;){var U=H-1>>>1,X=L[U];if(0<r(X,O))L[U]=O,L[H]=X,H=U;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var O=L[0],H=L.pop();if(H!==O){L[0]=H;e:for(var U=0,X=L.length,le=X>>>1;U<le;){var he=2*(U+1)-1,ve=L[he],Se=he+1,Ie=L[Se];if(0>r(ve,H))Se<X&&0>r(Ie,ve)?(L[U]=Ie,L[Se]=H,U=Se):(L[U]=ve,L[he]=H,U=he);else if(Se<X&&0>r(Ie,H))L[U]=Ie,L[Se]=H,U=Se;else break e}}return O}function r(L,O){var H=L.sortIndex-O.sortIndex;return H!==0?H:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(L){for(var O=t(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=L)i(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=t(c)}}function S(L){if(_=!1,M(L),!y)if(t(l)!==null)y=!0,z(C);else{var O=t(c);O!==null&&V(S,O.startTime-L)}}function C(L,O){y=!1,_&&(_=!1,g(B),B=-1),m=!0;var H=p;try{for(M(O),d=t(l);d!==null&&(!(d.expirationTime>O)||L&&!J());){var U=d.callback;if(typeof U=="function"){d.callback=null,p=d.priorityLevel;var X=U(d.expirationTime<=O);O=n.unstable_now(),typeof X=="function"?d.callback=X:d===t(l)&&i(l),M(O)}else i(l);d=t(l)}if(d!==null)var le=!0;else{var he=t(c);he!==null&&V(S,he.startTime-O),le=!1}return le}finally{d=null,p=H,m=!1}}var P=!1,R=null,B=-1,b=5,I=-1;function J(){return!(n.unstable_now()-I<b)}function $(){if(R!==null){var L=n.unstable_now();I=L;var O=!0;try{O=R(!0,L)}finally{O?q():(P=!1,R=null)}}else P=!1}var q;if(typeof A=="function")q=function(){A($)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,F=N.port2;N.port1.onmessage=$,q=function(){F.postMessage(null)}}else q=function(){x($,0)};function z(L){R=L,P||(P=!0,q())}function V(L,O){B=x(function(){L(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,z(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var H=p;p=O;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return O()}finally{p=H}},n.unstable_scheduleCallback=function(L,O,H){var U=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,L={id:h++,callback:O,priorityLevel:L,startTime:H,expirationTime:X,sortIndex:-1},H>U?(L.sortIndex=H,e(c,L),t(l)===null&&L===t(c)&&(_?(g(B),B=-1):_=!0,V(S,H-U))):(L.sortIndex=X,e(l,L),y||m||(y=!0,z(C))),L},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(L){var O=p;return function(){var H=p;p=O;try{return L.apply(this,arguments)}finally{p=H}}}})(NR);OR.exports=NR;var ak=OR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR=Y,ir=ak;function be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UR=new Set,gf={};function Fl(n,e){pu(n,e),pu(n+"Capture",e)}function pu(n,e){for(gf[n]=e,n=0;n<e.length;n++)UR.add(e[n])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p_=Object.prototype.hasOwnProperty,lk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NE={},kE={};function ck(n){return p_.call(kE,n)?!0:p_.call(NE,n)?!1:lk.test(n)?kE[n]=!0:(NE[n]=!0,!1)}function uk(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function hk(n,e,t,i){if(e===null||typeof e>"u"||uk(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ti[n]=new Pi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ti[e]=new Pi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ti[n]=new Pi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ti[n]=new Pi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ti[n]=new Pi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ti[n]=new Pi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ti[n]=new Pi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ti[n]=new Pi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ti[n]=new Pi(n,5,!1,n.toLowerCase(),null,!1,!1)});var bM=/[\-:]([a-z])/g;function PM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(bM,PM);ti[e]=new Pi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(bM,PM);ti[e]=new Pi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(bM,PM);ti[e]=new Pi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ti[n]=new Pi(n,1,!1,n.toLowerCase(),null,!1,!1)});ti.xlinkHref=new Pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ti[n]=new Pi(n,1,!1,n.toLowerCase(),null,!0,!0)});function RM(n,e,t,i){var r=ti.hasOwnProperty(e)?ti[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hk(e,t,r,i)&&(t=null),i||r===null?ck(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var xo=kR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wp=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),Fc=Symbol.for("react.fragment"),LM=Symbol.for("react.strict_mode"),m_=Symbol.for("react.profiler"),zR=Symbol.for("react.provider"),HR=Symbol.for("react.context"),BM=Symbol.for("react.forward_ref"),g_=Symbol.for("react.suspense"),y_=Symbol.for("react.suspense_list"),IM=Symbol.for("react.memo"),Go=Symbol.for("react.lazy"),GR=Symbol.for("react.offscreen"),UE=Symbol.iterator;function ph(n){return n===null||typeof n!="object"?null:(n=UE&&n[UE]||n["@@iterator"],typeof n=="function"?n:null)}var pn=Object.assign,v0;function zh(n){if(v0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);v0=e&&e[1]||""}return`
`+v0+n}var x0=!1;function _0(n,e){if(!n||x0)return"";x0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{x0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?zh(n):""}function fk(n){switch(n.tag){case 5:return zh(n.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return n=_0(n.type,!1),n;case 11:return n=_0(n.type.render,!1),n;case 1:return n=_0(n.type,!0),n;default:return""}}function v_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Fc:return"Fragment";case Dc:return"Portal";case m_:return"Profiler";case LM:return"StrictMode";case g_:return"Suspense";case y_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case HR:return(n.displayName||"Context")+".Consumer";case zR:return(n._context.displayName||"Context")+".Provider";case BM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case IM:return e=n.displayName||null,e!==null?e:v_(n.type)||"Memo";case Go:e=n._payload,n=n._init;try{return v_(n(e))}catch{}}return null}function dk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v_(e);case 8:return e===LM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function VR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pk(n){var e=VR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Sp(n){n._valueTracker||(n._valueTracker=pk(n))}function WR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=VR(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function lg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function x_(n,e){var t=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function zE(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=pa(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jR(n,e){e=e.checked,e!=null&&RM(n,"checked",e,!1)}function __(n,e){jR(n,e);var t=pa(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?A_(n,e.type,t):e.hasOwnProperty("defaultValue")&&A_(n,e.type,pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function HE(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function A_(n,e,t){(e!=="number"||lg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Hh=Array.isArray;function iu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+pa(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function M_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function GE(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(be(92));if(Hh(t)){if(1<t.length)throw Error(be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:pa(t)}}function XR(n,e){var t=pa(e.value),i=pa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function VE(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function JR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?JR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ep,YR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ep=Ep||document.createElement("div"),Ep.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ep.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function yf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mk=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(n){mk.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Jh[e]=Jh[n]})});function KR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Jh.hasOwnProperty(n)&&Jh[n]?(""+e).trim():e+"px"}function QR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=KR(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var gk=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S_(n,e){if(e){if(gk[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function E_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C_=null;function DM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var T_=null,ru=null,su=null;function WE(n){if(n=nd(n)){if(typeof T_!="function")throw Error(be(280));var e=n.stateNode;e&&(e=ay(e),T_(n.stateNode,n.type,e))}}function qR(n){ru?su?su.push(n):su=[n]:ru=n}function ZR(){if(ru){var n=ru,e=su;if(su=ru=null,WE(n),e)for(n=0;n<e.length;n++)WE(e[n])}}function $R(n,e){return n(e)}function eL(){}var A0=!1;function tL(n,e,t){if(A0)return n(e,t);A0=!0;try{return $R(n,e,t)}finally{A0=!1,(ru!==null||su!==null)&&(eL(),ZR())}}function vf(n,e){var t=n.stateNode;if(t===null)return null;var i=ay(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(be(231,e,typeof t));return t}var b_=!1;if(ho)try{var mh={};Object.defineProperty(mh,"passive",{get:function(){b_=!0}}),window.addEventListener("test",mh,mh),window.removeEventListener("test",mh,mh)}catch{b_=!1}function yk(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var Yh=!1,cg=null,ug=!1,P_=null,vk={onError:function(n){Yh=!0,cg=n}};function xk(n,e,t,i,r,s,o,a,l){Yh=!1,cg=null,yk.apply(vk,arguments)}function _k(n,e,t,i,r,s,o,a,l){if(xk.apply(this,arguments),Yh){if(Yh){var c=cg;Yh=!1,cg=null}else throw Error(be(198));ug||(ug=!0,P_=c)}}function Ol(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function nL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function jE(n){if(Ol(n)!==n)throw Error(be(188))}function Ak(n){var e=n.alternate;if(!e){if(e=Ol(n),e===null)throw Error(be(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return jE(r),n;if(s===i)return jE(r),e;s=s.sibling}throw Error(be(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(be(189))}}if(t.alternate!==i)throw Error(be(190))}if(t.tag!==3)throw Error(be(188));return t.stateNode.current===t?n:e}function iL(n){return n=Ak(n),n!==null?rL(n):null}function rL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=rL(n);if(e!==null)return e;n=n.sibling}return null}var sL=ir.unstable_scheduleCallback,XE=ir.unstable_cancelCallback,Mk=ir.unstable_shouldYield,wk=ir.unstable_requestPaint,Cn=ir.unstable_now,Sk=ir.unstable_getCurrentPriorityLevel,FM=ir.unstable_ImmediatePriority,oL=ir.unstable_UserBlockingPriority,hg=ir.unstable_NormalPriority,Ek=ir.unstable_LowPriority,aL=ir.unstable_IdlePriority,iy=null,_s=null;function Ck(n){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(iy,n,void 0,(n.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:Pk,Tk=Math.log,bk=Math.LN2;function Pk(n){return n>>>=0,n===0?32:31-(Tk(n)/bk|0)|0}var Cp=64,Tp=4194304;function Gh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Gh(a):(s&=o,s!==0&&(i=Gh(s)))}else o=t&~r,o!==0?i=Gh(o):s!==0&&(i=Gh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Jr(e),r=1<<t,i|=n[t],e&=~r;return i}function Rk(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lk(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Jr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=Rk(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function R_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lL(){var n=Cp;return Cp<<=1,!(Cp&4194240)&&(Cp=64),n}function M0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ed(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Jr(e),n[e]=t}function Bk(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Jr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function OM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Jr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ht=0;function cL(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var uL,NM,hL,fL,dL,L_=!1,bp=[],Zo=null,$o=null,ea=null,xf=new Map,_f=new Map,Jo=[],Ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JE(n,e){switch(n){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":xf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_f.delete(e.pointerId)}}function gh(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=nd(e),e!==null&&NM(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Dk(n,e,t,i,r){switch(e){case"focusin":return Zo=gh(Zo,n,e,t,i,r),!0;case"dragenter":return $o=gh($o,n,e,t,i,r),!0;case"mouseover":return ea=gh(ea,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return xf.set(s,gh(xf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,_f.set(s,gh(_f.get(s)||null,n,e,t,i,r)),!0}return!1}function pL(n){var e=sl(n.target);if(e!==null){var t=Ol(e);if(t!==null){if(e=t.tag,e===13){if(e=nL(t),e!==null){n.blockedOn=e,dL(n.priority,function(){hL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function zm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=B_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);C_=i,t.target.dispatchEvent(i),C_=null}else return e=nd(t),e!==null&&NM(e),n.blockedOn=t,!1;e.shift()}return!0}function YE(n,e,t){zm(n)&&t.delete(e)}function Fk(){L_=!1,Zo!==null&&zm(Zo)&&(Zo=null),$o!==null&&zm($o)&&($o=null),ea!==null&&zm(ea)&&(ea=null),xf.forEach(YE),_f.forEach(YE)}function yh(n,e){n.blockedOn===e&&(n.blockedOn=null,L_||(L_=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,Fk)))}function Af(n){function e(r){return yh(r,n)}if(0<bp.length){yh(bp[0],n);for(var t=1;t<bp.length;t++){var i=bp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Zo!==null&&yh(Zo,n),$o!==null&&yh($o,n),ea!==null&&yh(ea,n),xf.forEach(e),_f.forEach(e),t=0;t<Jo.length;t++)i=Jo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Jo.length&&(t=Jo[0],t.blockedOn===null);)pL(t),t.blockedOn===null&&Jo.shift()}var ou=xo.ReactCurrentBatchConfig,dg=!0;function Ok(n,e,t,i){var r=Ht,s=ou.transition;ou.transition=null;try{Ht=1,kM(n,e,t,i)}finally{Ht=r,ou.transition=s}}function Nk(n,e,t,i){var r=Ht,s=ou.transition;ou.transition=null;try{Ht=4,kM(n,e,t,i)}finally{Ht=r,ou.transition=s}}function kM(n,e,t,i){if(dg){var r=B_(n,e,t,i);if(r===null)B0(n,e,i,pg,t),JE(n,i);else if(Dk(r,n,e,t,i))i.stopPropagation();else if(JE(n,i),e&4&&-1<Ik.indexOf(n)){for(;r!==null;){var s=nd(r);if(s!==null&&uL(s),s=B_(n,e,t,i),s===null&&B0(n,e,i,pg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else B0(n,e,i,null,t)}}var pg=null;function B_(n,e,t,i){if(pg=null,n=DM(i),n=sl(n),n!==null)if(e=Ol(n),e===null)n=null;else if(t=e.tag,t===13){if(n=nL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return pg=n,null}function mL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sk()){case FM:return 1;case oL:return 4;case hg:case Ek:return 16;case aL:return 536870912;default:return 16}default:return 16}}var Ko=null,UM=null,Hm=null;function gL(){if(Hm)return Hm;var n,e=UM,t=e.length,i,r="value"in Ko?Ko.value:Ko.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Hm=r.slice(n,1<i?1-i:void 0)}function Gm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Pp(){return!0}function KE(){return!1}function ar(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pp:KE,this.isPropagationStopped=KE,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Pp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Pp)},persist:function(){},isPersistent:Pp}),e}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zM=ar(ku),td=pn({},ku,{view:0,detail:0}),kk=ar(td),w0,S0,vh,ry=pn({},td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vh&&(vh&&n.type==="mousemove"?(w0=n.screenX-vh.screenX,S0=n.screenY-vh.screenY):S0=w0=0,vh=n),w0)},movementY:function(n){return"movementY"in n?n.movementY:S0}}),QE=ar(ry),Uk=pn({},ry,{dataTransfer:0}),zk=ar(Uk),Hk=pn({},td,{relatedTarget:0}),E0=ar(Hk),Gk=pn({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),Vk=ar(Gk),Wk=pn({},ku,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jk=ar(Wk),Xk=pn({},ku,{data:0}),qE=ar(Xk),Jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qk(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Kk[n])?!!e[n]:!1}function HM(){return Qk}var qk=pn({},td,{key:function(n){if(n.key){var e=Jk[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Gm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HM,charCode:function(n){return n.type==="keypress"?Gm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zk=ar(qk),$k=pn({},ry,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZE=ar($k),eU=pn({},td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HM}),tU=ar(eU),nU=pn({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),iU=ar(nU),rU=pn({},ry,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sU=ar(rU),oU=[9,13,27,32],GM=ho&&"CompositionEvent"in window,Kh=null;ho&&"documentMode"in document&&(Kh=document.documentMode);var aU=ho&&"TextEvent"in window&&!Kh,yL=ho&&(!GM||Kh&&8<Kh&&11>=Kh),$E=String.fromCharCode(32),eC=!1;function vL(n,e){switch(n){case"keyup":return oU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Oc=!1;function lU(n,e){switch(n){case"compositionend":return xL(e);case"keypress":return e.which!==32?null:(eC=!0,$E);case"textInput":return n=e.data,n===$E&&eC?null:n;default:return null}}function cU(n,e){if(Oc)return n==="compositionend"||!GM&&vL(n,e)?(n=gL(),Hm=UM=Ko=null,Oc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yL&&e.locale!=="ko"?null:e.data;default:return null}}var uU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!uU[n.type]:e==="textarea"}function _L(n,e,t,i){qR(i),e=mg(e,"onChange"),0<e.length&&(t=new zM("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Qh=null,Mf=null;function hU(n){LL(n,0)}function sy(n){var e=Uc(n);if(WR(e))return n}function fU(n,e){if(n==="change")return e}var AL=!1;if(ho){var C0;if(ho){var T0="oninput"in document;if(!T0){var nC=document.createElement("div");nC.setAttribute("oninput","return;"),T0=typeof nC.oninput=="function"}C0=T0}else C0=!1;AL=C0&&(!document.documentMode||9<document.documentMode)}function iC(){Qh&&(Qh.detachEvent("onpropertychange",ML),Mf=Qh=null)}function ML(n){if(n.propertyName==="value"&&sy(Mf)){var e=[];_L(e,Mf,n,DM(n)),tL(hU,e)}}function dU(n,e,t){n==="focusin"?(iC(),Qh=e,Mf=t,Qh.attachEvent("onpropertychange",ML)):n==="focusout"&&iC()}function pU(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sy(Mf)}function mU(n,e){if(n==="click")return sy(e)}function gU(n,e){if(n==="input"||n==="change")return sy(e)}function yU(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var es=typeof Object.is=="function"?Object.is:yU;function wf(n,e){if(es(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!p_.call(e,r)||!es(n[r],e[r]))return!1}return!0}function rC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sC(n,e){var t=rC(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=rC(t)}}function wL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?wL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function SL(){for(var n=window,e=lg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=lg(n.document)}return e}function VM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function vU(n){var e=SL(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&wL(t.ownerDocument.documentElement,t)){if(i!==null&&VM(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=sC(t,s);var o=sC(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var xU=ho&&"documentMode"in document&&11>=document.documentMode,Nc=null,I_=null,qh=null,D_=!1;function oC(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;D_||Nc==null||Nc!==lg(i)||(i=Nc,"selectionStart"in i&&VM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qh&&wf(qh,i)||(qh=i,i=mg(I_,"onSelect"),0<i.length&&(e=new zM("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Nc)))}function Rp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var kc={animationend:Rp("Animation","AnimationEnd"),animationiteration:Rp("Animation","AnimationIteration"),animationstart:Rp("Animation","AnimationStart"),transitionend:Rp("Transition","TransitionEnd")},b0={},EL={};ho&&(EL=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function oy(n){if(b0[n])return b0[n];if(!kc[n])return n;var e=kc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in EL)return b0[n]=e[t];return n}var CL=oy("animationend"),TL=oy("animationiteration"),bL=oy("animationstart"),PL=oy("transitionend"),RL=new Map,aC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(n,e){RL.set(n,e),Fl(e,[n])}for(var P0=0;P0<aC.length;P0++){var R0=aC[P0],_U=R0.toLowerCase(),AU=R0[0].toUpperCase()+R0.slice(1);wa(_U,"on"+AU)}wa(CL,"onAnimationEnd");wa(TL,"onAnimationIteration");wa(bL,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(PL,"onTransitionEnd");pu("onMouseEnter",["mouseout","mouseover"]);pu("onMouseLeave",["mouseout","mouseover"]);pu("onPointerEnter",["pointerout","pointerover"]);pu("onPointerLeave",["pointerout","pointerover"]);Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vh));function lC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,_k(i,e,void 0,n),n.currentTarget=null}function LL(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;lC(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;lC(r,a,c),s=l}}}if(ug)throw n=P_,ug=!1,P_=null,n}function Zt(n,e){var t=e[U_];t===void 0&&(t=e[U_]=new Set);var i=n+"__bubble";t.has(i)||(BL(e,n,2,!1),t.add(i))}function L0(n,e,t){var i=0;e&&(i|=4),BL(t,n,i,e)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function Sf(n){if(!n[Lp]){n[Lp]=!0,UR.forEach(function(t){t!=="selectionchange"&&(MU.has(t)||L0(t,!1,n),L0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lp]||(e[Lp]=!0,L0("selectionchange",!1,e))}}function BL(n,e,t,i){switch(mL(e)){case 1:var r=Ok;break;case 4:r=Nk;break;default:r=kM}t=r.bind(null,e,t,n),r=void 0,!b_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function B0(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=sl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}tL(function(){var c=s,h=DM(t),d=[];e:{var p=RL.get(n);if(p!==void 0){var m=zM,y=n;switch(n){case"keypress":if(Gm(t)===0)break e;case"keydown":case"keyup":m=Zk;break;case"focusin":y="focus",m=E0;break;case"focusout":y="blur",m=E0;break;case"beforeblur":case"afterblur":m=E0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=zk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tU;break;case CL:case TL:case bL:m=Vk;break;case PL:m=iU;break;case"scroll":m=kk;break;case"wheel":m=sU;break;case"copy":case"cut":case"paste":m=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZE}var _=(e&4)!==0,x=!_&&n==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var A=c,M;A!==null;){M=A;var S=M.stateNode;if(M.tag===5&&S!==null&&(M=S,g!==null&&(S=vf(A,g),S!=null&&_.push(Ef(A,S,M)))),x)break;A=A.return}0<_.length&&(p=new m(p,y,null,t,h),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==C_&&(y=t.relatedTarget||t.fromElement)&&(sl(y)||y[fo]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?sl(y):null,y!==null&&(x=Ol(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(_=QE,S="onMouseLeave",g="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(_=ZE,S="onPointerLeave",g="onPointerEnter",A="pointer"),x=m==null?p:Uc(m),M=y==null?p:Uc(y),p=new _(S,A+"leave",m,t,h),p.target=x,p.relatedTarget=M,S=null,sl(h)===c&&(_=new _(g,A+"enter",y,t,h),_.target=M,_.relatedTarget=x,S=_),x=S,m&&y)t:{for(_=m,g=y,A=0,M=_;M;M=sc(M))A++;for(M=0,S=g;S;S=sc(S))M++;for(;0<A-M;)_=sc(_),A--;for(;0<M-A;)g=sc(g),M--;for(;A--;){if(_===g||g!==null&&_===g.alternate)break t;_=sc(_),g=sc(g)}_=null}else _=null;m!==null&&cC(d,p,m,_,!1),y!==null&&x!==null&&cC(d,x,y,_,!0)}}e:{if(p=c?Uc(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=fU;else if(tC(p))if(AL)C=gU;else{C=pU;var P=dU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=mU);if(C&&(C=C(n,c))){_L(d,C,t,h);break e}P&&P(n,p,c),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&A_(p,"number",p.value)}switch(P=c?Uc(c):window,n){case"focusin":(tC(P)||P.contentEditable==="true")&&(Nc=P,I_=c,qh=null);break;case"focusout":qh=I_=Nc=null;break;case"mousedown":D_=!0;break;case"contextmenu":case"mouseup":case"dragend":D_=!1,oC(d,t,h);break;case"selectionchange":if(xU)break;case"keydown":case"keyup":oC(d,t,h)}var R;if(GM)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Oc?vL(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(yL&&t.locale!=="ko"&&(Oc||B!=="onCompositionStart"?B==="onCompositionEnd"&&Oc&&(R=gL()):(Ko=h,UM="value"in Ko?Ko.value:Ko.textContent,Oc=!0)),P=mg(c,B),0<P.length&&(B=new qE(B,n,null,t,h),d.push({event:B,listeners:P}),R?B.data=R:(R=xL(t),R!==null&&(B.data=R)))),(R=aU?lU(n,t):cU(n,t))&&(c=mg(c,"onBeforeInput"),0<c.length&&(h=new qE("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=R))}LL(d,e)})}function Ef(n,e,t){return{instance:n,listener:e,currentTarget:t}}function mg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=vf(n,t),s!=null&&i.unshift(Ef(n,s,r)),s=vf(n,e),s!=null&&i.push(Ef(n,s,r))),n=n.return}return i}function sc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=vf(t,s),l!=null&&o.unshift(Ef(t,l,a))):r||(l=vf(t,s),l!=null&&o.push(Ef(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var wU=/\r\n?/g,SU=/\u0000|\uFFFD/g;function uC(n){return(typeof n=="string"?n:""+n).replace(wU,`
`).replace(SU,"")}function Bp(n,e,t){if(e=uC(e),uC(n)!==e&&t)throw Error(be(425))}function gg(){}var F_=null,O_=null;function N_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k_=typeof setTimeout=="function"?setTimeout:void 0,EU=typeof clearTimeout=="function"?clearTimeout:void 0,hC=typeof Promise=="function"?Promise:void 0,CU=typeof queueMicrotask=="function"?queueMicrotask:typeof hC<"u"?function(n){return hC.resolve(null).then(n).catch(TU)}:k_;function TU(n){setTimeout(function(){throw n})}function I0(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Af(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Af(e)}function ta(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function fC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Uu=Math.random().toString(36).slice(2),ys="__reactFiber$"+Uu,Cf="__reactProps$"+Uu,fo="__reactContainer$"+Uu,U_="__reactEvents$"+Uu,bU="__reactListeners$"+Uu,PU="__reactHandles$"+Uu;function sl(n){var e=n[ys];if(e)return e;for(var t=n.parentNode;t;){if(e=t[fo]||t[ys]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=fC(n);n!==null;){if(t=n[ys])return t;n=fC(n)}return e}n=t,t=n.parentNode}return null}function nd(n){return n=n[ys]||n[fo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Uc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(be(33))}function ay(n){return n[Cf]||null}var z_=[],zc=-1;function Sa(n){return{current:n}}function en(n){0>zc||(n.current=z_[zc],z_[zc]=null,zc--)}function Kt(n,e){zc++,z_[zc]=n.current,n.current=e}var ma={},mi=Sa(ma),zi=Sa(!1),Ml=ma;function mu(n,e){var t=n.type.contextTypes;if(!t)return ma;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Hi(n){return n=n.childContextTypes,n!=null}function yg(){en(zi),en(mi)}function dC(n,e,t){if(mi.current!==ma)throw Error(be(168));Kt(mi,e),Kt(zi,t)}function IL(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(be(108,dk(n)||"Unknown",r));return pn({},t,i)}function vg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ma,Ml=mi.current,Kt(mi,n),Kt(zi,zi.current),!0}function pC(n,e,t){var i=n.stateNode;if(!i)throw Error(be(169));t?(n=IL(n,e,Ml),i.__reactInternalMemoizedMergedChildContext=n,en(zi),en(mi),Kt(mi,n)):en(zi),Kt(zi,t)}var qs=null,ly=!1,D0=!1;function DL(n){qs===null?qs=[n]:qs.push(n)}function RU(n){ly=!0,DL(n)}function Ea(){if(!D0&&qs!==null){D0=!0;var n=0,e=Ht;try{var t=qs;for(Ht=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}qs=null,ly=!1}catch(r){throw qs!==null&&(qs=qs.slice(n+1)),sL(FM,Ea),r}finally{Ht=e,D0=!1}}return null}var Hc=[],Gc=0,xg=null,_g=0,Sr=[],Er=0,wl=null,to=1,no="";function Qa(n,e){Hc[Gc++]=_g,Hc[Gc++]=xg,xg=n,_g=e}function FL(n,e,t){Sr[Er++]=to,Sr[Er++]=no,Sr[Er++]=wl,wl=n;var i=to;n=no;var r=32-Jr(i)-1;i&=~(1<<r),t+=1;var s=32-Jr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,to=1<<32-Jr(e)+r|t<<r|i,no=s+n}else to=1<<s|t<<r|i,no=n}function WM(n){n.return!==null&&(Qa(n,1),FL(n,1,0))}function jM(n){for(;n===xg;)xg=Hc[--Gc],Hc[Gc]=null,_g=Hc[--Gc],Hc[Gc]=null;for(;n===wl;)wl=Sr[--Er],Sr[Er]=null,no=Sr[--Er],Sr[Er]=null,to=Sr[--Er],Sr[Er]=null}var tr=null,$i=null,rn=!1,Wr=null;function OL(n,e){var t=Tr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function mC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,tr=n,$i=ta(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,tr=n,$i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=wl!==null?{id:to,overflow:no}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Tr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,tr=n,$i=null,!0):!1;default:return!1}}function H_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function G_(n){if(rn){var e=$i;if(e){var t=e;if(!mC(n,e)){if(H_(n))throw Error(be(418));e=ta(t.nextSibling);var i=tr;e&&mC(n,e)?OL(i,t):(n.flags=n.flags&-4097|2,rn=!1,tr=n)}}else{if(H_(n))throw Error(be(418));n.flags=n.flags&-4097|2,rn=!1,tr=n}}}function gC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;tr=n}function Ip(n){if(n!==tr)return!1;if(!rn)return gC(n),rn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!N_(n.type,n.memoizedProps)),e&&(e=$i)){if(H_(n))throw NL(),Error(be(418));for(;e;)OL(n,e),e=ta(e.nextSibling)}if(gC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){$i=ta(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}$i=null}}else $i=tr?ta(n.stateNode.nextSibling):null;return!0}function NL(){for(var n=$i;n;)n=ta(n.nextSibling)}function gu(){$i=tr=null,rn=!1}function XM(n){Wr===null?Wr=[n]:Wr.push(n)}var LU=xo.ReactCurrentBatchConfig;function Hr(n,e){if(n&&n.defaultProps){e=pn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Ag=Sa(null),Mg=null,Vc=null,JM=null;function YM(){JM=Vc=Mg=null}function KM(n){var e=Ag.current;en(Ag),n._currentValue=e}function V_(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function au(n,e){Mg=n,JM=Vc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ui=!0),n.firstContext=null)}function Pr(n){var e=n._currentValue;if(JM!==n)if(n={context:n,memoizedValue:e,next:null},Vc===null){if(Mg===null)throw Error(be(308));Vc=n,Mg.dependencies={lanes:0,firstContext:n}}else Vc=Vc.next=n;return e}var ol=null;function QM(n){ol===null?ol=[n]:ol.push(n)}function kL(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,QM(e)):(t.next=r.next,r.next=t),e.interleaved=t,po(n,i)}function po(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Vo=!1;function qM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UL(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function oo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function na(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Bt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,po(n,t)}return r=i.interleaved,r===null?(e.next=e,QM(i)):(e.next=r.next,r.next=e),i.interleaved=e,po(n,t)}function Vm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,OM(n,t)}}function yC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function wg(n,e,t,i){var r=n.updateQueue;Vo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,_=a;switch(p=e,m=t,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(m,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(m,d,p):y,p==null)break e;d=pn({},d,p);break e;case 2:Vo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);El|=o,n.lanes=o,n.memoizedState=d}}function vC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(be(191,r));r.call(i)}}}var zL=new kR.Component().refs;function W_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:pn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cy={isMounted:function(n){return(n=n._reactInternals)?Ol(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Ei(),r=ra(n),s=oo(i,r);s.payload=e,t!=null&&(s.callback=t),e=na(n,s,r),e!==null&&(Yr(e,n,r,i),Vm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Ei(),r=ra(n),s=oo(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=na(n,s,r),e!==null&&(Yr(e,n,r,i),Vm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ei(),i=ra(n),r=oo(t,i);r.tag=2,e!=null&&(r.callback=e),e=na(n,r,i),e!==null&&(Yr(e,n,i,t),Vm(e,n,i))}};function xC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!wf(t,i)||!wf(r,s):!0}function HL(n,e,t){var i=!1,r=ma,s=e.contextType;return typeof s=="object"&&s!==null?s=Pr(s):(r=Hi(e)?Ml:mi.current,i=e.contextTypes,s=(i=i!=null)?mu(n,r):ma),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cy,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function _C(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&cy.enqueueReplaceState(e,e.state,null)}function j_(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=zL,qM(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Pr(s):(s=Hi(e)?Ml:mi.current,r.context=mu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(W_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&cy.enqueueReplaceState(r,r.state,null),wg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function xh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(be(309));var i=t.stateNode}if(!i)throw Error(be(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===zL&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(be(284));if(!t._owner)throw Error(be(290,n))}return n}function Dp(n,e){throw n=Object.prototype.toString.call(e),Error(be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function AC(n){var e=n._init;return e(n._payload)}function GL(n){function e(g,A){if(n){var M=g.deletions;M===null?(g.deletions=[A],g.flags|=16):M.push(A)}}function t(g,A){if(!n)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function i(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=sa(g,A),g.index=0,g.sibling=null,g}function s(g,A,M){return g.index=M,n?(M=g.alternate,M!==null?(M=M.index,M<A?(g.flags|=2,A):M):(g.flags|=2,A)):(g.flags|=1048576,A)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,A,M,S){return A===null||A.tag!==6?(A=H0(M,g.mode,S),A.return=g,A):(A=r(A,M),A.return=g,A)}function l(g,A,M,S){var C=M.type;return C===Fc?h(g,A,M.props.children,S,M.key):A!==null&&(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Go&&AC(C)===A.type)?(S=r(A,M.props),S.ref=xh(g,A,M),S.return=g,S):(S=Km(M.type,M.key,M.props,null,g.mode,S),S.ref=xh(g,A,M),S.return=g,S)}function c(g,A,M,S){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=G0(M,g.mode,S),A.return=g,A):(A=r(A,M.children||[]),A.return=g,A)}function h(g,A,M,S,C){return A===null||A.tag!==7?(A=gl(M,g.mode,S,C),A.return=g,A):(A=r(A,M),A.return=g,A)}function d(g,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=H0(""+A,g.mode,M),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case wp:return M=Km(A.type,A.key,A.props,null,g.mode,M),M.ref=xh(g,null,A),M.return=g,M;case Dc:return A=G0(A,g.mode,M),A.return=g,A;case Go:var S=A._init;return d(g,S(A._payload),M)}if(Hh(A)||ph(A))return A=gl(A,g.mode,M,null),A.return=g,A;Dp(g,A)}return null}function p(g,A,M,S){var C=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return C!==null?null:a(g,A,""+M,S);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case wp:return M.key===C?l(g,A,M,S):null;case Dc:return M.key===C?c(g,A,M,S):null;case Go:return C=M._init,p(g,A,C(M._payload),S)}if(Hh(M)||ph(M))return C!==null?null:h(g,A,M,S,null);Dp(g,M)}return null}function m(g,A,M,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(M)||null,a(A,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wp:return g=g.get(S.key===null?M:S.key)||null,l(A,g,S,C);case Dc:return g=g.get(S.key===null?M:S.key)||null,c(A,g,S,C);case Go:var P=S._init;return m(g,A,M,P(S._payload),C)}if(Hh(S)||ph(S))return g=g.get(M)||null,h(A,g,S,C,null);Dp(A,S)}return null}function y(g,A,M,S){for(var C=null,P=null,R=A,B=A=0,b=null;R!==null&&B<M.length;B++){R.index>B?(b=R,R=null):b=R.sibling;var I=p(g,R,M[B],S);if(I===null){R===null&&(R=b);break}n&&R&&I.alternate===null&&e(g,R),A=s(I,A,B),P===null?C=I:P.sibling=I,P=I,R=b}if(B===M.length)return t(g,R),rn&&Qa(g,B),C;if(R===null){for(;B<M.length;B++)R=d(g,M[B],S),R!==null&&(A=s(R,A,B),P===null?C=R:P.sibling=R,P=R);return rn&&Qa(g,B),C}for(R=i(g,R);B<M.length;B++)b=m(R,g,B,M[B],S),b!==null&&(n&&b.alternate!==null&&R.delete(b.key===null?B:b.key),A=s(b,A,B),P===null?C=b:P.sibling=b,P=b);return n&&R.forEach(function(J){return e(g,J)}),rn&&Qa(g,B),C}function _(g,A,M,S){var C=ph(M);if(typeof C!="function")throw Error(be(150));if(M=C.call(M),M==null)throw Error(be(151));for(var P=C=null,R=A,B=A=0,b=null,I=M.next();R!==null&&!I.done;B++,I=M.next()){R.index>B?(b=R,R=null):b=R.sibling;var J=p(g,R,I.value,S);if(J===null){R===null&&(R=b);break}n&&R&&J.alternate===null&&e(g,R),A=s(J,A,B),P===null?C=J:P.sibling=J,P=J,R=b}if(I.done)return t(g,R),rn&&Qa(g,B),C;if(R===null){for(;!I.done;B++,I=M.next())I=d(g,I.value,S),I!==null&&(A=s(I,A,B),P===null?C=I:P.sibling=I,P=I);return rn&&Qa(g,B),C}for(R=i(g,R);!I.done;B++,I=M.next())I=m(R,g,B,I.value,S),I!==null&&(n&&I.alternate!==null&&R.delete(I.key===null?B:I.key),A=s(I,A,B),P===null?C=I:P.sibling=I,P=I);return n&&R.forEach(function($){return e(g,$)}),rn&&Qa(g,B),C}function x(g,A,M,S){if(typeof M=="object"&&M!==null&&M.type===Fc&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case wp:e:{for(var C=M.key,P=A;P!==null;){if(P.key===C){if(C=M.type,C===Fc){if(P.tag===7){t(g,P.sibling),A=r(P,M.props.children),A.return=g,g=A;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Go&&AC(C)===P.type){t(g,P.sibling),A=r(P,M.props),A.ref=xh(g,P,M),A.return=g,g=A;break e}t(g,P);break}else e(g,P);P=P.sibling}M.type===Fc?(A=gl(M.props.children,g.mode,S,M.key),A.return=g,g=A):(S=Km(M.type,M.key,M.props,null,g.mode,S),S.ref=xh(g,A,M),S.return=g,g=S)}return o(g);case Dc:e:{for(P=M.key;A!==null;){if(A.key===P)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){t(g,A.sibling),A=r(A,M.children||[]),A.return=g,g=A;break e}else{t(g,A);break}else e(g,A);A=A.sibling}A=G0(M,g.mode,S),A.return=g,g=A}return o(g);case Go:return P=M._init,x(g,A,P(M._payload),S)}if(Hh(M))return y(g,A,M,S);if(ph(M))return _(g,A,M,S);Dp(g,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(t(g,A.sibling),A=r(A,M),A.return=g,g=A):(t(g,A),A=H0(M,g.mode,S),A.return=g,g=A),o(g)):t(g,A)}return x}var yu=GL(!0),VL=GL(!1),id={},As=Sa(id),Tf=Sa(id),bf=Sa(id);function al(n){if(n===id)throw Error(be(174));return n}function ZM(n,e){switch(Kt(bf,e),Kt(Tf,n),Kt(As,id),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=w_(e,n)}en(As),Kt(As,e)}function vu(){en(As),en(Tf),en(bf)}function WL(n){al(bf.current);var e=al(As.current),t=w_(e,n.type);e!==t&&(Kt(Tf,n),Kt(As,t))}function $M(n){Tf.current===n&&(en(As),en(Tf))}var un=Sa(0);function Sg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F0=[];function ew(){for(var n=0;n<F0.length;n++)F0[n]._workInProgressVersionPrimary=null;F0.length=0}var Wm=xo.ReactCurrentDispatcher,O0=xo.ReactCurrentBatchConfig,Sl=0,dn=null,kn=null,Xn=null,Eg=!1,Zh=!1,Pf=0,BU=0;function li(){throw Error(be(321))}function tw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!es(n[t],e[t]))return!1;return!0}function nw(n,e,t,i,r,s){if(Sl=s,dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wm.current=n===null||n.memoizedState===null?OU:NU,n=t(i,r),Zh){s=0;do{if(Zh=!1,Pf=0,25<=s)throw Error(be(301));s+=1,Xn=kn=null,e.updateQueue=null,Wm.current=kU,n=t(i,r)}while(Zh)}if(Wm.current=Cg,e=kn!==null&&kn.next!==null,Sl=0,Xn=kn=dn=null,Eg=!1,e)throw Error(be(300));return n}function iw(){var n=Pf!==0;return Pf=0,n}function gs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?dn.memoizedState=Xn=n:Xn=Xn.next=n,Xn}function Rr(){if(kn===null){var n=dn.alternate;n=n!==null?n.memoizedState:null}else n=kn.next;var e=Xn===null?dn.memoizedState:Xn.next;if(e!==null)Xn=e,kn=n;else{if(n===null)throw Error(be(310));kn=n,n={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Xn===null?dn.memoizedState=Xn=n:Xn=Xn.next=n}return Xn}function Rf(n,e){return typeof e=="function"?e(n):e}function N0(n){var e=Rr(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var i=kn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Sl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,dn.lanes|=h,El|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,es(i,e.memoizedState)||(Ui=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,dn.lanes|=s,El|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function k0(n){var e=Rr(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);es(s,e.memoizedState)||(Ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function jL(){}function XL(n,e){var t=dn,i=Rr(),r=e(),s=!es(i.memoizedState,r);if(s&&(i.memoizedState=r,Ui=!0),i=i.queue,rw(KL.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Xn!==null&&Xn.memoizedState.tag&1){if(t.flags|=2048,Lf(9,YL.bind(null,t,i,r,e),void 0,null),Yn===null)throw Error(be(349));Sl&30||JL(t,e,r)}return r}function JL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function YL(n,e,t,i){e.value=t,e.getSnapshot=i,QL(e)&&qL(n)}function KL(n,e,t){return t(function(){QL(e)&&qL(n)})}function QL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!es(n,t)}catch{return!0}}function qL(n){var e=po(n,1);e!==null&&Yr(e,n,1,-1)}function MC(n){var e=gs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:n},e.queue=n,n=n.dispatch=FU.bind(null,dn,n),[e.memoizedState,n]}function Lf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function ZL(){return Rr().memoizedState}function jm(n,e,t,i){var r=gs();dn.flags|=n,r.memoizedState=Lf(1|e,t,void 0,i===void 0?null:i)}function uy(n,e,t,i){var r=Rr();i=i===void 0?null:i;var s=void 0;if(kn!==null){var o=kn.memoizedState;if(s=o.destroy,i!==null&&tw(i,o.deps)){r.memoizedState=Lf(e,t,s,i);return}}dn.flags|=n,r.memoizedState=Lf(1|e,t,s,i)}function wC(n,e){return jm(8390656,8,n,e)}function rw(n,e){return uy(2048,8,n,e)}function $L(n,e){return uy(4,2,n,e)}function eB(n,e){return uy(4,4,n,e)}function tB(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function nB(n,e,t){return t=t!=null?t.concat([n]):null,uy(4,4,tB.bind(null,e,n),t)}function sw(){}function iB(n,e){var t=Rr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&tw(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function rB(n,e){var t=Rr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&tw(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function sB(n,e,t){return Sl&21?(es(t,e)||(t=lL(),dn.lanes|=t,El|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ui=!0),n.memoizedState=t)}function IU(n,e){var t=Ht;Ht=t!==0&&4>t?t:4,n(!0);var i=O0.transition;O0.transition={};try{n(!1),e()}finally{Ht=t,O0.transition=i}}function oB(){return Rr().memoizedState}function DU(n,e,t){var i=ra(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},aB(n))lB(e,t);else if(t=kL(n,e,t,i),t!==null){var r=Ei();Yr(t,n,i,r),cB(t,e,i)}}function FU(n,e,t){var i=ra(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(aB(n))lB(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,es(a,o)){var l=e.interleaved;l===null?(r.next=r,QM(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=kL(n,e,r,i),t!==null&&(r=Ei(),Yr(t,n,i,r),cB(t,e,i))}}function aB(n){var e=n.alternate;return n===dn||e!==null&&e===dn}function lB(n,e){Zh=Eg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function cB(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,OM(n,t)}}var Cg={readContext:Pr,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},OU={readContext:Pr,useCallback:function(n,e){return gs().memoizedState=[n,e===void 0?null:e],n},useContext:Pr,useEffect:wC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,jm(4194308,4,tB.bind(null,e,n),t)},useLayoutEffect:function(n,e){return jm(4194308,4,n,e)},useInsertionEffect:function(n,e){return jm(4,2,n,e)},useMemo:function(n,e){var t=gs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=gs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=DU.bind(null,dn,n),[i.memoizedState,n]},useRef:function(n){var e=gs();return n={current:n},e.memoizedState=n},useState:MC,useDebugValue:sw,useDeferredValue:function(n){return gs().memoizedState=n},useTransition:function(){var n=MC(!1),e=n[0];return n=IU.bind(null,n[1]),gs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=dn,r=gs();if(rn){if(t===void 0)throw Error(be(407));t=t()}else{if(t=e(),Yn===null)throw Error(be(349));Sl&30||JL(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,wC(KL.bind(null,i,s,n),[n]),i.flags|=2048,Lf(9,YL.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=gs(),e=Yn.identifierPrefix;if(rn){var t=no,i=to;t=(i&~(1<<32-Jr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Pf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=BU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},NU={readContext:Pr,useCallback:iB,useContext:Pr,useEffect:rw,useImperativeHandle:nB,useInsertionEffect:$L,useLayoutEffect:eB,useMemo:rB,useReducer:N0,useRef:ZL,useState:function(){return N0(Rf)},useDebugValue:sw,useDeferredValue:function(n){var e=Rr();return sB(e,kn.memoizedState,n)},useTransition:function(){var n=N0(Rf)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:jL,useSyncExternalStore:XL,useId:oB,unstable_isNewReconciler:!1},kU={readContext:Pr,useCallback:iB,useContext:Pr,useEffect:rw,useImperativeHandle:nB,useInsertionEffect:$L,useLayoutEffect:eB,useMemo:rB,useReducer:k0,useRef:ZL,useState:function(){return k0(Rf)},useDebugValue:sw,useDeferredValue:function(n){var e=Rr();return kn===null?e.memoizedState=n:sB(e,kn.memoizedState,n)},useTransition:function(){var n=k0(Rf)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:jL,useSyncExternalStore:XL,useId:oB,unstable_isNewReconciler:!1};function xu(n,e){try{var t="",i=e;do t+=fk(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function U0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function X_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var UU=typeof WeakMap=="function"?WeakMap:Map;function uB(n,e,t){t=oo(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){bg||(bg=!0,nA=i),X_(n,e)},t}function hB(n,e,t){t=oo(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){X_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){X_(n,e),typeof i!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function SC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new UU;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=$U.bind(null,n,e,t),e.then(n,n))}function EC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function CC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=oo(-1,1),e.tag=2,na(t,e,1))),t.lanes|=1),n)}var zU=xo.ReactCurrentOwner,Ui=!1;function Si(n,e,t,i){e.child=n===null?VL(e,null,t,i):yu(e,n.child,t,i)}function TC(n,e,t,i,r){t=t.render;var s=e.ref;return au(e,r),i=nw(n,e,t,i,s,r),t=iw(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,mo(n,e,r)):(rn&&t&&WM(e),e.flags|=1,Si(n,e,i,r),e.child)}function bC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!dw(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,fB(n,e,s,i,r)):(n=Km(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:wf,t(o,i)&&n.ref===e.ref)return mo(n,e,r)}return e.flags|=1,n=sa(s,i),n.ref=e.ref,n.return=e,e.child=n}function fB(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(wf(s,i)&&n.ref===e.ref)if(Ui=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ui=!0);else return e.lanes=n.lanes,mo(n,e,r)}return J_(n,e,t,i,r)}function dB(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(jc,Zi),Zi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Kt(jc,Zi),Zi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Kt(jc,Zi),Zi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Kt(jc,Zi),Zi|=i;return Si(n,e,r,t),e.child}function pB(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function J_(n,e,t,i,r){var s=Hi(t)?Ml:mi.current;return s=mu(e,s),au(e,r),t=nw(n,e,t,i,s,r),i=iw(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,mo(n,e,r)):(rn&&i&&WM(e),e.flags|=1,Si(n,e,t,r),e.child)}function PC(n,e,t,i,r){if(Hi(t)){var s=!0;vg(e)}else s=!1;if(au(e,r),e.stateNode===null)Xm(n,e),HL(e,t,i),j_(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Pr(c):(c=Hi(t)?Ml:mi.current,c=mu(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&_C(e,o,i,c),Vo=!1;var p=e.memoizedState;o.state=p,wg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||zi.current||Vo?(typeof h=="function"&&(W_(e,t,h,i),l=e.memoizedState),(a=Vo||xC(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,UL(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hr(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Pr(l):(l=Hi(t)?Ml:mi.current,l=mu(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&_C(e,o,i,l),Vo=!1,p=e.memoizedState,o.state=p,wg(e,i,o,r);var y=e.memoizedState;a!==d||p!==y||zi.current||Vo?(typeof m=="function"&&(W_(e,t,m,i),y=e.memoizedState),(c=Vo||xC(e,t,c,i,p,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Y_(n,e,t,i,s,r)}function Y_(n,e,t,i,r,s){pB(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&pC(e,t,!1),mo(n,e,s);i=e.stateNode,zU.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=yu(e,n.child,null,s),e.child=yu(e,null,a,s)):Si(n,e,a,s),e.memoizedState=i.state,r&&pC(e,t,!0),e.child}function mB(n){var e=n.stateNode;e.pendingContext?dC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&dC(n,e.context,!1),ZM(n,e.containerInfo)}function RC(n,e,t,i,r){return gu(),XM(r),e.flags|=256,Si(n,e,t,i),e.child}var K_={dehydrated:null,treeContext:null,retryLane:0};function Q_(n){return{baseLanes:n,cachePool:null,transitions:null}}function gB(n,e,t){var i=e.pendingProps,r=un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Kt(un,r&1),n===null)return G_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dy(o,i,0,null),n=gl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Q_(t),e.memoizedState=K_,n):ow(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return HU(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=sa(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=sa(a,s):(s=gl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Q_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=K_,i}return s=n.child,n=s.sibling,i=sa(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function ow(n,e){return e=dy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Fp(n,e,t,i){return i!==null&&XM(i),yu(e,n.child,null,t),n=ow(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function HU(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=U0(Error(be(422))),Fp(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=dy({mode:"visible",children:i.children},r,0,null),s=gl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&yu(e,n.child,null,o),e.child.memoizedState=Q_(o),e.memoizedState=K_,s);if(!(e.mode&1))return Fp(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(be(419)),i=U0(s,i,void 0),Fp(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ui||a){if(i=Yn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,po(n,r),Yr(i,n,r,-1))}return fw(),i=U0(Error(be(421))),Fp(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=e3.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,$i=ta(r.nextSibling),tr=e,rn=!0,Wr=null,n!==null&&(Sr[Er++]=to,Sr[Er++]=no,Sr[Er++]=wl,to=n.id,no=n.overflow,wl=e),e=ow(e,i.children),e.flags|=4096,e)}function LC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),V_(n.return,e,t)}function z0(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function yB(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Si(n,e,i.children,t),i=un.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&LC(n,t,e);else if(n.tag===19)LC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Kt(un,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Sg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),z0(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Sg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}z0(e,!0,t,null,s);break;case"together":z0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function mo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),El|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(be(153));if(e.child!==null){for(n=e.child,t=sa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=sa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function GU(n,e,t){switch(e.tag){case 3:mB(e),gu();break;case 5:WL(e);break;case 1:Hi(e.type)&&vg(e);break;case 4:ZM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Kt(Ag,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Kt(un,un.current&1),e.flags|=128,null):t&e.child.childLanes?gB(n,e,t):(Kt(un,un.current&1),n=mo(n,e,t),n!==null?n.sibling:null);Kt(un,un.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return yB(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Kt(un,un.current),i)break;return null;case 22:case 23:return e.lanes=0,dB(n,e,t)}return mo(n,e,t)}var vB,q_,xB,_B;vB=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};q_=function(){};xB=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,al(As.current);var s=null;switch(t){case"input":r=x_(n,r),i=x_(n,i),s=[];break;case"select":r=pn({},r,{value:void 0}),i=pn({},i,{value:void 0}),s=[];break;case"textarea":r=M_(n,r),i=M_(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=gg)}S_(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Zt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};_B=function(n,e,t,i){t!==i&&(e.flags|=4)};function _h(n,e){if(!rn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ci(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function VU(n,e,t){var i=e.pendingProps;switch(jM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(e),null;case 1:return Hi(e.type)&&yg(),ci(e),null;case 3:return i=e.stateNode,vu(),en(zi),en(mi),ew(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ip(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wr!==null&&(sA(Wr),Wr=null))),q_(n,e),ci(e),null;case 5:$M(e);var r=al(bf.current);if(t=e.type,n!==null&&e.stateNode!=null)xB(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(be(166));return ci(e),null}if(n=al(As.current),Ip(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ys]=e,i[Cf]=s,n=(e.mode&1)!==0,t){case"dialog":Zt("cancel",i),Zt("close",i);break;case"iframe":case"object":case"embed":Zt("load",i);break;case"video":case"audio":for(r=0;r<Vh.length;r++)Zt(Vh[r],i);break;case"source":Zt("error",i);break;case"img":case"image":case"link":Zt("error",i),Zt("load",i);break;case"details":Zt("toggle",i);break;case"input":zE(i,s),Zt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",i);break;case"textarea":GE(i,s),Zt("invalid",i)}S_(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bp(i.textContent,a,n),r=["children",""+a]):gf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Zt("scroll",i)}switch(t){case"input":Sp(i),HE(i,s,!0);break;case"textarea":Sp(i),VE(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=gg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=JR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ys]=e,n[Cf]=i,vB(n,e,!1,!1),e.stateNode=n;e:{switch(o=E_(t,i),t){case"dialog":Zt("cancel",n),Zt("close",n),r=i;break;case"iframe":case"object":case"embed":Zt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Vh.length;r++)Zt(Vh[r],n);r=i;break;case"source":Zt("error",n),r=i;break;case"img":case"image":case"link":Zt("error",n),Zt("load",n),r=i;break;case"details":Zt("toggle",n),r=i;break;case"input":zE(n,i),r=x_(n,i),Zt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=pn({},i,{value:void 0}),Zt("invalid",n);break;case"textarea":GE(n,i),r=M_(n,i),Zt("invalid",n);break;default:r=i}S_(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?QR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YR(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&yf(n,l):typeof l=="number"&&yf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",n):l!=null&&RM(n,s,l,o))}switch(t){case"input":Sp(n),HE(n,i,!1);break;case"textarea":Sp(n),VE(n);break;case"option":i.value!=null&&n.setAttribute("value",""+pa(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?iu(n,!!i.multiple,s,!1):i.defaultValue!=null&&iu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=gg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ci(e),null;case 6:if(n&&e.stateNode!=null)_B(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(be(166));if(t=al(bf.current),al(As.current),Ip(e)){if(i=e.stateNode,t=e.memoizedProps,i[ys]=e,(s=i.nodeValue!==t)&&(n=tr,n!==null))switch(n.tag){case 3:Bp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Bp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ys]=e,e.stateNode=i}return ci(e),null;case 13:if(en(un),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rn&&$i!==null&&e.mode&1&&!(e.flags&128))NL(),gu(),e.flags|=98560,s=!1;else if(s=Ip(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[ys]=e}else gu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ci(e),s=!1}else Wr!==null&&(sA(Wr),Wr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||un.current&1?Un===0&&(Un=3):fw())),e.updateQueue!==null&&(e.flags|=4),ci(e),null);case 4:return vu(),q_(n,e),n===null&&Sf(e.stateNode.containerInfo),ci(e),null;case 10:return KM(e.type._context),ci(e),null;case 17:return Hi(e.type)&&yg(),ci(e),null;case 19:if(en(un),s=e.memoizedState,s===null)return ci(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)_h(s,!1);else{if(Un!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Sg(n),o!==null){for(e.flags|=128,_h(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Kt(un,un.current&1|2),e.child}n=n.sibling}s.tail!==null&&Cn()>_u&&(e.flags|=128,i=!0,_h(s,!1),e.lanes=4194304)}else{if(!i)if(n=Sg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_h(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rn)return ci(e),null}else 2*Cn()-s.renderingStartTime>_u&&t!==1073741824&&(e.flags|=128,i=!0,_h(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Cn(),e.sibling=null,t=un.current,Kt(un,i?t&1|2:t&1),e):(ci(e),null);case 22:case 23:return hw(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Zi&1073741824&&(ci(e),e.subtreeFlags&6&&(e.flags|=8192)):ci(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function WU(n,e){switch(jM(e),e.tag){case 1:return Hi(e.type)&&yg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return vu(),en(zi),en(mi),ew(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return $M(e),null;case 13:if(en(un),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(be(340));gu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return en(un),null;case 4:return vu(),null;case 10:return KM(e.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var Op=!1,di=!1,jU=typeof WeakSet=="function"?WeakSet:Set,je=null;function Wc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){_n(n,e,i)}else t.current=null}function Z_(n,e,t){try{t()}catch(i){_n(n,e,i)}}var BC=!1;function XU(n,e){if(F_=dg,n=SL(),VM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(O_={focusedElem:n,selectionRange:t},dg=!1,je=e;je!==null;)if(e=je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,je=n;else for(;je!==null;){e=je;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,g=e.stateNode,A=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Hr(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(S){_n(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}return y=BC,BC=!1,y}function $h(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Z_(e,t,s)}r=r.next}while(r!==i)}}function hy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function $_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function AB(n){var e=n.alternate;e!==null&&(n.alternate=null,AB(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ys],delete e[Cf],delete e[U_],delete e[bU],delete e[PU])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function MB(n){return n.tag===5||n.tag===3||n.tag===4}function IC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||MB(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function eA(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=gg));else if(i!==4&&(n=n.child,n!==null))for(eA(n,e,t),n=n.sibling;n!==null;)eA(n,e,t),n=n.sibling}function tA(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(tA(n,e,t),n=n.sibling;n!==null;)tA(n,e,t),n=n.sibling}var Zn=null,Vr=!1;function Ro(n,e,t){for(t=t.child;t!==null;)wB(n,e,t),t=t.sibling}function wB(n,e,t){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(iy,t)}catch{}switch(t.tag){case 5:di||Wc(t,e);case 6:var i=Zn,r=Vr;Zn=null,Ro(n,e,t),Zn=i,Vr=r,Zn!==null&&(Vr?(n=Zn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Zn.removeChild(t.stateNode));break;case 18:Zn!==null&&(Vr?(n=Zn,t=t.stateNode,n.nodeType===8?I0(n.parentNode,t):n.nodeType===1&&I0(n,t),Af(n)):I0(Zn,t.stateNode));break;case 4:i=Zn,r=Vr,Zn=t.stateNode.containerInfo,Vr=!0,Ro(n,e,t),Zn=i,Vr=r;break;case 0:case 11:case 14:case 15:if(!di&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Z_(t,e,o),r=r.next}while(r!==i)}Ro(n,e,t);break;case 1:if(!di&&(Wc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){_n(t,e,a)}Ro(n,e,t);break;case 21:Ro(n,e,t);break;case 22:t.mode&1?(di=(i=di)||t.memoizedState!==null,Ro(n,e,t),di=i):Ro(n,e,t);break;default:Ro(n,e,t)}}function DC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new jU),e.forEach(function(i){var r=t3.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Nr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zn=a.stateNode,Vr=!1;break e;case 3:Zn=a.stateNode.containerInfo,Vr=!0;break e;case 4:Zn=a.stateNode.containerInfo,Vr=!0;break e}a=a.return}if(Zn===null)throw Error(be(160));wB(s,o,r),Zn=null,Vr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){_n(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SB(e,n),e=e.sibling}function SB(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Nr(e,n),ms(n),i&4){try{$h(3,n,n.return),hy(3,n)}catch(_){_n(n,n.return,_)}try{$h(5,n,n.return)}catch(_){_n(n,n.return,_)}}break;case 1:Nr(e,n),ms(n),i&512&&t!==null&&Wc(t,t.return);break;case 5:if(Nr(e,n),ms(n),i&512&&t!==null&&Wc(t,t.return),n.flags&32){var r=n.stateNode;try{yf(r,"")}catch(_){_n(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jR(r,s),E_(a,o);var c=E_(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?QR(r,d):h==="dangerouslySetInnerHTML"?YR(r,d):h==="children"?yf(r,d):RM(r,h,d,c)}switch(a){case"input":__(r,s);break;case"textarea":XR(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?iu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?iu(r,!!s.multiple,s.defaultValue,!0):iu(r,!!s.multiple,s.multiple?[]:"",!1))}r[Cf]=s}catch(_){_n(n,n.return,_)}}break;case 6:if(Nr(e,n),ms(n),i&4){if(n.stateNode===null)throw Error(be(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(_){_n(n,n.return,_)}}break;case 3:if(Nr(e,n),ms(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Af(e.containerInfo)}catch(_){_n(n,n.return,_)}break;case 4:Nr(e,n),ms(n);break;case 13:Nr(e,n),ms(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(cw=Cn())),i&4&&DC(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(di=(c=di)||h,Nr(e,n),di=c):Nr(e,n),ms(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(je=n,h=n.child;h!==null;){for(d=je=h;je!==null;){switch(p=je,m=p.child,p.tag){case 0:case 11:case 14:case 15:$h(4,p,p.return);break;case 1:Wc(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){_n(i,t,_)}}break;case 5:Wc(p,p.return);break;case 22:if(p.memoizedState!==null){OC(d);continue}}m!==null?(m.return=p,je=m):OC(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KR("display",o))}catch(_){_n(n,n.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){_n(n,n.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nr(e,n),ms(n),i&4&&DC(n);break;case 21:break;default:Nr(e,n),ms(n)}}function ms(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(MB(t)){var i=t;break e}t=t.return}throw Error(be(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(yf(r,""),i.flags&=-33);var s=IC(n);tA(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=IC(n);eA(n,a,o);break;default:throw Error(be(161))}}catch(l){_n(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function JU(n,e,t){je=n,EB(n)}function EB(n,e,t){for(var i=(n.mode&1)!==0;je!==null;){var r=je,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Op;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||di;a=Op;var c=di;if(Op=o,(di=l)&&!c)for(je=r;je!==null;)o=je,l=o.child,o.tag===22&&o.memoizedState!==null?NC(r):l!==null?(l.return=o,je=l):NC(r);for(;s!==null;)je=s,EB(s),s=s.sibling;je=r,Op=a,di=c}FC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,je=s):FC(n)}}function FC(n){for(;je!==null;){var e=je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:di||hy(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!di)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Hr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}vC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Af(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}di||e.flags&512&&$_(e)}catch(p){_n(e,e.return,p)}}if(e===n){je=null;break}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}}function OC(n){for(;je!==null;){var e=je;if(e===n){je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,je=t;break}je=e.return}}function NC(n){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{hy(4,e)}catch(l){_n(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){_n(e,r,l)}}var s=e.return;try{$_(e)}catch(l){_n(e,s,l)}break;case 5:var o=e.return;try{$_(e)}catch(l){_n(e,o,l)}}}catch(l){_n(e,e.return,l)}if(e===n){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var YU=Math.ceil,Tg=xo.ReactCurrentDispatcher,aw=xo.ReactCurrentOwner,br=xo.ReactCurrentBatchConfig,Bt=0,Yn=null,In=null,ei=0,Zi=0,jc=Sa(0),Un=0,Bf=null,El=0,fy=0,lw=0,ef=null,Fi=null,cw=0,_u=1/0,Qs=null,bg=!1,nA=null,ia=null,Np=!1,Qo=null,Pg=0,tf=0,iA=null,Jm=-1,Ym=0;function Ei(){return Bt&6?Cn():Jm!==-1?Jm:Jm=Cn()}function ra(n){return n.mode&1?Bt&2&&ei!==0?ei&-ei:LU.transition!==null?(Ym===0&&(Ym=lL()),Ym):(n=Ht,n!==0||(n=window.event,n=n===void 0?16:mL(n.type)),n):1}function Yr(n,e,t,i){if(50<tf)throw tf=0,iA=null,Error(be(185));ed(n,t,i),(!(Bt&2)||n!==Yn)&&(n===Yn&&(!(Bt&2)&&(fy|=t),Un===4&&Yo(n,ei)),Gi(n,i),t===1&&Bt===0&&!(e.mode&1)&&(_u=Cn()+500,ly&&Ea()))}function Gi(n,e){var t=n.callbackNode;Lk(n,e);var i=fg(n,n===Yn?ei:0);if(i===0)t!==null&&XE(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&XE(t),e===1)n.tag===0?RU(kC.bind(null,n)):DL(kC.bind(null,n)),CU(function(){!(Bt&6)&&Ea()}),t=null;else{switch(cL(i)){case 1:t=FM;break;case 4:t=oL;break;case 16:t=hg;break;case 536870912:t=aL;break;default:t=hg}t=IB(t,CB.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function CB(n,e){if(Jm=-1,Ym=0,Bt&6)throw Error(be(327));var t=n.callbackNode;if(lu()&&n.callbackNode!==t)return null;var i=fg(n,n===Yn?ei:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Rg(n,i);else{e=i;var r=Bt;Bt|=2;var s=bB();(Yn!==n||ei!==e)&&(Qs=null,_u=Cn()+500,ml(n,e));do try{qU();break}catch(a){TB(n,a)}while(1);YM(),Tg.current=s,Bt=r,In!==null?e=0:(Yn=null,ei=0,e=Un)}if(e!==0){if(e===2&&(r=R_(n),r!==0&&(i=r,e=rA(n,r))),e===1)throw t=Bf,ml(n,0),Yo(n,i),Gi(n,Cn()),t;if(e===6)Yo(n,i);else{if(r=n.current.alternate,!(i&30)&&!KU(r)&&(e=Rg(n,i),e===2&&(s=R_(n),s!==0&&(i=s,e=rA(n,s))),e===1))throw t=Bf,ml(n,0),Yo(n,i),Gi(n,Cn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(be(345));case 2:qa(n,Fi,Qs);break;case 3:if(Yo(n,i),(i&130023424)===i&&(e=cw+500-Cn(),10<e)){if(fg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Ei(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=k_(qa.bind(null,n,Fi,Qs),e);break}qa(n,Fi,Qs);break;case 4:if(Yo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Jr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Cn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*YU(i/1960))-i,10<i){n.timeoutHandle=k_(qa.bind(null,n,Fi,Qs),i);break}qa(n,Fi,Qs);break;case 5:qa(n,Fi,Qs);break;default:throw Error(be(329))}}}return Gi(n,Cn()),n.callbackNode===t?CB.bind(null,n):null}function rA(n,e){var t=ef;return n.current.memoizedState.isDehydrated&&(ml(n,e).flags|=256),n=Rg(n,e),n!==2&&(e=Fi,Fi=t,e!==null&&sA(e)),n}function sA(n){Fi===null?Fi=n:Fi.push.apply(Fi,n)}function KU(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!es(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yo(n,e){for(e&=~lw,e&=~fy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Jr(e),i=1<<t;n[t]=-1,e&=~i}}function kC(n){if(Bt&6)throw Error(be(327));lu();var e=fg(n,0);if(!(e&1))return Gi(n,Cn()),null;var t=Rg(n,e);if(n.tag!==0&&t===2){var i=R_(n);i!==0&&(e=i,t=rA(n,i))}if(t===1)throw t=Bf,ml(n,0),Yo(n,e),Gi(n,Cn()),t;if(t===6)throw Error(be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,qa(n,Fi,Qs),Gi(n,Cn()),null}function uw(n,e){var t=Bt;Bt|=1;try{return n(e)}finally{Bt=t,Bt===0&&(_u=Cn()+500,ly&&Ea())}}function Cl(n){Qo!==null&&Qo.tag===0&&!(Bt&6)&&lu();var e=Bt;Bt|=1;var t=br.transition,i=Ht;try{if(br.transition=null,Ht=1,n)return n()}finally{Ht=i,br.transition=t,Bt=e,!(Bt&6)&&Ea()}}function hw(){Zi=jc.current,en(jc)}function ml(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,EU(t)),In!==null)for(t=In.return;t!==null;){var i=t;switch(jM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yg();break;case 3:vu(),en(zi),en(mi),ew();break;case 5:$M(i);break;case 4:vu();break;case 13:en(un);break;case 19:en(un);break;case 10:KM(i.type._context);break;case 22:case 23:hw()}t=t.return}if(Yn=n,In=n=sa(n.current,null),ei=Zi=e,Un=0,Bf=null,lw=fy=El=0,Fi=ef=null,ol!==null){for(e=0;e<ol.length;e++)if(t=ol[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}ol=null}return n}function TB(n,e){do{var t=In;try{if(YM(),Wm.current=Cg,Eg){for(var i=dn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Eg=!1}if(Sl=0,Xn=kn=dn=null,Zh=!1,Pf=0,aw.current=null,t===null||t.return===null){Un=1,Bf=e,In=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ei,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=EC(o);if(m!==null){m.flags&=-257,CC(m,o,a,s,e),m.mode&1&&SC(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){SC(s,c,e),fw();break e}l=Error(be(426))}}else if(rn&&a.mode&1){var x=EC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),CC(x,o,a,s,e),XM(xu(l,a));break e}}s=l=xu(l,a),Un!==4&&(Un=2),ef===null?ef=[s]:ef.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=uB(s,l,e);yC(s,g);break e;case 1:a=l;var A=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ia===null||!ia.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=hB(s,a,e);yC(s,S);break e}}s=s.return}while(s!==null)}RB(t)}catch(C){e=C,In===t&&t!==null&&(In=t=t.return);continue}break}while(1)}function bB(){var n=Tg.current;return Tg.current=Cg,n===null?Cg:n}function fw(){(Un===0||Un===3||Un===2)&&(Un=4),Yn===null||!(El&268435455)&&!(fy&268435455)||Yo(Yn,ei)}function Rg(n,e){var t=Bt;Bt|=2;var i=bB();(Yn!==n||ei!==e)&&(Qs=null,ml(n,e));do try{QU();break}catch(r){TB(n,r)}while(1);if(YM(),Bt=t,Tg.current=i,In!==null)throw Error(be(261));return Yn=null,ei=0,Un}function QU(){for(;In!==null;)PB(In)}function qU(){for(;In!==null&&!Mk();)PB(In)}function PB(n){var e=BB(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,e===null?RB(n):In=e,aw.current=null}function RB(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=WU(t,e),t!==null){t.flags&=32767,In=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Un=6,In=null;return}}else if(t=VU(t,e,Zi),t!==null){In=t;return}if(e=e.sibling,e!==null){In=e;return}In=e=n}while(e!==null);Un===0&&(Un=5)}function qa(n,e,t){var i=Ht,r=br.transition;try{br.transition=null,Ht=1,ZU(n,e,t,i)}finally{br.transition=r,Ht=i}return null}function ZU(n,e,t,i){do lu();while(Qo!==null);if(Bt&6)throw Error(be(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Bk(n,s),n===Yn&&(In=Yn=null,ei=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Np||(Np=!0,IB(hg,function(){return lu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=br.transition,br.transition=null;var o=Ht;Ht=1;var a=Bt;Bt|=4,aw.current=null,XU(n,t),SB(t,n),vU(O_),dg=!!F_,O_=F_=null,n.current=t,JU(t),wk(),Bt=a,Ht=o,br.transition=s}else n.current=t;if(Np&&(Np=!1,Qo=n,Pg=r),s=n.pendingLanes,s===0&&(ia=null),Ck(t.stateNode),Gi(n,Cn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(bg)throw bg=!1,n=nA,nA=null,n;return Pg&1&&n.tag!==0&&lu(),s=n.pendingLanes,s&1?n===iA?tf++:(tf=0,iA=n):tf=0,Ea(),null}function lu(){if(Qo!==null){var n=cL(Pg),e=br.transition,t=Ht;try{if(br.transition=null,Ht=16>n?16:n,Qo===null)var i=!1;else{if(n=Qo,Qo=null,Pg=0,Bt&6)throw Error(be(331));var r=Bt;for(Bt|=4,je=n.current;je!==null;){var s=je,o=s.child;if(je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(je=c;je!==null;){var h=je;switch(h.tag){case 0:case 11:case 15:$h(8,h,s)}var d=h.child;if(d!==null)d.return=h,je=d;else for(;je!==null;){h=je;var p=h.sibling,m=h.return;if(AB(h),h===c){je=null;break}if(p!==null){p.return=m,je=p;break}je=m}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,je=o;else e:for(;je!==null;){if(s=je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$h(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,je=g;break e}je=s.return}}var A=n.current;for(je=A;je!==null;){o=je;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,je=M;else e:for(o=A;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hy(9,a)}}catch(C){_n(a,a.return,C)}if(a===o){je=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,je=S;break e}je=a.return}}if(Bt=r,Ea(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(iy,n)}catch{}i=!0}return i}finally{Ht=t,br.transition=e}}return!1}function UC(n,e,t){e=xu(t,e),e=uB(n,e,1),n=na(n,e,1),e=Ei(),n!==null&&(ed(n,1,e),Gi(n,e))}function _n(n,e,t){if(n.tag===3)UC(n,n,t);else for(;e!==null;){if(e.tag===3){UC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ia===null||!ia.has(i))){n=xu(t,n),n=hB(e,n,1),e=na(e,n,1),n=Ei(),e!==null&&(ed(e,1,n),Gi(e,n));break}}e=e.return}}function $U(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Ei(),n.pingedLanes|=n.suspendedLanes&t,Yn===n&&(ei&t)===t&&(Un===4||Un===3&&(ei&130023424)===ei&&500>Cn()-cw?ml(n,0):lw|=t),Gi(n,e)}function LB(n,e){e===0&&(n.mode&1?(e=Tp,Tp<<=1,!(Tp&130023424)&&(Tp=4194304)):e=1);var t=Ei();n=po(n,e),n!==null&&(ed(n,e,t),Gi(n,t))}function e3(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),LB(n,t)}function t3(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(be(314))}i!==null&&i.delete(e),LB(n,t)}var BB;BB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||zi.current)Ui=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ui=!1,GU(n,e,t);Ui=!!(n.flags&131072)}else Ui=!1,rn&&e.flags&1048576&&FL(e,_g,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Xm(n,e),n=e.pendingProps;var r=mu(e,mi.current);au(e,t),r=nw(null,e,i,n,r,t);var s=iw();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hi(i)?(s=!0,vg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,qM(e),r.updater=cy,e.stateNode=r,r._reactInternals=e,j_(e,i,n,t),e=Y_(null,e,i,!0,s,t)):(e.tag=0,rn&&s&&WM(e),Si(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Xm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=i3(i),n=Hr(i,n),r){case 0:e=J_(null,e,i,n,t);break e;case 1:e=PC(null,e,i,n,t);break e;case 11:e=TC(null,e,i,n,t);break e;case 14:e=bC(null,e,i,Hr(i.type,n),t);break e}throw Error(be(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),J_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),PC(n,e,i,r,t);case 3:e:{if(mB(e),n===null)throw Error(be(387));i=e.pendingProps,s=e.memoizedState,r=s.element,UL(n,e),wg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=xu(Error(be(423)),e),e=RC(n,e,i,t,r);break e}else if(i!==r){r=xu(Error(be(424)),e),e=RC(n,e,i,t,r);break e}else for($i=ta(e.stateNode.containerInfo.firstChild),tr=e,rn=!0,Wr=null,t=VL(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(gu(),i===r){e=mo(n,e,t);break e}Si(n,e,i,t)}e=e.child}return e;case 5:return WL(e),n===null&&G_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,N_(i,r)?o=null:s!==null&&N_(i,s)&&(e.flags|=32),pB(n,e),Si(n,e,o,t),e.child;case 6:return n===null&&G_(e),null;case 13:return gB(n,e,t);case 4:return ZM(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=yu(e,null,i,t):Si(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),TC(n,e,i,r,t);case 7:return Si(n,e,e.pendingProps,t),e.child;case 8:return Si(n,e,e.pendingProps.children,t),e.child;case 12:return Si(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Kt(Ag,i._currentValue),i._currentValue=o,s!==null)if(es(s.value,o)){if(s.children===r.children&&!zi.current){e=mo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=oo(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),V_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),V_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Si(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,au(e,t),r=Pr(r),i=i(r),e.flags|=1,Si(n,e,i,t),e.child;case 14:return i=e.type,r=Hr(i,e.pendingProps),r=Hr(i.type,r),bC(n,e,i,r,t);case 15:return fB(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),Xm(n,e),e.tag=1,Hi(i)?(n=!0,vg(e)):n=!1,au(e,t),HL(e,i,r),j_(e,i,r,t),Y_(null,e,i,!0,n,t);case 19:return yB(n,e,t);case 22:return dB(n,e,t)}throw Error(be(156,e.tag))};function IB(n,e){return sL(n,e)}function n3(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(n,e,t,i){return new n3(n,e,t,i)}function dw(n){return n=n.prototype,!(!n||!n.isReactComponent)}function i3(n){if(typeof n=="function")return dw(n)?1:0;if(n!=null){if(n=n.$$typeof,n===BM)return 11;if(n===IM)return 14}return 2}function sa(n,e){var t=n.alternate;return t===null?(t=Tr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Km(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")dw(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Fc:return gl(t.children,r,s,e);case LM:o=8,r|=8;break;case m_:return n=Tr(12,t,e,r|2),n.elementType=m_,n.lanes=s,n;case g_:return n=Tr(13,t,e,r),n.elementType=g_,n.lanes=s,n;case y_:return n=Tr(19,t,e,r),n.elementType=y_,n.lanes=s,n;case GR:return dy(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case zR:o=10;break e;case HR:o=9;break e;case BM:o=11;break e;case IM:o=14;break e;case Go:o=16,i=null;break e}throw Error(be(130,n==null?n:typeof n,""))}return e=Tr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function gl(n,e,t,i){return n=Tr(7,n,i,e),n.lanes=t,n}function dy(n,e,t,i){return n=Tr(22,n,i,e),n.elementType=GR,n.lanes=t,n.stateNode={isHidden:!1},n}function H0(n,e,t){return n=Tr(6,n,null,e),n.lanes=t,n}function G0(n,e,t){return e=Tr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function r3(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M0(0),this.expirationTimes=M0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function pw(n,e,t,i,r,s,o,a,l){return n=new r3(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},qM(s),n}function s3(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function DB(n){if(!n)return ma;n=n._reactInternals;e:{if(Ol(n)!==n||n.tag!==1)throw Error(be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(n.tag===1){var t=n.type;if(Hi(t))return IL(n,t,e)}return e}function FB(n,e,t,i,r,s,o,a,l){return n=pw(t,i,!0,n,r,s,o,a,l),n.context=DB(null),t=n.current,i=Ei(),r=ra(t),s=oo(i,r),s.callback=e??null,na(t,s,r),n.current.lanes=r,ed(n,r,i),Gi(n,i),n}function py(n,e,t,i){var r=e.current,s=Ei(),o=ra(r);return t=DB(t),e.context===null?e.context=t:e.pendingContext=t,e=oo(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=na(r,e,o),n!==null&&(Yr(n,r,o,s),Vm(n,r,o)),o}function Lg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function mw(n,e){zC(n,e),(n=n.alternate)&&zC(n,e)}function o3(){return null}var OB=typeof reportError=="function"?reportError:function(n){console.error(n)};function gw(n){this._internalRoot=n}my.prototype.render=gw.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(be(409));py(n,e,null,null)};my.prototype.unmount=gw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Cl(function(){py(null,n,null,null)}),e[fo]=null}};function my(n){this._internalRoot=n}my.prototype.unstable_scheduleHydration=function(n){if(n){var e=fL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Jo.length&&e!==0&&e<Jo[t].priority;t++);Jo.splice(t,0,n),t===0&&pL(n)}};function yw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function gy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function HC(){}function a3(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Lg(o);s.call(c)}}var o=FB(e,i,n,0,null,!1,!1,"",HC);return n._reactRootContainer=o,n[fo]=o.current,Sf(n.nodeType===8?n.parentNode:n),Cl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Lg(l);a.call(c)}}var l=pw(n,0,!1,null,null,!1,!1,"",HC);return n._reactRootContainer=l,n[fo]=l.current,Sf(n.nodeType===8?n.parentNode:n),Cl(function(){py(e,l,t,i)}),l}function yy(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Lg(o);a.call(l)}}py(e,o,n,r)}else o=a3(t,e,n,r,i);return Lg(o)}uL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gh(e.pendingLanes);t!==0&&(OM(e,t|1),Gi(e,Cn()),!(Bt&6)&&(_u=Cn()+500,Ea()))}break;case 13:Cl(function(){var i=po(n,1);if(i!==null){var r=Ei();Yr(i,n,1,r)}}),mw(n,1)}};NM=function(n){if(n.tag===13){var e=po(n,134217728);if(e!==null){var t=Ei();Yr(e,n,134217728,t)}mw(n,134217728)}};hL=function(n){if(n.tag===13){var e=ra(n),t=po(n,e);if(t!==null){var i=Ei();Yr(t,n,e,i)}mw(n,e)}};fL=function(){return Ht};dL=function(n,e){var t=Ht;try{return Ht=n,e()}finally{Ht=t}};T_=function(n,e,t){switch(e){case"input":if(__(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=ay(i);if(!r)throw Error(be(90));WR(i),__(i,r)}}}break;case"textarea":XR(n,t);break;case"select":e=t.value,e!=null&&iu(n,!!t.multiple,e,!1)}};$R=uw;eL=Cl;var l3={usingClientEntryPoint:!1,Events:[nd,Uc,ay,qR,ZR,uw]},Ah={findFiberByHostInstance:sl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},c3={bundleType:Ah.bundleType,version:Ah.version,rendererPackageName:Ah.rendererPackageName,rendererConfig:Ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=iL(n),n===null?null:n.stateNode},findFiberByHostInstance:Ah.findFiberByHostInstance||o3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{iy=kp.inject(c3),_s=kp}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l3;or.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yw(e))throw Error(be(200));return s3(n,e,null,t)};or.createRoot=function(n,e){if(!yw(n))throw Error(be(299));var t=!1,i="",r=OB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=pw(n,1,!1,null,null,t,!1,i,r),n[fo]=e.current,Sf(n.nodeType===8?n.parentNode:n),new gw(e)};or.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(be(188)):(n=Object.keys(n).join(","),Error(be(268,n)));return n=iL(e),n=n===null?null:n.stateNode,n};or.flushSync=function(n){return Cl(n)};or.hydrate=function(n,e,t){if(!gy(e))throw Error(be(200));return yy(null,n,e,!0,t)};or.hydrateRoot=function(n,e,t){if(!yw(n))throw Error(be(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=OB;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=FB(e,null,n,1,t??null,r,!1,s,o),n[fo]=e.current,Sf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new my(e)};or.render=function(n,e,t){if(!gy(e))throw Error(be(200));return yy(null,n,e,!1,t)};or.unmountComponentAtNode=function(n){if(!gy(n))throw Error(be(40));return n._reactRootContainer?(Cl(function(){yy(null,null,n,!1,function(){n._reactRootContainer=null,n[fo]=null})}),!0):!1};or.unstable_batchedUpdates=uw;or.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!gy(t))throw Error(be(200));if(n==null||n._reactInternals===void 0)throw Error(be(38));return yy(n,e,t,!1,i)};or.version="18.2.0-next-9e3b772b8-20220608";function NB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NB)}catch(n){console.error(n)}}NB(),FR.exports=or;var u3=FR.exports,kB,GC=u3;kB=d_.createRoot=GC.createRoot,d_.hydrateRoot=GC.hydrateRoot;const nf="generated",h3="pointerdown",f3="pointerup",VC="pointerleave",d3="pointerout",WC="pointermove",p3="touchstart",jC="touchend",m3="touchmove",g3="touchcancel",y3="resize",v3="visibilitychange",Tl="tsParticles - Error";class qi{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!qr(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${Tl} Vector3d not initialized correctly`)}static get origin(){return qi.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return qi.create(e.x,e.y,e.z)}static create(e,t,i){return new qi(e,t,i)}add(e){return qi.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return qi.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return qi.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return qi.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return qi.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return qi.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Kr extends qi{constructor(e,t){super(e,t,0)}static get origin(){return Kr.create(0,0)}static clone(e){return Kr.create(e.x,e.y)}static create(e,t){return new Kr(e,t)}}let x3=Math.random;function Tn(){return Au(x3(),0,1-1e-16)}function Au(n,e,t){return Math.min(Math.max(n,e),t)}function V0(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Xr(n){const e=vy(n);let t=vw(n);return e===t&&(t=0),Tn()*(e-t)+t}function Ct(n){return qr(n)?n:Xr(n)}function vw(n){return qr(n)?n:n.min}function vy(n){return qr(n)?n:n.max}function Nt(n,e){if(n===e||e===void 0&&qr(n))return n;const t=vw(n),i=vy(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Nt(t,i)}function xw(n){const e=n.random,{enable:t,minimumValue:i}=aa(e)?{enable:e,minimumValue:0}:e;return Ct(t?Nt(n.value,i):n.value)}function Ms(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function oa(n,e){return Ms(n,e).distance}function _3(n,e,t){if(qr(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return Tn()*Math.PI*2}}function A3(n){const e=Kr.origin;return e.length=1,e.angle=n,e}function M3(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??Tn()*n.size.width,y:((t=n.position)==null?void 0:t.y)??Tn()*n.size.height}}function UB(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const w3={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function If(){return w3}function xy(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function S3(){return!xy()&&typeof matchMedia<"u"}function zB(n){if(S3())return matchMedia(n)}function E3(n){if(!(xy()||typeof MutationObserver>"u"))return new MutationObserver(n)}function C3(n,e){return n===e||ws(e)&&e.indexOf(n)>-1}function T3(n){return Math.floor(Tn()*n.length)}function _w(n,e,t=!0){return n[e!==void 0&&t?e%n.length:T3(n)]}function Aw(n,e,t,i,r){return b3(Mw(n,i??0),e,t,r)}function b3(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function Mw(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function pi(n,...e){for(const t of e){if(t==null)continue;if(!Xc(t)){n=t;continue}const i=Array.isArray(t);i&&(Xc(n)||!n||!Array.isArray(n))?n=[]:!i&&(Xc(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=n;a[r]=Xc(o)&&Array.isArray(o)?o.map(l=>pi(a[r],l)):pi(a[r],o)}}return n}function bl(n,e){return ws(n)?n.map((t,i)=>e(t,i)):e(n,0)}function rf(n,e,t){return ws(n)?_w(n,e,t):n}function HB(n,e){const t=n.value,i=n.animation,r={delayTime:Ct(i.delay)*1e3,enable:i.enable,value:Ct(n.value)*e,max:vy(t)*e,min:vw(t)*e,loops:0,maxLoops:Ct(i.count),time:0};if(i.enable){switch(r.decay=1-Ct(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=Tn()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=Xr(r),s&&(r.status=Tn()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function P3(n,e){if(!(n.mode==="percent")){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function GB(n,e){return P3(n,e)}function aa(n){return typeof n=="boolean"}function Qr(n){return typeof n=="string"}function qr(n){return typeof n=="number"}function VB(n){return typeof n=="function"}function Xc(n){return typeof n=="object"&&n!==null}function ws(n){return Array.isArray(n)}const Bg="random",Qm="mid",_y=new Map;function XC(n){_y.set(n.key,n)}function W0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function R3(n){for(const[,s]of _y)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Zr(n,e,t=!0){if(!n)return;const i=Qr(n)?{value:n}:n;if(Qr(i.value))return WB(i.value,e,t);if(ws(i.value))return Zr({value:_w(i.value,e,t)});for(const[,r]of _y){const s=r.handleRangeColor(i);if(s)return s}}function WB(n,e,t=!0){if(!n)return;const i=Qr(n)?{value:n}:n;if(Qr(i.value))return i.value===Bg?jB():B3(i.value);if(ws(i.value))return WB({value:_w(i.value,e,t)});for(const[,r]of _y){const s=r.handleColor(i);if(s)return s}}function oA(n,e,t=!0){const i=Zr(n,e,t);return i?L3(i):void 0}function L3(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function B3(n){return R3(n)}function Mu(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=W0(r,i,t.h+1/3),e.g=W0(r,i,t.h),e.b=W0(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function I3(n){const e=Mu(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function jB(n){const e=n??0;return{b:Math.floor(Xr(Nt(e,256))),g:Math.floor(Xr(Nt(e,256))),r:Math.floor(Xr(Nt(e,256)))}}function yl(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function JC(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function D3(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=Mu(n)),s.r===void 0&&(s=Mu(e)),{b:V0(r.b,s.b,t,i),g:V0(r.g,s.g,t,i),r:V0(r.r,s.r,t,i)}}function YC(n,e,t){if(t===Bg)return jB();if(t===Qm){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return D3(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return Mu(s)}}else return t}function F3(n,e,t){const i=Qr(n)?n:n.value;return i===Bg?t?Zr({value:i}):e?Bg:Qm:i===Qm?Qm:Zr({value:i})}function KC(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function O3(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(j0(i.h,e.h,t),j0(i.s,e.s,t),j0(i.l,e.l,t)),i}function j0(n,e,t){n.enable=e.enable,n.enable?(n.velocity=Ct(e.speed)/100*t,n.decay=1-Ct(e.decay),n.status="increasing",n.loops=0,n.maxLoops=Ct(e.count),n.time=0,n.delayTime=Ct(e.delay)*1e3,e.sync||(n.velocity*=Tn(),n.value*=Tn()),n.initialValue=n.value):n.velocity=0}function X0(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function N3(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function k3(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function U3(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function J0(n,e){n.clearRect(0,0,e.width,e.height)}function z3(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:h,transform:d}=n,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),y={sin:Math.sin(m),cos:Math.cos(m)},_={a:y.cos*(d.a??1),b:y.sin*(d.b??1),c:-y.sin*(d.c??1),d:y.cos*(d.d??1)};t.setTransform(_.a,_.b,_.c,_.d,p.x,p.y),t.beginPath(),o&&(t.globalCompositeOperation=a);const x=i.shadowColor;h.enable&&x&&(t.shadowBlur=h.blur,t.shadowColor=yl(x),t.shadowOffsetX=h.offset.x,t.shadowOffsetY=h.offset.y),s.fill&&(t.fillStyle=s.fill);const g=i.strokeWidth??0;t.lineWidth=g,s.stroke&&(t.strokeStyle=s.stroke),H3(e,t,i,l,c,r),g>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),G3(e,t,i,l,c,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function H3(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,i,r,s,n.retina.pixelRatio)}function G3(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);!o||!o.afterEffect||o.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}function V3(n,e,t){e.draw&&e.draw(n,t)}function W3(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function j3(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function X3(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}let J3=class{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:h}=l.getColorStyles(i,t,r,s);c&&(o.fill=c),h&&(o.stroke=h)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const h in c)X3(a,c,h)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=oA(s.particleFillColor(t))),!r&&s.particleStrokeColor&&(r=oA(s.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,s=Zr(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=yl(o,o.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=pi({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&t.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=Zr(r.color);if(!s)return;const o=t.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=t=>{this.draw(i=>k3(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>U3(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(yl(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{J0(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var M;const c=this.container,h=c.actualOptions,d=e.options.zIndex,p=(1-e.zIndexFactor)**d.opacityRate,m=e.bubble.opacity??((M=e.opacity)==null?void 0:M.value)??1,y=e.strokeOpacity??m,_=m*p,x=y*p,g={},A={fill:o?JC(o,_):void 0};A.stroke=a?JC(a,x):A.fill,this._applyPreDrawUpdaters(l,e,i,_,A,g),z3({container:c,context:l,particle:e,delta:t,colorStyles:A,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**d.sizeRate,opacity:_,shadow:e.options.shadow,transform:g}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>W3(r,e,t,i))}drawPlugin(e,t){this.draw(i=>V3(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=E3(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){If().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=Zr(t.color);r.backgroundColor=s?yl(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&nf in e.dataset?e.dataset[nf]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=pi({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(J0(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>J0(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}};function gr(n,e,t,i,r){if(i){let s={passive:!0};aa(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class Y3{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;bl(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(gr(a,WC,r.mouseMove,i),gr(a,p3,r.touchStart,i),gr(a,m3,r.touchMove,i),o.interactivity.events.onClick.enable?(gr(a,jC,r.touchEndClick,i),gr(a,f3,r.mouseUp,i),gr(a,h3,r.mouseDown,i)):gr(a,jC,r.touchEnd,i),gr(a,t,r.mouseLeave,i),gr(a,g3,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=VC;o==="window"?(r.interactivity.element=window,l=d3):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&gr(document,v3,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=zB("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){gr(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){gr(window,y3,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=VC,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(o){const h=o.getBoundingClientRect();a={x:c.clientX-h.left,y:c.clientY-h.top}}}else if(r.interactivity.detectsOn==="parent"){const h=c.target,d=c.currentTarget;if(h&&d&&o){const p=h.getBoundingClientRect(),m=d.getBoundingClientRect(),y=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+y.left),y:c.offsetY+2*p.top-(m.top+y.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",o){const c=t,h=c.touches[c.touches.length-1],d=o.getBoundingClientRect();a={x:h.clientX-(d.left??0),y:h.clientY-(d.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=WC},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Ti{constructor(){this.value=""}static create(e,t){const i=new Ti;return i.load(e),t!==void 0&&(Qr(t)||ws(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class K3{constructor(){this.color=new Ti,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Ti.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Q3{constructor(){this.color=new Ti,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Ti.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class q3{constructor(){this.composite="destination-out",this.cover=new Q3,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Qr(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class Z3{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class $3{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class QC{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return bl(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=bl(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class ez{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class tz{constructor(){this.enable=!1,this.mode=[],this.parallax=new ez}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class nz{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class iz{constructor(){this.onClick=new $3,this.onDiv=new QC,this.onHover=new tz,this.resize=new nz}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=bl(t,i=>{const r=new QC;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),aa(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class rz{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class XB{constructor(e,t){this.detectsOn="window",this.events=new iz,this.modes=new rz(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class sz{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=pi({},e.options)))}}class oz{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=pi({},e.options)))}}class az{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class lz{constructor(){this.name="",this.default=new az}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=pi({},e.options)))}}class Y0{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Nt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Nt(e.offset)),e.speed!==void 0&&(this.speed=Nt(e.speed)),e.decay!==void 0&&(this.decay=Nt(e.decay)),e.delay!==void 0&&(this.delay=Nt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class cz{constructor(){this.h=new Y0,this.s=new Y0,this.l=new Y0}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Df extends Ti{constructor(){super(),this.animation=new cz}static create(e,t){const i=new Df;return i.load(e),t!==void 0&&(Qr(t)||ws(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class uz{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class hz{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class fz{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Nt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Nt(e.speed)),e.decay!==void 0&&(this.decay=Nt(e.decay)),e.delay!==void 0&&(this.delay=Nt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class JB extends fz{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class dz{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class rd{constructor(){this.random=new dz,this.value=0}load(e){e&&(aa(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Nt(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class qC extends rd{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class YB{constructor(){this.horizontal=new qC,this.vertical=new qC}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class pz{constructor(){this.absorb=new uz,this.bounce=new YB,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new hz}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Nt(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class mz{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Nt(e.offset)),e.value!==void 0&&(this.value=Nt(e.value)))}}class gz{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=Nt(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=((r=e.rotate)==null?void 0:r.x)??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class yz{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class vz{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Nt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Nt(e.maxSpeed)))}}class xz{constructor(){this.clamp=!0,this.delay=new rd,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=pi(this.options,e.options)))}}class _z{load(e){e&&(e.color!==void 0&&(this.color=Ti.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Az{constructor(){this.enable=!1,this.length=10,this.fill=new _z}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class Mz{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class wz{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Nt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=pi({},e.position)))}}class Sz{constructor(){this.angle=new mz,this.attract=new gz,this.center=new yz,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new vz,this.path=new xz,this.outModes=new Mz,this.random=!1,this.size=!1,this.speed=2,this.spin=new wz,this.straight=!1,this.trail=new Az,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(qr(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Nt(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=qr(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Nt(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(Xc(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Nt(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Ez extends JB{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Cz extends rd{constructor(){super(),this.animation=new Ez,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Nt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Tz{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class bz{constructor(){this.density=new Tz,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class Pz{constructor(){this.blur=0,this.color=new Ti,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ti.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const K0="character",Q0="char",q0="image",Z0="images",$0="polygon",ex="star";let Rz=class{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const s=ws(e),o=s?[]:{},a=s!==ws(this.options[t]),l=s!==ws(this.options[i]);a&&(this.options[t]=o),l&&r&&(this.options[i]=o),this.options[t]=pi(this.options[t]??o,e),(!this.options[i]||r)&&(this.options[i]=pi(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[K0]??this.options[Q0]}set character(e){this.options[Q0]=this.options[K0]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[q0]??this.options[Z0]}set image(e){this.options[Z0]=this.options[q0]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[$0]??this.options[ex]}set polygon(e){this.options[ex]=this.options[$0]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=pi(this.options[i]??{},r))}this.loadShape(e.character,K0,Q0,!0),this.loadShape(e.polygon,$0,ex,!1),this.loadShape(e.image??e.images,q0,Z0,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};class Lz extends JB{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Bz extends rd{constructor(){super(),this.animation=new Lz,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Nt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class ZC{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Df.create(this.color,e.color)),e.width!==void 0&&(this.width=Nt(e.width)),e.opacity!==void 0&&(this.opacity=Nt(e.opacity)))}}class Iz extends rd{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Dz{constructor(e,t){this._engine=e,this._container=t,this.bounce=new YB,this.collisions=new pz,this.color=new Df,this.color.value="#fff",this.groups={},this.move=new Sz,this.number=new bz,this.opacity=new Cz,this.reduceDuplicates=!1,this.shadow=new Pz,this.shape=new Rz,this.size=new Bz,this.stroke=new ZC,this.zIndex=new Iz}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Df.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=pi(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=pi({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=bl(i,a=>{const l=new ZC;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function KB(n,...e){for(const t of e)n.load(t)}function QB(n,e,...t){const i=new Dz(n,e);return KB(i,...t),i}class Fz{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new K3,this.backgroundMask=new q3,this.defaultThemes={},this.delay=0,this.fullScreen=new Z3,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new XB(e,t),this.manualParticles=[],this.particles=QB(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&bl(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Nt(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Nt(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;aa(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new sz;return c.load(l),c})),this.particles.load(e.particles),this.style=pi(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new oz;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(h=>h.name===l.name);if(c)c.load(l);else{const h=new lz;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=zB("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class Oz{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const $C=n=>{if(!C3(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class Nz{constructor(e,t,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,h=0)=>{for(const[,A]of a.plugins){const M=A.particlePosition!==void 0?A.particlePosition(l,this):void 0;if(M)return qi.create(M.x,M.y,c)}const d=a.canvas.size,p=M3({size:d,position:l}),m=qi.create(p.x,p.y,c),y=this.getRadius(),_=this.options.move.outModes,x=A=>{$C({outMode:A,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:M=>m.x+=M,radius:y})},g=A=>{$C({outMode:A,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:M=>m.y+=M,radius:y})};return x(_.left??_.default),x(_.right??_.default),g(_.top??_.default),g(_.bottom??_.default),this._checkOverlap(m,h)?this._calcPosition(a,void 0,c,h+1):m},this._calculateVelocity=()=>{const a=A3(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const h=Math.PI/180*Ct(c.angle.value),d=Math.PI/180*Ct(c.angle.offset),p={left:d-h/2,right:d+h/2};return c.straight||(l.angle+=Xr(Nt(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=Tn()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,h=this.getRadius();if(!c.enable)return!1;const d=c.overlap;if(d.enable)return!1;const p=d.retries;if(p>=0&&l>p)throw new Error(`${Tl} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>oa(a,m.position)<h+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?j3(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=Ct(this.options.zIndex.value);this.position=this._calcPosition(l,a,Au(c,0,l.zLayers)),this.initialPosition=this.position.copy();const h=l.canvas.size;switch(this.moveCenter={...GB(this.options.move.center,h),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=_3(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Kr.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return pi({close:a.close,fill:a.fill},rf(c,this.id,l))},this._engine=e,this.init(t,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??KC(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??KC(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=QB(this._engine,s,l.particles),h=c.shape.type,{reduceDuplicates:d}=c;this.shape=rf(h,this.id,d);const p=c.shape;if(i&&i.shape&&i.shape.type){const M=i.shape.type,S=rf(M,this.id,d);S&&(this.shape=S,p.load(i.shape))}this.shapeData=this._loadShapeData(p,d),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const y=new XB(o,s);y.load(s.actualOptions.interactivity),y.load(c.interactivity),this.interactivity=y,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const _=this.options.move.path;this.pathDelay=xw(_.delay)*1e3,_.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(_.generator),this.pathGenerator&&s.addPath(_.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=HB(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Ct(this.options.move.decay);const x=s.particles;x.needsSort=x.needsSort||x.lastZIndex<this.position.z,x.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let g=s.drawers.get(this.shape);g||(g=this._engine.plugins.getShapeDrawer(this.shape),g&&s.drawers.set(this.shape,g)),g&&g.loadShape&&g.loadShape(this);const A=g==null?void 0:g.getSidesCount;A&&(this.sides=A(this)),this.spawning=!1,this.shadowColor=Zr(this.options.shadow.color);for(const M of s.particles.updaters)M.init(this);for(const M of s.particles.movers)M.init&&M.init(this);g&&g.particleInit&&g.particleInit(s,this);for(const[,M]of s.plugins)M.particleCreated&&M.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class kz{constructor(e,t){this.position=e,this.particle=t}}class qB{constructor(e,t){this.position={x:e,y:t}}}class Pl extends qB{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof Rl&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Pl?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class Rl extends qB{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return oa(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Rl){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Pl){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class Ig{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new Ig(new Pl(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&oa(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new Rl(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Pl(e.x,e.y,t.width,t.height),i)}}const eT=4,tT=n=>new Pl(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let Uz=class{constructor(e,t){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,h=a.limit>0?a.limit:c,d=Math.min(c,h)*l+s,p=Math.min(this.count,this.filter(y=>y.group===o).length);this.limit=a.limit*l,p<d?this.push(Math.abs(d-p),void 0,r,o):p>d&&this.removeQuantity(p-d,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new Nz(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){If().warning(`${Tl} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Oz(e,t);const i=t.canvas.size;this.quadTree=new Ig(tT(i),eT),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?GB(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in t.particles.groups){const o=t.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<t.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<t.particles.number.value;s++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Ig(tT(t.canvas.size),eT);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const s=t.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new kz(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class zz{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||xy()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=t.particles,s=r.move;this.attractDistance=Ct(s.attract.distance)*i,this.maxSpeed=Ct(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Ct(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.attractDistance=Ct(r.attract.distance)*i,o.moveDrift=Ct(r.drift)*i,o.moveSpeed=Ct(r.speed)*i,o.sizeAnimationSpeed=Ct(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=Ct(r.gravity.maxSpeed)*i}}function cn(n){return n&&!n.destroyed}function Hz(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function oc(n,e,...t){const i=new Fz(n,e);return KB(i,...t),i}const Gz="default",nT={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Vz{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!cn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=Hz(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){If().error(`${Tl} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new zz(this),this.canvas=new J3(this),this.particles=new Uz(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=oc(this._engine,this),this.actualOptions=oc(this._engine,this),this._eventListeners=new Y3(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!cn(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,p,m)=>{if(!cn(this))return;const y=this.retina.pixelRatio,_={x:p.x*y,y:p.y*y},x=this.particles.quadTree.queryCircle(_,m*y);e(d,x)},r=d=>{if(!cn(this))return;const p=d,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(d,m,1)},s=()=>{cn(this)&&(c=!0,h=!1)},o=()=>{cn(this)&&(h=!0)},a=d=>{if(cn(this)){if(c&&!h){const p=d;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const y=this.canvas.element,_=y?y.getBoundingClientRect():void 0,x={x:m.clientX-(_?_.left:0),y:m.clientY-(_?_.top:0)};i(d,x,Math.max(m.radiusX,m.radiusY))}c=!1,h=!1}},l=()=>{cn(this)&&(c=!1,h=!1)};let c=!1,h=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!cn(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??nT),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!cn(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!cn(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}If().error(`${Tl} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&cn(this)}handleClickMode(e){if(cn(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!cn(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=oc(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=oc(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Ct(this.actualOptions.duration)*1e3,this._delay=Ct(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){cn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(cn(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!cn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(cn(this))return this.stop(),this.start()}async reset(){if(cn(this))return this._initialSourceOptions=void 0,this._options=oc(this._engine,this),this.actualOptions=oc(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){cn(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!cn(this))return;const r={...nT};if(VB(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(Gz,r,!0)}async start(){!cn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!cn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}let Wz=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}};function tx(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}class jz{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){bl(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return tx(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return tx(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return tx(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}}async function Xz(n){const e=rf(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(If().error(`${Tl} ${t.status} while retrieving config file`),n.fallback)}function Jz(n){return!n.id&&!n.element&&!n.url&&!n.options}function Yz(n){return!Jz(n)}class Kz{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Wz,this._initialized=!1,this.plugins=new jz(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){Qr(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,s,o=!0){let a,l=o,c,h,d;aa(i)?(l=i,c=void 0):c=i,aa(r)?(l=r,h=void 0):h=r,aa(s)?(l=s,d=void 0):d=s,VB(t)?a={afterEffect:h,destroy:d,draw:t,init:c}:a=t,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return Yz(e)?r=e:(r={},Qr(e)?r.id=e:r.options=e,qr(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,s;return qr(t)||t===void 0?r=e:(s=e,r=t),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const s={index:r};return Qr(e)?s.id=e:s.element=e,t instanceof HTMLElement?s.element=t:s.options=t,qr(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,t,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=t,s.index=i):(s.id=e,s.element=t,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${Tl} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(Tn()*1e4)}`,{index:i,url:r}=e,s=r?await Xz({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(t);o||(o=document.createElement("div"),o.id=t,document.body.append(o));const a=rf(s,i),l=this.dom(),c=l.findIndex(p=>p.id===t);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let h;if(o.tagName.toLowerCase()==="canvas")h=o,h.dataset[nf]="false";else{const p=o.getElementsByTagName("canvas");p.length?(h=p[0],h.dataset[nf]="false"):(h=document.createElement("canvas"),h.dataset[nf]="true",o.appendChild(h))}h.style.width||(h.style.width="100%"),h.style.height||(h.style.height="100%");const d=new Vz(this,t,a);return c>=0?l.splice(c,0,d):l.push(d),d.canvas.loadCanvas(h),await d.start(),d}}class Qz{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Mu(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Mu({h:Ct(i.h),l:Ct(i.l),s:Ct(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?I3({a:i.length>4?UB(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class qz{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:Ct(i.r),g:Ct(i.g),b:Ct(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?UB(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function Zz(){const n=new qz,e=new Qz;XC(n),XC(e);const t=new Kz;return t.init(),t}class $z{constructor(e){this.container=e,this.type="particles"}}const aA=Zz();xy()||(window.tsParticles=aA);const Jc=n=>typeof n=="object"&&n!==null;function Dg(n,e,t=()=>!1){if(!Jc(n)||!Jc(e))return n===e;const i=Object.keys(n).filter(s=>!t(s)),r=Object.keys(e).filter(s=>!t(s));if(i.length!==r.length)return!1;for(const s of i){const o=n[s],a=e[s];if(Jc(o)&&Jc(a)){if(o===e&&a===n)continue;if(!Dg(o,a,t))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!ZB(o,a,t))return!1}else if(o!==a)return!1}return!0}function ZB(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!ZB(r,s,t))return!1}else if(Jc(r)&&Jc(s)){if(!Dg(r,s,t))return!1}else if(r!==s)return!1}return!0}const $B="tsparticles";class Ay extends Y.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Dg(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Dg(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(aA),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:s}=this.props;return uo.createElement("div",{className:i,id:s},uo.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Ay.defaultProps.id??$B,t=await aA.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}}Ay.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:$B};function eH(n){const e=n.initialPosition,{dx:t,dy:i}=Ms(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:o}=n.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!n.misplaced)n.misplaced=!!a&&r>a||!!l&&s>l,a&&(n.velocity.x=n.velocity.y/2-n.velocity.x),l&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!a||r<a)&&(!l||s<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const c=n.position,h=n.velocity;a&&(c.x<e.x&&h.x<0||c.x>e.x&&h.x>0)&&(h.x*=-Tn()),l&&(c.y<e.y&&h.y<0||c.y>e.y&&h.y>0)&&(h.y*=-Tn())}}}function tH(n,e,t,i,r,s){iH(n,s);const o=n.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&t&&(n.velocity.x+=r*s.factor/(60*t)),o!=null&&o.enable&&t&&(n.velocity.y+=a*(o.acceleration*s.factor)/(60*t));const l=n.moveDecay;n.velocity.multTo(l);const c=n.velocity.mult(t);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,t&&(n.velocity.y=c.y/t));const h=n.options.zIndex,d=(1-n.zIndexFactor)**h.velocityRate;c.multTo(d);const{position:p}=n;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function nH(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function iH(n,e){var o;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=(o=n.pathGenerator)==null?void 0:o.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=Au(n.velocity.x,-1,1),n.velocity.y=Au(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function rH(n){return n.slow.inRange?n.slow.factor:1}const sH=2;class oH{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*t.canvas.size.width,y:s.y/100*t.canvas.size.height},a=e.getPosition(),l=oa(a,o),c=Ct(r.acceleration);e.retina.spinAcceleration=c*t.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:Ct(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var y,_;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=rH(e),l=((y=e.retina).moveSpeed??(y.moveSpeed=Ct(r.speed)*o))*s.retina.reduceFactor,c=(_=e.retina).moveDrift??(_.moveDrift=Ct(e.options.move.drift)*o),h=vy(i.size.value)*o,d=r.size?e.getRadius()/h:1,p=l*d*a*(t.factor||1)/sH,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?nH(e,p):tH(e,r,p,m,c,t),eH(e)}}async function aH(n,e=!0){await n.addMover("base",()=>new oH,e)}class lH{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};t.circleRange=Xc(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function cH(n,e=!0){await n.addShape("circle",new lH,e)}function nx(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Xr(t.offset),o=(e.velocity??0)*n.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function uH(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:s}=n;if(!s)return;const{h:o,s:a,l}=s;o&&nx(e,o,t,360,!1),a&&nx(e,a,i,100,!0),l&&nx(e,l,r,100,!0)}class hH{constructor(e){this.container=e}init(e){const t=oA(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=O3(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&t.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,t){uH(e,t)}}async function fH(n,e=!0){await n.addParticleUpdater("color",t=>new hH(t),e)}function dH(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function pH(n,e){const t=n.opacity;if(n.destroyed||!(t!=null&&t.enable)||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,s=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=s),dH(n,t.value,i,r),n.destroyed||(t.value=Au(t.value,i,r))}}class mH{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=HB(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=Ct(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Tn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&pH(e,t)}}async function gH(n,e=!0){await n.addParticleUpdater("opacity",t=>new mH(t),e)}function yH(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=xw(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function vH(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=xw(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class xH{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,t)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),h=Mw(a,c),d=s.canvas.size;yH({particle:e,outMode:r,direction:t,bounds:h,canvasSize:d,offset:l,size:c}),vH({particle:e,outMode:r,direction:t,bounds:h,canvasSize:d,offset:l,size:c})}}class _H{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(Aw(e.position,s.canvas.size,Kr.origin,e.getRadius(),t))return;break;case"inside":{const{dx:o,dy:a}=Ms(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class AH{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&t==="bottom"||s.inverse&&c.y<-l&&t==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;Aw(e.position,o.canvas.size,Kr.origin,l,t)||o.particles.remove(e)}}}class MH{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=Kr.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(Kr.create(e.moveCenter));const{dx:c,dy:h}=Ms(e.position,l);if(o<=0&&c>=0||a<=0&&h>=0||o>=0&&c<=0||a>=0&&h<=0)return;e.position.x=Math.floor(Xr({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Xr({min:0,max:s.canvas.size.height}));const{dx:d,dy:p}=Ms(e.position,e.moveCenter);e.direction=Math.atan2(-p,-d),e.velocity.angle=e.direction;break}default:{if(Aw(e.position,s.canvas.size,Kr.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Xr({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Xr({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Ms(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),h=Mw(e.position,c);t==="right"&&h.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Tn()*a.height,e.initialPosition.y=e.position.y)):t==="left"&&h.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Tn()*a.height,e.initialPosition.y=e.position.y)),t==="bottom"&&h.top>a.height+e.offset.y?(o||(e.position.x=Tn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t==="top"&&h.bottom<-e.offset.y&&(o||(e.position.x=Tn()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class wH{constructor(e){this.container=e,this._updateOutMode=(t,i,r,s)=>{for(const o of this.updaters)o.update(t,s,i,r)},this.updaters=[new xH(e),new _H(e),new MH(e),new AH(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function SH(n,e=!0){await n.addParticleUpdater("outModes",t=>new wH(t),e)}function EH(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function CH(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,s=t.max,o=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=s?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&o!==1&&(t.velocity*=o),EH(n,t.value,r,s),n.destroyed||(t.value=Au(t.value,r,s))}}class TH{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=Tn()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&CH(e,t)}}async function bH(n,e=!0){await n.addParticleUpdater("size",()=>new TH,e)}async function PH(n,e=!0){await aH(n,!1),await cH(n,!1),await fH(n,!1),await gH(n,!1),await SH(n,!1),await bH(n,!1),await n.refresh(e)}class RH extends Rl{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Rl(r.x,r.y,i.radius*2);return super.intersects(s)}else if(t.size!==void 0){const s=new Pl(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(s)}return!1}}class LH{constructor(){this.blur=5,this.color=new Ti,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ti.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class BH{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=Ti.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class IH{constructor(){this.blink=!1,this.color=new Ti,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new LH,this.triangles=new BH,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Ti.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function DH(n,e,t,i,r){const{dx:s,dy:o,distance:a}=Ms(n,e);if(!r||a<=t)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class FH extends $z{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=F3(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new RH(t.x,t.y,a,r):new Rl(t.x,t.y,a),h=i.particles.quadTree.query(c);for(const d of h){const p=d.options.links;if(e===d||!(p!=null&&p.enable)||s.id!==p.id||d.spawning||d.destroyed||!d.links||e.links.some(x=>x.destination===d)||d.links.some(x=>x.destination===e))continue;const m=d.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const y=DH(t,m,a,r,l&&p.warp);if(y>a)continue;const _=(1-y/a)*o;this._setColor(e),e.links.push({destination:d,opacity:_})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new IH);for(const i of t)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function OH(n,e=!0){await n.addInteractor("particlesLinks",t=>new FH(t),e)}function NH(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:h,links:d}=n;if(oa(t,i)<=r)X0(s,t,i),e=!0;else if(d.warp){let m,y;const _={x:i.x-o.width,y:i.y},x=Ms(t,_);if(x.distance<=r){const g=t.y-x.dy/x.dx*t.x;m={x:0,y:g},y={x:o.width,y:g}}else{const g={x:i.x,y:i.y-o.height},A=Ms(t,g);if(A.distance<=r){const S=-(t.y-A.dy/A.dx*t.x)/(A.dy/A.dx);m={x:S,y:0},y={x:S,y:o.height}}else{const M={x:i.x-o.width,y:i.y-o.height},S=Ms(t,M);if(S.distance<=r){const C=t.y-S.dy/S.dx*t.x;m={x:-C/(S.dy/S.dx),y:C},y={x:m.x+o.width,y:m.y+o.height}}}}m&&y&&(X0(s,t,m),X0(s,i,y),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=yl(c,h);const{shadow:p}=d;if(p.enable){const m=Zr(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=yl(m))}s.stroke()}function kH(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=n;N3(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=yl(o,a),e.fill()}function UH(n){return n.sort((e,t)=>e-t),n.join("_")}function iT(n,e){const t=UH(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=Tn(),e.set(t,i)),i}class zH{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=t.getPosition(),c=a.getPosition();let h=i.opacity;s.canvas.draw(d=>{var g;let p;const m=(g=t.options.twinkle)==null?void 0:g.lines;if(m!=null&&m.enable){const A=m.frequency,M=Zr(m.color);Tn()<A&&M&&(p=M,h=Ct(m.opacity))}if(!p){const A=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=YC(t,a,A)}if(!p)return;const y=t.retina.linksWidth??0,_=t.retina.linksDistance??0,{backgroundMask:x}=o;NH({context:d,width:y,begin:l,end:c,maxDistance:_,canvasSize:s.canvas.size,links:r,backgroundMask:x,colorLine:p,opacity:h})})},this._drawLinkTriangle=(t,i,r)=>{const s=t.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,h=r.destination,d=o.opacity??(i.opacity+r.opacity)/2;d<=0||a.canvas.draw(p=>{const m=t.getPosition(),y=c.getPosition(),_=h.getPosition(),x=t.retina.linksDistance??0;if(oa(m,y)>x||oa(_,y)>x||oa(_,m)>x)return;let g=Zr(o.color);if(!g){const A=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;g=YC(t,c,A)}g&&kH({context:p,pos1:m,pos2:y,pos3:_,backgroundMask:l.backgroundMask,colorTriangle:g,opacityTriangle:d})})},this._drawTriangles=(t,i,r,s)=>{var l,c,h;const o=r.destination;if(!((l=t.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(h=o.links)==null?void 0:h.filter(d=>{const p=this._getLinkFrequency(o,d.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===d.destination)>=0});if(a!=null&&a.length)for(const d of a){const p=d.destination;this._getTriangleFrequency(i,o,p)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,d)}},this._getLinkFrequency=(t,i)=>iT([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>iT([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(t,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,t,o,s),o.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class HH{constructor(){this.id="links"}getPlugin(e){return new zH(e)}loadOptions(){}needsPlugin(){return!0}}async function GH(n,e=!0){const t=new HH;await n.addPlugin(t,e)}async function VH(n,e=!0){await OH(n,e),await GH(n,e)}const WH={background:{color:"#000000"},particles:{number:{value:100},links:{distance:125,enable:!0,triangles:{enable:!0,opacity:.1}},move:{enable:!0,speed:5},size:{value:1},shape:{type:"circle"}}};async function jH(n,e=!0){await PH(n,!1),await VH(n,!1),await n.addPreset("triangles",WH,e)}const XH=()=>{const n=e=>{jH(e)};return K.jsx(Ay,{options:{preset:"triangles",fpsLimit:60,particles:{number:{density:{enable:!0,value_area:800}},move:{speed:2}},detectRetina:!0,retina_detect:!0,responsive:[{breakpoint:768,options:{particles:{number:{density:{enable:!0,value_area:2e3}}}}}]},init:n})};/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ff(){return Ff=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ff.apply(this,arguments)}var qo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(qo||(qo={}));const rT="popstate";function JH(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return lA("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Fg(r)}return KH(e,t,null,n)}function Dn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ww(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YH(){return Math.random().toString(36).substr(2,8)}function sT(n,e){return{usr:n.state,key:n.key,idx:e}}function lA(n,e,t,i){return t===void 0&&(t=null),Ff({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?zu(e):e,{state:t,key:e&&e.key||i||YH()})}function Fg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function zu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function KH(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=qo.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Ff({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=qo.Pop;let x=h(),g=x==null?null:x-c;c=x,l&&l({action:a,location:_.location,delta:g})}function p(x,g){a=qo.Push;let A=lA(_.location,x,g);t&&t(A,x),c=h()+1;let M=sT(A,c),S=_.createHref(A);try{o.pushState(M,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(S)}s&&l&&l({action:a,location:_.location,delta:1})}function m(x,g){a=qo.Replace;let A=lA(_.location,x,g);t&&t(A,x),c=h();let M=sT(A,c),S=_.createHref(A);o.replaceState(M,"",S),s&&l&&l({action:a,location:_.location,delta:0})}function y(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof x=="string"?x:Fg(x);return Dn(g,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,g)}let _={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(rT,d),l=x,()=>{r.removeEventListener(rT,d),l=null}},createHref(x){return e(r,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var oT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(oT||(oT={}));function QH(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?zu(e):e,r=Sw(i.pathname||"/",t);if(r==null)return null;let s=eI(n);qH(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=oG(s[a],cG(r));return o}function eI(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Dn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=la([i,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(Dn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),eI(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:rG(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of tI(s.path))r(s,o,l)}),e}function tI(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=tI(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function qH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sG(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const ZH=/^:\w+$/,$H=3,eG=2,tG=1,nG=10,iG=-2,aT=n=>n==="*";function rG(n,e){let t=n.split("/"),i=t.length;return t.some(aT)&&(i+=iG),e&&(i+=eG),t.filter(r=>!aT(r)).reduce((r,s)=>r+(ZH.test(s)?$H:s===""?tG:nG),i)}function sG(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function oG(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=r==="/"?e:e.slice(r.length)||"/",h=aG({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!h)return null;Object.assign(i,h.params);let d=a.route;s.push({params:i,pathname:la([r,h.pathname]),pathnameBase:dG(la([r,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(r=la([r,h.pathnameBase]))}return s}function aG(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=lG(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,d)=>{if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[h]=uG(a[d]||"",h),c},{}),pathname:s,pathnameBase:o,pattern:n}}function lG(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ww(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function cG(n){try{return decodeURI(n)}catch(e){return ww(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function uG(n,e){try{return decodeURIComponent(n)}catch(t){return ww(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function Sw(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function hG(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?zu(n):n;return{pathname:t?t.startsWith("/")?t:fG(t,e):e,search:pG(i),hash:mG(r)}}function fG(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ix(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iI(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=zu(n):(r=Ff({},n),Dn(!r.pathname||!r.pathname.includes("?"),ix("?","pathname","search",r)),Dn(!r.pathname||!r.pathname.includes("#"),ix("#","pathname","hash",r)),Dn(!r.search||!r.search.includes("#"),ix("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=hG(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const la=n=>n.join("/").replace(/\/\/+/g,"/"),dG=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pG=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mG=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gG(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const rI=["post","put","patch","delete"];new Set(rI);const yG=["get",...rI];new Set(yG);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Og(){return Og=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Og.apply(this,arguments)}const Ew=Y.createContext(null),sI=Y.createContext(null),Nl=Y.createContext(null),My=Y.createContext(null),kl=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),oI=Y.createContext(null);function vG(n,e){let{relative:t}=e===void 0?{}:e;sd()||Dn(!1);let{basename:i,navigator:r}=Y.useContext(Nl),{hash:s,pathname:o,search:a}=Cw(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:la([i,o])),r.createHref({pathname:l,search:a,hash:s})}function sd(){return Y.useContext(My)!=null}function Hu(){return sd()||Dn(!1),Y.useContext(My).location}function aI(n){Y.useContext(Nl).static||Y.useLayoutEffect(n)}function xG(){let{isDataRoute:n}=Y.useContext(kl);return n?BG():_G()}function _G(){sd()||Dn(!1);let n=Y.useContext(Ew),{basename:e,navigator:t}=Y.useContext(Nl),{matches:i}=Y.useContext(kl),{pathname:r}=Hu(),s=JSON.stringify(nI(i).map(l=>l.pathnameBase)),o=Y.useRef(!1);return aI(()=>{o.current=!0}),Y.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let h=iI(l,JSON.parse(s),r,c.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:la([e,h.pathname])),(c.replace?t.replace:t.push)(h,c.state,c)},[e,t,s,r,n])}function Cw(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=Y.useContext(kl),{pathname:r}=Hu(),s=JSON.stringify(nI(i).map(o=>o.pathnameBase));return Y.useMemo(()=>iI(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function AG(n,e){return MG(n,e)}function MG(n,e,t){sd()||Dn(!1);let{navigator:i}=Y.useContext(Nl),{matches:r}=Y.useContext(kl),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Hu(),c;if(e){var h;let _=typeof e=="string"?zu(e):e;a==="/"||(h=_.pathname)!=null&&h.startsWith(a)||Dn(!1),c=_}else c=l;let d=c.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",m=QH(n,{pathname:p}),y=TG(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:la([a,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:la([a,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,t);return e&&y?Y.createElement(My.Provider,{value:{location:Og({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:qo.Pop}},y):y}function wG(){let n=LG(),e=gG(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:r},t):null,s)}const SG=Y.createElement(wG,null);class EG extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Y.createElement(kl.Provider,{value:this.props.routeContext},Y.createElement(oI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CG(n){let{routeContext:e,match:t,children:i}=n,r=Y.useContext(Ew);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(kl.Provider,{value:e},i)}function TG(n,e,t){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var r;if((r=t)!=null&&r.errors)n=t.matches;else return null}let s=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Dn(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let h=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;t&&(d=l.route.errorElement||SG);let p=e.concat(s.slice(0,c+1)),m=()=>{let y;return h?y=d:l.route.Component?y=Y.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,Y.createElement(CG,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:t!=null},children:y})};return t&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?Y.createElement(EG,{location:t.location,revalidation:t.revalidation,component:d,error:h,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var lI=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(lI||{}),Ng=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Ng||{});function bG(n){let e=Y.useContext(Ew);return e||Dn(!1),e}function PG(n){let e=Y.useContext(sI);return e||Dn(!1),e}function RG(n){let e=Y.useContext(kl);return e||Dn(!1),e}function cI(n){let e=RG(),t=e.matches[e.matches.length-1];return t.route.id||Dn(!1),t.route.id}function LG(){var n;let e=Y.useContext(oI),t=PG(Ng.UseRouteError),i=cI(Ng.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function BG(){let{router:n}=bG(lI.UseNavigateStable),e=cI(Ng.UseNavigateStable),t=Y.useRef(!1);return aI(()=>{t.current=!0}),Y.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Og({fromRouteId:e},s)))},[n,e])}function cA(n){Dn(!1)}function IG(n){let{basename:e="/",children:t=null,location:i,navigationType:r=qo.Pop,navigator:s,static:o=!1}=n;sd()&&Dn(!1);let a=e.replace(/^\/*/,"/"),l=Y.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=zu(i));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:m="default"}=i,y=Y.useMemo(()=>{let _=Sw(c,a);return _==null?null:{location:{pathname:_,search:h,hash:d,state:p,key:m},navigationType:r}},[a,c,h,d,p,m,r]);return y==null?null:Y.createElement(Nl.Provider,{value:l},Y.createElement(My.Provider,{children:t,value:y}))}function DG(n){let{children:e,location:t}=n;return AG(uA(e),t)}new Promise(()=>{});function uA(n,e){e===void 0&&(e=[]);let t=[];return Y.Children.forEach(n,(i,r)=>{if(!Y.isValidElement(i))return;let s=[...e,r];if(i.type===Y.Fragment){t.push.apply(t,uA(i.props.children,s));return}i.type!==cA&&Dn(!1),!i.props.index||!i.props.children||Dn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=uA(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kg(){return kg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kg.apply(this,arguments)}function uI(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function FG(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OG(n,e){return n.button===0&&(!e||e==="_self")&&!FG(n)}const NG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],kG=["aria-current","caseSensitive","className","end","style","to","children"],UG="startTransition",lT=ek[UG];function zG(n){let{basename:e,children:t,future:i,window:r}=n,s=Y.useRef();s.current==null&&(s.current=JH({window:r,v5Compat:!0}));let o=s.current,[a,l]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=Y.useCallback(d=>{c&&lT?lT(()=>l(d)):l(d)},[l,c]);return Y.useLayoutEffect(()=>o.listen(h),[o,h]),Y.createElement(IG,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}const HG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sf=Y.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h}=e,d=uI(e,NG),{basename:p}=Y.useContext(Nl),m,y=!1;if(typeof c=="string"&&GG.test(c)&&(m=c,HG))try{let A=new URL(window.location.href),M=c.startsWith("//")?new URL(A.protocol+c):new URL(c),S=Sw(M.pathname,p);M.origin===A.origin&&S!=null?c=S+M.search+M.hash:y=!0}catch{}let _=vG(c,{relative:r}),x=VG(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r});function g(A){i&&i(A),A.defaultPrevented||x(A)}return Y.createElement("a",kg({},d,{href:m||_,onClick:y||s?i:g,ref:t,target:l}))}),hI=Y.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,h=uI(e,kG),d=Cw(l,{relative:h.relative}),p=Hu(),m=Y.useContext(sI),{navigator:y}=Y.useContext(Nl),_=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,x=p.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(x=x.toLowerCase(),g=g?g.toLowerCase():null,_=_.toLowerCase());let A=x===_||!o&&x.startsWith(_)&&x.charAt(_.length)==="/",M=g!=null&&(g===_||!o&&g.startsWith(_)&&g.charAt(_.length)==="/"),S=A?i:void 0,C;typeof s=="function"?C=s({isActive:A,isPending:M}):C=[s,A?"active":null,M?"pending":null].filter(Boolean).join(" ");let P=typeof a=="function"?a({isActive:A,isPending:M}):a;return Y.createElement(sf,kg({},h,{"aria-current":S,className:C,ref:t,style:P,to:l}),typeof c=="function"?c({isActive:A,isPending:M}):c)});var cT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(cT||(cT={}));var uT;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(uT||(uT={}));function VG(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=xG(),l=Hu(),c=Cw(n,{relative:o});return Y.useCallback(h=>{if(OG(h,t)){h.preventDefault();let d=i!==void 0?i:Fg(l)===Fg(c);a(n,{replace:d,state:r,preventScrollReset:s,relative:o})}},[l,a,c,i,r,t,n,s,o])}var fI={},dI={},pI={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},t=e;n.default=t})(pI);var mI={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function t(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,c,h){return c>0&&c+l.length!==h.length&&l.search(e)>-1&&h.charAt(c-2)!==":"&&(h.charAt(c+l.length)!=="-"||h.charAt(c-1)==="-")&&h.charAt(c-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function i(a){return typeof a=="string"&&a.indexOf("@")!==-1}var r="REDACTED (Potential Email Address)";function s(a){return i(a)?(console.warn("This arg looks like an email address, redacting."),r):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=a||"";return l&&(h=t(a)),c&&(h=s(h)),h}})(mI);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.GA4=void 0;var e=o(pI),t=o(mI),i=["eventCategory","eventAction","eventLabel","eventValue","hitType"],r=["title","location"],s=["page","hitType"];function o(N){return N&&N.__esModule?N:{default:N}}function a(N,F){if(N==null)return{};var z=l(N,F),V,L;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(N);for(L=0;L<O.length;L++)V=O[L],!(F.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(N,V)&&(z[V]=N[V])}return z}function l(N,F){if(N==null)return{};var z={},V=Object.keys(N),L,O;for(O=0;O<V.length;O++)L=V[O],!(F.indexOf(L)>=0)&&(z[L]=N[L]);return z}function c(N){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},c(N)}function h(N){return m(N)||p(N)||A(N)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}function m(N){if(Array.isArray(N))return M(N)}function y(N,F){var z=Object.keys(N);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(N);F&&(V=V.filter(function(L){return Object.getOwnPropertyDescriptor(N,L).enumerable})),z.push.apply(z,V)}return z}function _(N){for(var F=1;F<arguments.length;F++){var z=arguments[F]!=null?arguments[F]:{};F%2?y(Object(z),!0).forEach(function(V){b(N,V,z[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(z)):y(Object(z)).forEach(function(V){Object.defineProperty(N,V,Object.getOwnPropertyDescriptor(z,V))})}return N}function x(N,F){return C(N)||S(N,F)||A(N,F)||g()}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(N,F){if(N){if(typeof N=="string")return M(N,F);var z=Object.prototype.toString.call(N).slice(8,-1);if(z==="Object"&&N.constructor&&(z=N.constructor.name),z==="Map"||z==="Set")return Array.from(N);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return M(N,F)}}function M(N,F){(F==null||F>N.length)&&(F=N.length);for(var z=0,V=new Array(F);z<F;z++)V[z]=N[z];return V}function S(N,F){var z=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(z!=null){var V,L,O,H,U=[],X=!0,le=!1;try{if(O=(z=z.call(N)).next,F===0){if(Object(z)!==z)return;X=!1}else for(;!(X=(V=O.call(z)).done)&&(U.push(V.value),U.length!==F);X=!0);}catch(he){le=!0,L=he}finally{try{if(!X&&z.return!=null&&(H=z.return(),Object(H)!==H))return}finally{if(le)throw L}}return U}}function C(N){if(Array.isArray(N))return N}function P(N,F){if(!(N instanceof F))throw new TypeError("Cannot call a class as a function")}function R(N,F){for(var z=0;z<F.length;z++){var V=F[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,I(V.key),V)}}function B(N,F,z){return F&&R(N.prototype,F),z&&R(N,z),Object.defineProperty(N,"prototype",{writable:!1}),N}function b(N,F,z){return F=I(F),F in N?Object.defineProperty(N,F,{value:z,enumerable:!0,configurable:!0,writable:!0}):N[F]=z,N}function I(N){var F=J(N,"string");return c(F)==="symbol"?F:String(F)}function J(N,F){if(c(N)!=="object"||N===null)return N;var z=N[Symbol.toPrimitive];if(z!==void 0){var V=z.call(N,F||"default");if(c(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(N)}var $=function(){function N(){var F=this;P(this,N),b(this,"reset",function(){F.isInitialized=!1,F._testMode=!1,F._currentMeasurementId,F._hasLoadedGA=!1,F._isQueuing=!1,F._queueGtag=[]}),b(this,"_gtag",function(){for(var z=arguments.length,V=new Array(z),L=0;L<z;L++)V[L]=arguments[L];F._testMode||F._isQueuing?F._queueGtag.push(V):e.default.apply(void 0,V)}),b(this,"_loadGA",function(z,V){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!F._hasLoadedGA){var O=document.createElement("script");O.async=!0,O.src="".concat(L,"?id=").concat(z),V&&O.setAttribute("nonce",V),document.body.appendChild(O),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},F._hasLoadedGA=!0}}),b(this,"_toGtagOptions",function(z){if(z){var V={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},L=Object.entries(z).reduce(function(O,H){var U=x(H,2),X=U[0],le=U[1];return V[X]?O[V[X]]=le:O[X]=le,O},{});return L}}),b(this,"initialize",function(z){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!z)throw new Error("Require GA_MEASUREMENT_ID");var L=typeof z=="string"?[{trackingId:z}]:z;F._currentMeasurementId=L[0].trackingId;var O=V.gaOptions,H=V.gtagOptions,U=V.nonce,X=V.testMode,le=X===void 0?!1:X,he=V.gtagUrl;if(F._testMode=le,le||F._loadGA(F._currentMeasurementId,U,he),F.isInitialized||(F._gtag("js",new Date),L.forEach(function(Ie){var Ve=_(_(_({},F._toGtagOptions(_(_({},O),Ie.gaOptions))),H),Ie.gtagOptions);Object.keys(Ve).length?F._gtag("config",Ie.trackingId,Ve):F._gtag("config",Ie.trackingId)})),F.isInitialized=!0,!le){var ve=h(F._queueGtag);for(F._queueGtag=[],F._isQueuing=!1;ve.length;){var Se=ve.shift();F._gtag.apply(F,h(Se)),Se[0]==="get"&&(F._isQueuing=!0)}}}),b(this,"set",function(z){if(!z){console.warn("`fieldsObject` is required in .set()");return}if(c(z)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(z).length===0&&console.warn("empty `fieldsObject` given to .set()"),F._gaCommand("set",z)}),b(this,"_gaCommandSendEvent",function(z,V,L,O,H){F._gtag("event",V,_(_({event_category:z,event_label:L,value:O},H&&{non_interaction:H.nonInteraction}),F._toGtagOptions(H)))}),b(this,"_gaCommandSendEventParameters",function(){for(var z=arguments.length,V=new Array(z),L=0;L<z;L++)V[L]=arguments[L];if(typeof V[0]=="string")F._gaCommandSendEvent.apply(F,h(V.slice(1)));else{var O=V[0],H=O.eventCategory,U=O.eventAction,X=O.eventLabel,le=O.eventValue;O.hitType;var he=a(O,i);F._gaCommandSendEvent(H,U,X,le,he)}}),b(this,"_gaCommandSendTiming",function(z,V,L,O){F._gtag("event","timing_complete",{name:V,value:L,event_category:z,event_label:O})}),b(this,"_gaCommandSendPageview",function(z,V){if(V&&Object.keys(V).length){var L=F._toGtagOptions(V),O=L.title,H=L.location,U=a(L,r);F._gtag("event","page_view",_(_(_(_({},z&&{page_path:z}),O&&{page_title:O}),H&&{page_location:H}),U))}else z?F._gtag("event","page_view",{page_path:z}):F._gtag("event","page_view")}),b(this,"_gaCommandSendPageviewParameters",function(){for(var z=arguments.length,V=new Array(z),L=0;L<z;L++)V[L]=arguments[L];if(typeof V[0]=="string")F._gaCommandSendPageview.apply(F,h(V.slice(1)));else{var O=V[0],H=O.page;O.hitType;var U=a(O,s);F._gaCommandSendPageview(H,U)}}),b(this,"_gaCommandSend",function(){for(var z=arguments.length,V=new Array(z),L=0;L<z;L++)V[L]=arguments[L];var O=typeof V[0]=="string"?V[0]:V[0].hitType;switch(O){case"event":F._gaCommandSendEventParameters.apply(F,V);break;case"pageview":F._gaCommandSendPageviewParameters.apply(F,V);break;case"timing":F._gaCommandSendTiming.apply(F,h(V.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(O));break;default:console.warn("Send command doesn't exist: ".concat(O))}}),b(this,"_gaCommandSet",function(){for(var z=arguments.length,V=new Array(z),L=0;L<z;L++)V[L]=arguments[L];typeof V[0]=="string"&&(V[0]=b({},V[0],V[1])),F._gtag("set",F._toGtagOptions(V[0]))}),b(this,"_gaCommand",function(z){for(var V=arguments.length,L=new Array(V>1?V-1:0),O=1;O<V;O++)L[O-1]=arguments[O];switch(z){case"send":F._gaCommandSend.apply(F,L);break;case"set":F._gaCommandSet.apply(F,L);break;default:console.warn("Command doesn't exist: ".concat(z))}}),b(this,"ga",function(){for(var z=arguments.length,V=new Array(z),L=0;L<z;L++)V[L]=arguments[L];if(typeof V[0]=="string")F._gaCommand.apply(F,V);else{var O=V[0];F._gtag("get",F._currentMeasurementId,"client_id",function(H){F._isQueuing=!1;var U=F._queueGtag;for(O({get:function(he){return he==="clientId"?H:he==="trackingId"?F._currentMeasurementId:he==="apiVersion"?"1":void 0}});U.length;){var X=U.shift();F._gtag.apply(F,h(X))}}),F._isQueuing=!0}return F.ga}),b(this,"event",function(z,V){if(typeof z=="string")F._gtag("event",z,F._toGtagOptions(V));else{var L=z.action,O=z.category,H=z.label,U=z.value,X=z.nonInteraction,le=z.transport;if(!O||!L){console.warn("args.category AND args.action are required in event()");return}var he={hitType:"event",eventCategory:(0,t.default)(O),eventAction:(0,t.default)(L)};H&&(he.eventLabel=(0,t.default)(H)),typeof U<"u"&&(typeof U!="number"?console.warn("Expected `args.value` arg to be a Number."):he.eventValue=U),typeof X<"u"&&(typeof X!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):he.nonInteraction=X),typeof le<"u"&&(typeof le!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(le)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),he.transport=le)),F._gaCommand("send",he)}}),b(this,"send",function(z){F._gaCommand("send",z)}),this.reset()}return B(N,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),N}();n.GA4=$;var q=new $;n.default=q})(dI);(function(n){function e(a){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(a)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ReactGAImplementation=void 0;var t=r(dI);function i(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(i=function(d){return d?c:l})(a)}function r(a,l){if(!l&&a&&a.__esModule)return a;if(a===null||e(a)!=="object"&&typeof a!="function")return{default:a};var c=i(l);if(c&&c.has(a))return c.get(a);var h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var m=d?Object.getOwnPropertyDescriptor(a,p):null;m&&(m.get||m.set)?Object.defineProperty(h,p,m):h[p]=a[p]}return h.default=a,c&&c.set(a,h),h}var s=t.GA4;n.ReactGAImplementation=s;var o=t.default;n.default=o})(fI);const Tw=ty(fI),go=(n,e)=>{let t;typeof e=="object"?t=e.action:t=e,Tw.event({category:n,action:t})},WG=n=>{Y.useEffect(()=>{const e=()=>{const t=window.scrollY,i=document.documentElement.scrollHeight,r=document.documentElement.clientHeight;Math.ceil(t+r)>=i&&go("page_scrolled",{action:`Scrolled through whole page at ${n.pathname}`})};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[n])};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const od="155",Za={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},$a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},gI=0,hA=1,yI=2,jG=3,vI=0,wy=1,of=2,Gr=3,Rs=0,Ci=1,Cr=2,XG=2,ao=0,vl=1,fA=2,dA=3,pA=4,xI=5,il=100,_I=101,AI=102,mA=103,gA=104,MI=200,wI=201,SI=202,EI=203,bw=204,Pw=205,CI=206,TI=207,bI=208,PI=209,RI=210,LI=0,BI=1,II=2,Ug=3,DI=4,FI=5,OI=6,NI=7,ad=0,kI=1,UI=2,Ss=0,zI=1,HI=2,GI=3,Rw=4,VI=5,Sy=300,yo=301,ga=302,Of=303,Nf=304,Gu=306,ya=1e3,$n=1001,wu=1002,An=1003,kf=1004,JG=1004,cu=1005,YG=1005,hn=1006,Ey=1007,KG=1007,Ls=1008,QG=1008,Es=1009,WI=1010,jI=1011,Cy=1012,Lw=1013,io=1014,vs=1015,Su=1016,Bw=1017,Iw=1018,ca=1020,XI=1021,Ni=1023,JI=1024,YI=1025,ua=1026,Ll=1027,KI=1028,Dw=1029,QI=1030,Fw=1031,Ow=1033,qm=33776,Zm=33777,$m=33778,eg=33779,yA=35840,vA=35841,xA=35842,_A=35843,qI=36196,AA=37492,MA=37496,wA=37808,SA=37809,EA=37810,CA=37811,TA=37812,bA=37813,PA=37814,RA=37815,LA=37816,BA=37817,IA=37818,DA=37819,FA=37820,OA=37821,tg=36492,ZI=36283,NA=36284,kA=36285,UA=36286,$I=2200,e2=2201,t2=2202,Eu=2300,Bl=2301,ng=2302,ll=2400,cl=2401,Uf=2402,Ty=2500,Nw=2501,n2=0,kw=1,zg=2,Uw=3e3,ha=3001,i2=3200,r2=3201,Ca=0,s2=1,fa="",mt="srgb",ts="srgb-linear",zw="display-p3",qG=0,ig=7680,ZG=7681,$G=7682,eV=7683,tV=34055,nV=34056,iV=5386,rV=512,sV=513,oV=514,aV=515,lV=516,cV=517,uV=518,o2=519,a2=512,l2=513,c2=514,u2=515,h2=516,f2=517,d2=518,p2=519,zf=35044,hV=35048,fV=35040,dV=35045,pV=35049,mV=35041,gV=35046,yV=35050,vV=35042,xV="100",zA="300 es",Hg=1035,xs=2e3,Hf=2001;class Ds{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ui=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hT=1234567;const xl=Math.PI/180,Cu=180/Math.PI;function nr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ui[n&255]+ui[n>>8&255]+ui[n>>16&255]+ui[n>>24&255]+"-"+ui[e&255]+ui[e>>8&255]+"-"+ui[e>>16&15|64]+ui[e>>24&255]+"-"+ui[t&63|128]+ui[t>>8&255]+"-"+ui[t>>16&255]+ui[t>>24&255]+ui[i&255]+ui[i>>8&255]+ui[i>>16&255]+ui[i>>24&255]).toLowerCase()}function Mn(n,e,t){return Math.max(e,Math.min(t,n))}function Hw(n,e){return(n%e+e)%e}function _V(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function AV(n,e,t){return n!==e?(t-n)/(e-n):0}function af(n,e,t){return(1-t)*n+t*e}function MV(n,e,t,i){return af(n,e,1-Math.exp(-t*i))}function wV(n,e=1){return e-Math.abs(Hw(n,e*2)-e)}function SV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function EV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function CV(n,e){return n+Math.floor(Math.random()*(e-n+1))}function TV(n,e){return n+Math.random()*(e-n)}function bV(n){return n*(.5-Math.random())}function PV(n){n!==void 0&&(hT=n);let e=hT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function RV(n){return n*xl}function LV(n){return n*Cu}function HA(n){return(n&n-1)===0&&n!==0}function m2(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Gg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function BV(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*h,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*h,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*h,a*c);break;case"XZX":n.set(a*h,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*h,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ki(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function _t(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const g2={DEG2RAD:xl,RAD2DEG:Cu,generateUUID:nr,clamp:Mn,euclideanModulo:Hw,mapLinear:_V,inverseLerp:AV,lerp:af,damp:MV,pingpong:wV,smoothstep:SV,smootherstep:EV,randInt:CV,randFloat:TV,randFloatSpread:bV,seededRandom:PV,degToRad:RV,radToDeg:LV,isPowerOfTwo:HA,ceilPowerOfTwo:m2,floorPowerOfTwo:Gg,setQuaternionFromProperEuler:BV,normalize:_t,denormalize:ki};class ye{constructor(e=0,t=0){ye.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Mt{constructor(e,t,i,r,s,o,a,l,c){Mt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],h=i[4],d=i[7],p=i[2],m=i[5],y=i[8],_=r[0],x=r[3],g=r[6],A=r[1],M=r[4],S=r[7],C=r[2],P=r[5],R=r[8];return s[0]=o*_+a*A+l*C,s[3]=o*x+a*M+l*P,s[6]=o*g+a*S+l*R,s[1]=c*_+h*A+d*C,s[4]=c*x+h*M+d*P,s[7]=c*g+h*S+d*R,s[2]=p*_+m*A+y*C,s[5]=p*x+m*M+y*P,s[8]=p*g+m*S+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8];return t*o*h-t*a*c-i*s*h+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=h*o-a*c,p=a*l-h*s,m=c*s-o*l,y=t*d+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=d*_,e[1]=(r*c-h*i)*_,e[2]=(a*i-r*o)*_,e[3]=p*_,e[4]=(h*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=m*_,e[7]=(i*l-c*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(rx.makeScale(e,t)),this}rotate(e){return this.premultiply(rx.makeRotation(-e)),this}translate(e,t){return this.premultiply(rx.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const rx=new Mt;function y2(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const IV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Yc(n,e){return new IV[n](e)}function Gf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const fT={};function lf(n){n in fT||(fT[n]=!0,console.warn(n))}function uu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function sx(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const DV=new Mt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),FV=new Mt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function OV(n){return n.convertSRGBToLinear().applyMatrix3(FV)}function NV(n){return n.applyMatrix3(DV).convertLinearToSRGB()}const kV={[ts]:n=>n,[mt]:n=>n.convertSRGBToLinear(),[zw]:OV},UV={[ts]:n=>n,[mt]:n=>n.convertLinearToSRGB(),[zw]:NV},xr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return ts},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=kV[e],r=UV[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let ac;class Gw{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ac===void 0&&(ac=Gf("canvas")),ac.width=e.width,ac.height=e.height;const i=ac.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=ac}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Gf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=uu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(uu(t[i]/255)*255):t[i]=uu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zV=0;class ul{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zV++}),this.uuid=nr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(ox(r[o].image)):s.push(ox(r[o]))}else s=ox(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function ox(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Gw.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let HV=0;class an extends Ds{constructor(e=an.DEFAULT_IMAGE,t=an.DEFAULT_MAPPING,i=$n,r=$n,s=hn,o=Ls,a=Ni,l=Es,c=an.DEFAULT_ANISOTROPY,h=fa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:HV++}),this.uuid=nr(),this.name="",this.source=new ul(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===ha?mt:fa),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Sy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ya:e.x=e.x-Math.floor(e.x);break;case $n:e.x=e.x<0?0:1;break;case wu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ya:e.y=e.y-Math.floor(e.y);break;case $n:e.y=e.y<0?0:1;break;case wu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===mt?ha:Uw}set encoding(e){lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ha?mt:fa}}an.DEFAULT_IMAGE=null;an.DEFAULT_MAPPING=Sy;an.DEFAULT_ANISOTROPY=1;class zt{constructor(e=0,t=0,i=0,r=1){zt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],h=l[4],d=l[8],p=l[1],m=l[5],y=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(h-p)<.01&&Math.abs(d-_)<.01&&Math.abs(y-x)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+_)<.1&&Math.abs(y+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(c+1)/2,S=(m+1)/2,C=(g+1)/2,P=(h+p)/4,R=(d+_)/4,B=(y+x)/4;return M>S&&M>C?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=P/i,s=R/i):S>C?S<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),i=P/r,s=B/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=R/s,r=B/s),this.set(i,r,s,t),this}let A=Math.sqrt((x-y)*(x-y)+(d-_)*(d-_)+(p-h)*(p-h));return Math.abs(A)<.001&&(A=1),this.x=(x-y)/A,this.y=(d-_)/A,this.z=(p-h)/A,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class v2 extends Ds{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new zt(0,0,e,t),this.scissorTest=!1,this.viewport=new zt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(lf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===ha?mt:fa),this.texture=new an(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:hn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ul(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ns extends v2{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class by extends an{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=$n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class GV extends ns{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new by(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Vw extends an{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=$n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class VV extends ns{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Vw(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class WV extends ns{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Kn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],_=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=_;return}if(d!==_||l!==p||c!==m||h!==y){let x=1-a;const g=l*p+c*m+h*y+d*_,A=g>=0?1:-1,M=1-g*g;if(M>Number.EPSILON){const C=Math.sqrt(M),P=Math.atan2(C,g*A);x=Math.sin(x*P)/C,a=Math.sin(a*P)/C}const S=a*A;if(l=l*x+p*S,c=c*x+m*S,h=h*x+y*S,d=d*x+_*S,x===1-a){const C=1/Math.sqrt(l*l+c*c+h*h+d*d);l*=C,c*=C,h*=C,d*=C}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+h*d+l*m-c*p,e[t+1]=l*y+h*p+c*d-a*m,e[t+2]=c*y+h*m+a*p-l*d,e[t+3]=h*y-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*h*d+c*m*y,this._y=c*m*d-p*h*y,this._z=c*h*y+p*m*d,this._w=c*h*d-p*m*y;break;case"YXZ":this._x=p*h*d+c*m*y,this._y=c*m*d-p*h*y,this._z=c*h*y-p*m*d,this._w=c*h*d+p*m*y;break;case"ZXY":this._x=p*h*d-c*m*y,this._y=c*m*d+p*h*y,this._z=c*h*y+p*m*d,this._w=c*h*d-p*m*y;break;case"ZYX":this._x=p*h*d-c*m*y,this._y=c*m*d+p*h*y,this._z=c*h*y-p*m*d,this._w=c*h*d+p*m*y;break;case"YZX":this._x=p*h*d+c*m*y,this._y=c*m*d+p*h*y,this._z=c*h*y-p*m*d,this._w=c*h*d-p*m*y;break;case"XZY":this._x=p*h*d-c*m*y,this._y=c*m*d-p*h*y,this._z=c*h*y+p*m*d,this._w=c*h*d+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,h=t._w;return this._x=i*h+o*a+r*c-s*l,this._y=r*h+o*l+s*a-i*c,this._z=s*h+o*c+i*l-r*a,this._w=o*h-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),d=Math.sin((1-t)*h)/c,p=Math.sin(t*h)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(dT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(dT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,h=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+h*-a-d*-o,this.y=h*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ax.copy(this).projectOnVector(e),this.sub(ax)}reflect(e){return this.sub(ax.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ax=new k,dT=new Kn;class is{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Vs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Vs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Vs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),lc.copy(e.boundingBox),lc.applyMatrix4(e.matrixWorld),this.union(lc);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Vs.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Vs)}else r.boundingBox===null&&r.computeBoundingBox(),lc.copy(r.boundingBox),lc.applyMatrix4(e.matrixWorld),this.union(lc)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Vs),Vs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Mh),Up.subVectors(this.max,Mh),cc.subVectors(e.a,Mh),uc.subVectors(e.b,Mh),hc.subVectors(e.c,Mh),Lo.subVectors(uc,cc),Bo.subVectors(hc,uc),Ua.subVectors(cc,hc);let t=[0,-Lo.z,Lo.y,0,-Bo.z,Bo.y,0,-Ua.z,Ua.y,Lo.z,0,-Lo.x,Bo.z,0,-Bo.x,Ua.z,0,-Ua.x,-Lo.y,Lo.x,0,-Bo.y,Bo.x,0,-Ua.y,Ua.x,0];return!lx(t,cc,uc,hc,Up)||(t=[1,0,0,0,1,0,0,0,1],!lx(t,cc,uc,hc,Up))?!1:(zp.crossVectors(Lo,Bo),t=[zp.x,zp.y,zp.z],lx(t,cc,uc,hc,Up))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Vs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Gs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Gs=[new k,new k,new k,new k,new k,new k,new k,new k],Vs=new k,lc=new is,cc=new k,uc=new k,hc=new k,Lo=new k,Bo=new k,Ua=new k,Mh=new k,Up=new k,zp=new k,za=new k;function lx(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){za.fromArray(n,s);const a=r.x*Math.abs(za.x)+r.y*Math.abs(za.y)+r.z*Math.abs(za.z),l=e.dot(za),c=t.dot(za),h=i.dot(za);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const jV=new is,wh=new k,cx=new k;class Lr{constructor(e=new k,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):jV.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wh.subVectors(e,this.center);const t=wh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(wh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wh.copy(e.center).add(cx)),this.expandByPoint(wh.copy(e.center).sub(cx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ws=new k,ux=new k,Hp=new k,Io=new k,hx=new k,Gp=new k,fx=new k;class Vu{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ws)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ws.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ws.copy(this.origin).addScaledVector(this.direction,t),Ws.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){ux.copy(e).add(t).multiplyScalar(.5),Hp.copy(t).sub(e).normalize(),Io.copy(this.origin).sub(ux);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Hp),a=Io.dot(this.direction),l=-Io.dot(Hp),c=Io.lengthSq(),h=Math.abs(1-o*o);let d,p,m,y;if(h>0)if(d=o*l-a,p=o*a-l,y=s*h,d>=0)if(p>=-y)if(p<=y){const _=1/h;d*=_,p*=_,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=y?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(ux).addScaledVector(Hp,p),m}intersectSphere(e,t){Ws.subVectors(e.center,this.origin);const i=Ws.dot(this.direction),r=Ws.dot(Ws)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ws)!==null}intersectTriangle(e,t,i,r,s){hx.subVectors(t,e),Gp.subVectors(i,e),fx.crossVectors(hx,Gp);let o=this.direction.dot(fx),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Io.subVectors(this.origin,e);const l=a*this.direction.dot(Gp.crossVectors(Io,Gp));if(l<0)return null;const c=a*this.direction.dot(hx.cross(Io));if(c<0||l+c>o)return null;const h=-a*Io.dot(fx);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class lt{constructor(e,t,i,r,s,o,a,l,c,h,d,p,m,y,_,x){lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,h,d,p,m,y,_,x)}set(e,t,i,r,s,o,a,l,c,h,d,p,m,y,_,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=h,g[10]=d,g[14]=p,g[3]=m,g[7]=y,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/fc.setFromMatrixColumn(e,0).length(),s=1/fc.setFromMatrixColumn(e,1).length(),o=1/fc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,y=a*h,_=a*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=m+y*c,t[5]=p-_*c,t[9]=-a*l,t[2]=_-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,y=c*h,_=c*d;t[0]=p+_*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-y,t[6]=_+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,y=c*h,_=c*d;t[0]=p-_*a,t[4]=-o*d,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*h,t[9]=_-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,y=a*h,_=a*d;t[0]=l*h,t[4]=y*c-m,t[8]=p*c+_,t[1]=l*d,t[5]=_*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,_=a*c;t[0]=l*h,t[4]=_-p*d,t[8]=y*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-c*h,t[6]=m*d+y,t[10]=p-_*d}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,_=a*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=p*d+_,t[5]=o*h,t[9]=m*d-y,t[2]=y*d-m,t[6]=a*h,t[10]=_*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(XV,e,JV)}lookAt(e,t,i){const r=this.elements;return Ki.subVectors(e,t),Ki.lengthSq()===0&&(Ki.z=1),Ki.normalize(),Do.crossVectors(i,Ki),Do.lengthSq()===0&&(Math.abs(i.z)===1?Ki.x+=1e-4:Ki.z+=1e-4,Ki.normalize(),Do.crossVectors(i,Ki)),Do.normalize(),Vp.crossVectors(Ki,Do),r[0]=Do.x,r[4]=Vp.x,r[8]=Ki.x,r[1]=Do.y,r[5]=Vp.y,r[9]=Ki.y,r[2]=Do.z,r[6]=Vp.z,r[10]=Ki.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],h=i[1],d=i[5],p=i[9],m=i[13],y=i[2],_=i[6],x=i[10],g=i[14],A=i[3],M=i[7],S=i[11],C=i[15],P=r[0],R=r[4],B=r[8],b=r[12],I=r[1],J=r[5],$=r[9],q=r[13],N=r[2],F=r[6],z=r[10],V=r[14],L=r[3],O=r[7],H=r[11],U=r[15];return s[0]=o*P+a*I+l*N+c*L,s[4]=o*R+a*J+l*F+c*O,s[8]=o*B+a*$+l*z+c*H,s[12]=o*b+a*q+l*V+c*U,s[1]=h*P+d*I+p*N+m*L,s[5]=h*R+d*J+p*F+m*O,s[9]=h*B+d*$+p*z+m*H,s[13]=h*b+d*q+p*V+m*U,s[2]=y*P+_*I+x*N+g*L,s[6]=y*R+_*J+x*F+g*O,s[10]=y*B+_*$+x*z+g*H,s[14]=y*b+_*q+x*V+g*U,s[3]=A*P+M*I+S*N+C*L,s[7]=A*R+M*J+S*F+C*O,s[11]=A*B+M*$+S*z+C*H,s[15]=A*b+M*q+S*V+C*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],h=e[2],d=e[6],p=e[10],m=e[14],y=e[3],_=e[7],x=e[11],g=e[15];return y*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+_*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*h-s*l*h)+x*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*h-i*c*h)+g*(-r*a*h-t*l*d+t*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=e[9],p=e[10],m=e[11],y=e[12],_=e[13],x=e[14],g=e[15],A=d*x*c-_*p*c+_*l*m-a*x*m-d*l*g+a*p*g,M=y*p*c-h*x*c-y*l*m+o*x*m+h*l*g-o*p*g,S=h*_*c-y*d*c+y*a*m-o*_*m-h*a*g+o*d*g,C=y*d*l-h*_*l-y*a*p+o*_*p+h*a*x-o*d*x,P=t*A+i*M+r*S+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=A*R,e[1]=(_*p*s-d*x*s-_*r*m+i*x*m+d*r*g-i*p*g)*R,e[2]=(a*x*s-_*l*s+_*r*c-i*x*c-a*r*g+i*l*g)*R,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*R,e[4]=M*R,e[5]=(h*x*s-y*p*s+y*r*m-t*x*m-h*r*g+t*p*g)*R,e[6]=(y*l*s-o*x*s-y*r*c+t*x*c+o*r*g-t*l*g)*R,e[7]=(o*p*s-h*l*s+h*r*c-t*p*c-o*r*m+t*l*m)*R,e[8]=S*R,e[9]=(y*d*s-h*_*s-y*i*m+t*_*m+h*i*g-t*d*g)*R,e[10]=(o*_*s-y*a*s+y*i*c-t*_*c-o*i*g+t*a*g)*R,e[11]=(h*a*s-o*d*s-h*i*c+t*d*c+o*i*m-t*a*m)*R,e[12]=C*R,e[13]=(h*_*r-y*d*r+y*i*p-t*_*p-h*i*x+t*d*x)*R,e[14]=(y*a*r-o*_*r-y*i*l+t*_*l+o*i*x-t*a*x)*R,e[15]=(o*d*r-h*a*r+h*i*l-t*d*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,h=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,h*a+i,h*l-r*o,0,c*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,h=o+o,d=a+a,p=s*c,m=s*h,y=s*d,_=o*h,x=o*d,g=a*d,A=l*c,M=l*h,S=l*d,C=i.x,P=i.y,R=i.z;return r[0]=(1-(_+g))*C,r[1]=(m+S)*C,r[2]=(y-M)*C,r[3]=0,r[4]=(m-S)*P,r[5]=(1-(p+g))*P,r[6]=(x+A)*P,r[7]=0,r[8]=(y+M)*R,r[9]=(x-A)*R,r[10]=(1-(p+_))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=fc.set(r[0],r[1],r[2]).length();const o=fc.set(r[4],r[5],r[6]).length(),a=fc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],kr.copy(this);const c=1/s,h=1/o,d=1/a;return kr.elements[0]*=c,kr.elements[1]*=c,kr.elements[2]*=c,kr.elements[4]*=h,kr.elements[5]*=h,kr.elements[6]*=h,kr.elements[8]*=d,kr.elements[9]*=d,kr.elements[10]*=d,t.setFromRotationMatrix(kr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=xs){const l=this.elements,c=2*s/(t-e),h=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,y;if(a===xs)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===Hf)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=xs){const l=this.elements,c=1/(t-e),h=1/(i-r),d=1/(o-s),p=(t+e)*c,m=(i+r)*h;let y,_;if(a===xs)y=(o+s)*d,_=-2*d;else if(a===Hf)y=s*d,_=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const fc=new k,kr=new lt,XV=new k(0,0,0),JV=new k(1,1,1),Do=new k,Vp=new k,Ki=new k,pT=new lt,mT=new Kn;class ld{constructor(e=0,t=0,i=0,r=ld.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Mn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Mn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Mn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Mn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return pT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pT,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return mT.setFromEuler(this),this.setFromQuaternion(mT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ld.DEFAULT_ORDER="XYZ";class _l{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let YV=0;const gT=new k,dc=new Kn,js=new lt,Wp=new k,Sh=new k,KV=new k,QV=new Kn,yT=new k(1,0,0),vT=new k(0,1,0),xT=new k(0,0,1),qV={type:"added"},_T={type:"removed"};class Lt extends Ds{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:YV++}),this.uuid=nr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Lt.DEFAULT_UP.clone();const e=new k,t=new ld,i=new Kn,r=new k(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new lt},normalMatrix:{value:new Mt}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Lt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new _l,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return dc.setFromAxisAngle(e,t),this.quaternion.multiply(dc),this}rotateOnWorldAxis(e,t){return dc.setFromAxisAngle(e,t),this.quaternion.premultiply(dc),this}rotateX(e){return this.rotateOnAxis(yT,e)}rotateY(e){return this.rotateOnAxis(vT,e)}rotateZ(e){return this.rotateOnAxis(xT,e)}translateOnAxis(e,t){return gT.copy(e).applyQuaternion(this.quaternion),this.position.add(gT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(yT,e)}translateY(e){return this.translateOnAxis(vT,e)}translateZ(e){return this.translateOnAxis(xT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(js.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Wp.copy(e):Wp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Sh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?js.lookAt(Sh,Wp,this.up):js.lookAt(Wp,Sh,this.up),this.quaternion.setFromRotationMatrix(js),r&&(js.extractRotation(r.matrixWorld),dc.setFromRotationMatrix(js),this.quaternion.premultiply(dc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(qV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(_T)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(_T)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),js.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),js.multiply(e.parent.matrixWorld)),e.applyMatrix4(js),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sh,e,KV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sh,QV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const h=a[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Lt.DEFAULT_UP=new k(0,1,0);Lt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ur=new k,Xs=new k,dx=new k,Js=new k,pc=new k,mc=new k,AT=new k,px=new k,mx=new k,gx=new k;let jp=!1;class Oi{constructor(e=new k,t=new k,i=new k){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ur.subVectors(e,t),r.cross(Ur);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ur.subVectors(r,t),Xs.subVectors(i,t),dx.subVectors(e,t);const o=Ur.dot(Ur),a=Ur.dot(Xs),l=Ur.dot(dx),c=Xs.dot(Xs),h=Xs.dot(dx),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*h)*p,y=(o*h-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Js),Js.x>=0&&Js.y>=0&&Js.x+Js.y<=1}static getUV(e,t,i,r,s,o,a,l){return jp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),jp=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Js),l.setScalar(0),l.addScaledVector(s,Js.x),l.addScaledVector(o,Js.y),l.addScaledVector(a,Js.z),l}static isFrontFacing(e,t,i,r){return Ur.subVectors(i,t),Xs.subVectors(e,t),Ur.cross(Xs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ur.subVectors(this.c,this.b),Xs.subVectors(this.a,this.b),Ur.cross(Xs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Oi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Oi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return jp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),jp=!0),Oi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Oi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Oi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Oi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;pc.subVectors(r,i),mc.subVectors(s,i),px.subVectors(e,i);const l=pc.dot(px),c=mc.dot(px);if(l<=0&&c<=0)return t.copy(i);mx.subVectors(e,r);const h=pc.dot(mx),d=mc.dot(mx);if(h>=0&&d<=h)return t.copy(r);const p=l*d-h*c;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(i).addScaledVector(pc,o);gx.subVectors(e,s);const m=pc.dot(gx),y=mc.dot(gx);if(y>=0&&m<=y)return t.copy(s);const _=m*c-l*y;if(_<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(i).addScaledVector(mc,a);const x=h*y-m*d;if(x<=0&&d-h>=0&&m-y>=0)return AT.subVectors(s,r),a=(d-h)/(d-h+(m-y)),t.copy(r).addScaledVector(AT,a);const g=1/(x+_+p);return o=_*g,a=p*g,t.copy(i).addScaledVector(pc,o).addScaledVector(mc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let ZV=0;class Fn extends Ds{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ZV++}),this.uuid=nr(),this.name="",this.type="Material",this.blending=vl,this.side=Rs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bw,this.blendDst=Pw,this.blendEquation=il,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ug,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=o2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ig,this.stencilZFail=ig,this.stencilZPass=ig,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==vl&&(i.blending=this.blending),this.side!==Rs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const x2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zr={h:0,s:0,l:0},Xp={h:0,s:0,l:0};function yx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ne{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=mt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,xr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=xr.workingColorSpace){return this.r=e,this.g=t,this.b=i,xr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=xr.workingColorSpace){if(e=Hw(e,1),t=Mn(t,0,1),i=Mn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=yx(o,s,e+1/3),this.g=yx(o,s,e),this.b=yx(o,s,e-1/3)}return xr.toWorkingColorSpace(this,r),this}setStyle(e,t=mt){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=mt){const i=x2[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=uu(e.r),this.g=uu(e.g),this.b=uu(e.b),this}copyLinearToSRGB(e){return this.r=sx(e.r),this.g=sx(e.g),this.b=sx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=mt){return xr.fromWorkingColorSpace(hi.copy(this),e),Math.round(Mn(hi.r*255,0,255))*65536+Math.round(Mn(hi.g*255,0,255))*256+Math.round(Mn(hi.b*255,0,255))}getHexString(e=mt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=xr.workingColorSpace){xr.fromWorkingColorSpace(hi.copy(this),t);const i=hi.r,r=hi.g,s=hi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const h=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=xr.workingColorSpace){return xr.fromWorkingColorSpace(hi.copy(this),t),e.r=hi.r,e.g=hi.g,e.b=hi.b,e}getStyle(e=mt){xr.fromWorkingColorSpace(hi.copy(this),e);const t=hi.r,i=hi.g,r=hi.b;return e!==mt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(zr),zr.h+=e,zr.s+=t,zr.l+=i,this.setHSL(zr.h,zr.s,zr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(zr),e.getHSL(Xp);const i=af(zr.h,Xp.h,t),r=af(zr.s,Xp.s,t),s=af(zr.l,Xp.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const hi=new Ne;Ne.NAMES=x2;class er extends Fn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ne(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ad,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $s=$V();function $V(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,s[l]=c|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Di(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Mn(n,-65504,65504),$s.floatView[0]=n;const e=$s.uint32View[0],t=e>>23&511;return $s.baseTable[t]+((e&8388607)>>$s.shiftTable[t])}function Wh(n){const e=n>>10;return $s.uint32View[0]=$s.mantissaTable[$s.offsetTable[e]+(n&1023)]+$s.exponentTable[e],$s.floatView[0]}const e4={toHalfFloat:Di,fromHalfFloat:Wh},Ln=new k,Jp=new ye;class kt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=zf,this.updateRange={offset:0,count:-1},this.gpuType=vs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Jp.fromBufferAttribute(this,t),Jp.applyMatrix3(e),this.setXY(t,Jp.x,Jp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.applyMatrix3(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.applyMatrix4(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.applyNormalMatrix(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.transformDirection(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ki(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=_t(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==zf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class t4 extends kt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class n4 extends kt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class i4 extends kt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class r4 extends kt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Ww extends kt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class s4 extends kt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class jw extends kt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class o4 extends kt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Wh(this.array[e*this.itemSize]);return this.normalized&&(t=ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=Di(t),this}getY(e){let t=Wh(this.array[e*this.itemSize+1]);return this.normalized&&(t=ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=Di(t),this}getZ(e){let t=Wh(this.array[e*this.itemSize+2]);return this.normalized&&(t=ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=Di(t),this}getW(e){let t=Wh(this.array[e*this.itemSize+3]);return this.normalized&&(t=ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=Di(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.array[e+0]=Di(t),this.array[e+1]=Di(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=Di(t),this.array[e+1]=Di(i),this.array[e+2]=Di(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.array[e+0]=Di(t),this.array[e+1]=Di(i),this.array[e+2]=Di(r),this.array[e+3]=Di(s),this}}class Ke extends kt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class a4 extends kt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let l4=0;const yr=new lt,vx=new Lt,gc=new k,Qi=new is,Eh=new is,jn=new k;class gt extends Ds{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:l4++}),this.uuid=nr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(y2(e)?jw:Ww)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Mt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yr.makeRotationFromQuaternion(e),this.applyMatrix4(yr),this}rotateX(e){return yr.makeRotationX(e),this.applyMatrix4(yr),this}rotateY(e){return yr.makeRotationY(e),this.applyMatrix4(yr),this}rotateZ(e){return yr.makeRotationZ(e),this.applyMatrix4(yr),this}translate(e,t,i){return yr.makeTranslation(e,t,i),this.applyMatrix4(yr),this}scale(e,t,i){return yr.makeScale(e,t,i),this.applyMatrix4(yr),this}lookAt(e){return vx.lookAt(e),vx.updateMatrix(),this.applyMatrix4(vx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gc).negate(),this.translate(gc.x,gc.y,gc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ke(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Qi.setFromBufferAttribute(s),this.morphTargetsRelative?(jn.addVectors(this.boundingBox.min,Qi.min),this.boundingBox.expandByPoint(jn),jn.addVectors(this.boundingBox.max,Qi.max),this.boundingBox.expandByPoint(jn)):(this.boundingBox.expandByPoint(Qi.min),this.boundingBox.expandByPoint(Qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new k,1/0);return}if(e){const i=this.boundingSphere.center;if(Qi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Eh.setFromBufferAttribute(a),this.morphTargetsRelative?(jn.addVectors(Qi.min,Eh.min),Qi.expandByPoint(jn),jn.addVectors(Qi.max,Eh.max),Qi.expandByPoint(jn)):(Qi.expandByPoint(Eh.min),Qi.expandByPoint(Eh.max))}Qi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)jn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(jn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)jn.fromBufferAttribute(a,c),l&&(gc.fromBufferAttribute(e,c),jn.add(gc)),r=Math.max(r,i.distanceToSquared(jn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],h=[];for(let I=0;I<a;I++)c[I]=new k,h[I]=new k;const d=new k,p=new k,m=new k,y=new ye,_=new ye,x=new ye,g=new k,A=new k;function M(I,J,$){d.fromArray(r,I*3),p.fromArray(r,J*3),m.fromArray(r,$*3),y.fromArray(o,I*2),_.fromArray(o,J*2),x.fromArray(o,$*2),p.sub(d),m.sub(d),_.sub(y),x.sub(y);const q=1/(_.x*x.y-x.x*_.y);isFinite(q)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-_.y).multiplyScalar(q),A.copy(m).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(q),c[I].add(g),c[J].add(g),c[$].add(g),h[I].add(A),h[J].add(A),h[$].add(A))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let I=0,J=S.length;I<J;++I){const $=S[I],q=$.start,N=$.count;for(let F=q,z=q+N;F<z;F+=3)M(i[F+0],i[F+1],i[F+2])}const C=new k,P=new k,R=new k,B=new k;function b(I){R.fromArray(s,I*3),B.copy(R);const J=c[I];C.copy(J),C.sub(R.multiplyScalar(R.dot(J))).normalize(),P.crossVectors(B,J);const q=P.dot(h[I])<0?-1:1;l[I*4]=C.x,l[I*4+1]=C.y,l[I*4+2]=C.z,l[I*4+3]=q}for(let I=0,J=S.length;I<J;++I){const $=S[I],q=$.start,N=$.count;for(let F=q,z=q+N;F<z;F+=3)b(i[F+0]),b(i[F+1]),b(i[F+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new kt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new k,s=new k,o=new k,a=new k,l=new k,c=new k,h=new k,d=new k;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,x),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,x),a.add(h),l.add(h),c.add(h),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)jn.fromBufferAttribute(e,t),jn.normalize(),e.setXYZ(t,jn.x,jn.y,jn.z)}toNonIndexed(){function e(a,l){const c=a.array,h=a.itemSize,d=a.normalized,p=new c.constructor(l.length*h);let m=0,y=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*h;for(let g=0;g<h;g++)p[y++]=c[m++]}return new kt(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new gt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let h=0,d=c.length;h<d;h++){const p=c[h],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const h=r[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],d=s[c];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const MT=new lt,Ha=new Vu,Yp=new Lr,wT=new k,yc=new k,vc=new k,xc=new k,xx=new k,Kp=new k,Qp=new ye,qp=new ye,Zp=new ye,ST=new k,ET=new k,CT=new k,$p=new k,em=new k;class Jn extends Lt{constructor(e=new gt,t=new er){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Kp.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const h=a[l],d=s[l];h!==0&&(xx.fromBufferAttribute(d,e),o?Kp.addScaledVector(xx,h):Kp.addScaledVector(xx.sub(t),h))}t.add(Kp)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Yp.copy(i.boundingSphere),Yp.applyMatrix4(s),Ha.copy(e.ray).recast(e.near),!(Yp.containsPoint(Ha.origin)===!1&&(Ha.intersectSphere(Yp,wT)===null||Ha.origin.distanceToSquared(wT)>(e.far-e.near)**2))&&(MT.copy(s).invert(),Ha.copy(e.ray).applyMatrix4(MT),!(i.boundingBox!==null&&Ha.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Ha)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,_=p.length;y<_;y++){const x=p[y],g=o[x.materialIndex],A=Math.max(x.start,m.start),M=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let S=A,C=M;S<C;S+=3){const P=a.getX(S),R=a.getX(S+1),B=a.getX(S+2);r=tm(this,g,e,i,c,h,d,P,R,B),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=y,g=_;x<g;x+=3){const A=a.getX(x),M=a.getX(x+1),S=a.getX(x+2);r=tm(this,o,e,i,c,h,d,A,M,S),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,_=p.length;y<_;y++){const x=p[y],g=o[x.materialIndex],A=Math.max(x.start,m.start),M=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let S=A,C=M;S<C;S+=3){const P=S,R=S+1,B=S+2;r=tm(this,g,e,i,c,h,d,P,R,B),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=y,g=_;x<g;x+=3){const A=x,M=x+1,S=x+2;r=tm(this,o,e,i,c,h,d,A,M,S),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function c4(n,e,t,i,r,s,o,a){let l;if(e.side===Ci?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Rs,a),l===null)return null;em.copy(a),em.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(em);return c<t.near||c>t.far?null:{distance:c,point:em.clone(),object:n}}function tm(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,yc),n.getVertexPosition(l,vc),n.getVertexPosition(c,xc);const h=c4(n,e,t,i,yc,vc,xc,$p);if(h){r&&(Qp.fromBufferAttribute(r,a),qp.fromBufferAttribute(r,l),Zp.fromBufferAttribute(r,c),h.uv=Oi.getInterpolation($p,yc,vc,xc,Qp,qp,Zp,new ye)),s&&(Qp.fromBufferAttribute(s,a),qp.fromBufferAttribute(s,l),Zp.fromBufferAttribute(s,c),h.uv1=Oi.getInterpolation($p,yc,vc,xc,Qp,qp,Zp,new ye),h.uv2=h.uv1),o&&(ST.fromBufferAttribute(o,a),ET.fromBufferAttribute(o,l),CT.fromBufferAttribute(o,c),h.normal=Oi.getInterpolation($p,yc,vc,xc,ST,ET,CT,new k),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new k,materialIndex:0};Oi.getNormal(yc,vc,xc,d.normal),h.face=d}return h}class Ul extends gt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],d=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ke(c,3)),this.setAttribute("normal",new Ke(h,3)),this.setAttribute("uv",new Ke(d,2));function y(_,x,g,A,M,S,C,P,R,B,b){const I=S/R,J=C/B,$=S/2,q=C/2,N=P/2,F=R+1,z=B+1;let V=0,L=0;const O=new k;for(let H=0;H<z;H++){const U=H*J-q;for(let X=0;X<F;X++){const le=X*I-$;O[_]=le*A,O[x]=U*M,O[g]=N,c.push(O.x,O.y,O.z),O[_]=0,O[x]=0,O[g]=P>0?1:-1,h.push(O.x,O.y,O.z),d.push(X/R),d.push(1-H/B),V+=1}}for(let H=0;H<B;H++)for(let U=0;U<R;U++){const X=p+U+F*H,le=p+U+F*(H+1),he=p+(U+1)+F*(H+1),ve=p+(U+1)+F*H;l.push(X,le,ve),l.push(le,he,ve),L+=6}a.addGroup(m,L,b),m+=L,p+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ul(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Tu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Mi(n){const e={};for(let t=0;t<n.length;t++){const i=Tu(n[t]);for(const r in i)e[r]=i[r]}return e}function u4(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function _2(n){return n.getRenderTarget()===null?n.outputColorSpace:ts}const A2={clone:Tu,merge:Mi};var h4=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,f4=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Bs extends Fn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=h4,this.fragmentShader=f4,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Tu(e.uniforms),this.uniformsGroups=u4(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class cd extends Lt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt,this.coordinateSystem=xs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class sn extends cd{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Cu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(xl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cu*2*Math.atan(Math.tan(xl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(xl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const _c=-90,Ac=1;class Xw extends Lt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new sn(_c,Ac,e,t);r.layers=this.layers,this.add(r);const s=new sn(_c,Ac,e,t);s.layers=this.layers,this.add(s);const o=new sn(_c,Ac,e,t);o.layers=this.layers,this.add(o);const a=new sn(_c,Ac,e,t);a.layers=this.layers,this.add(a);const l=new sn(_c,Ac,e,t);l.layers=this.layers,this.add(l);const c=new sn(_c,Ac,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===xs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Hf)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,c]=this.children,h=e.getRenderTarget(),d=e.xr.enabled;e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(h),e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class ud extends an{constructor(e,t,i,r,s,o,a,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:yo,super(e,t,i,r,s,o,a,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Jw extends ns{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(lf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===ha?mt:fa),this.texture=new ud(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ul(5,5,5),s=new Bs({name:"CubemapFromEquirect",uniforms:Tu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ci,blending:ao});s.uniforms.tEquirect.value=t;const o=new Jn(r,s),a=t.minFilter;return t.minFilter===Ls&&(t.minFilter=hn),new Xw(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const _x=new k,d4=new k,p4=new Mt;class Wo{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=_x.subVectors(i,t).cross(d4.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(_x),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||p4.getNormalMatrix(e),r=this.coplanarPoint(_x).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ga=new Lr,nm=new k;class Py{constructor(e=new Wo,t=new Wo,i=new Wo,r=new Wo,s=new Wo,o=new Wo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=xs){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],h=r[5],d=r[6],p=r[7],m=r[8],y=r[9],_=r[10],x=r[11],g=r[12],A=r[13],M=r[14],S=r[15];if(i[0].setComponents(l-s,p-c,x-m,S-g).normalize(),i[1].setComponents(l+s,p+c,x+m,S+g).normalize(),i[2].setComponents(l+o,p+h,x+y,S+A).normalize(),i[3].setComponents(l-o,p-h,x-y,S-A).normalize(),i[4].setComponents(l-a,p-d,x-_,S-M).normalize(),t===xs)i[5].setComponents(l+a,p+d,x+_,S+M).normalize();else if(t===Hf)i[5].setComponents(a,d,_,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ga.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ga.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ga)}intersectsSprite(e){return Ga.center.set(0,0,0),Ga.radius=.7071067811865476,Ga.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ga)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(nm.x=r.normal.x>0?e.max.x:e.min.x,nm.y=r.normal.y>0?e.max.y:e.min.y,nm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(nm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function M2(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function m4(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,h){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,d,p),c.onUploadCallback();let y;if(d instanceof Float32Array)y=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=n.SHORT;else if(d instanceof Uint32Array)y=n.UNSIGNED_INT;else if(d instanceof Int32Array)y=n.INT;else if(d instanceof Int8Array)y=n.BYTE;else if(d instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,h,d){const p=h.array,m=h.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h&&(n.deleteBuffer(h.buffer),i.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,h)):d.version<c.version&&(s(d.buffer,c,h),d.version=c.version)}return{get:o,remove:a,update:l}}class hd extends gt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,h=l+1,d=e/a,p=t/l,m=[],y=[],_=[],x=[];for(let g=0;g<h;g++){const A=g*p-o;for(let M=0;M<c;M++){const S=M*d-s;y.push(S,-A,0),_.push(0,0,1),x.push(M/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let A=0;A<a;A++){const M=A+c*g,S=A+c*(g+1),C=A+1+c*(g+1),P=A+1+c*g;m.push(M,S,P),m.push(S,C,P)}this.setIndex(m),this.setAttribute("position",new Ke(y,3)),this.setAttribute("normal",new Ke(_,3)),this.setAttribute("uv",new Ke(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hd(e.width,e.height,e.widthSegments,e.heightSegments)}}var g4=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,y4=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,v4=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,x4=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_4=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,A4=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,M4=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,w4=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,S4=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,E4=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,C4=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,T4=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,b4=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,P4=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,R4=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,L4=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,B4=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,I4=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,D4=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,F4=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,O4=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,N4=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,k4=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,U4=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,z4=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,H4=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,G4=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,V4=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,W4="gl_FragColor = linearToOutputTexel( gl_FragColor );",j4=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,X4=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,J4=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Y4=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,K4=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Q4=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,q4=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Z4=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$4=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,e9=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,t9=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,n9=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,i9=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,r9=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,s9=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,o9=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,a9=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,l9=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,c9=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,u9=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,h9=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,f9=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,d9=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,p9=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,m9=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,g9=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,y9=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,v9=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,x9=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,_9=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,A9=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,M9=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,w9=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,S9=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,E9=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,C9=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,T9=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,b9=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,P9=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,R9=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,L9=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,B9=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,I9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,F9=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,O9=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,N9=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,k9=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,U9=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,z9=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,H9=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,G9=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,V9=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,W9=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,j9=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,X9=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,J9=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Y9=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,K9=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Q9=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,q9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Z9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,e5=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,t5=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,n5=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,i5=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,r5=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,s5=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,o5=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,a5=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,l5=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,c5=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,u5=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,h5=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,f5=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const d5=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,p5=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,m5=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,g5=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,y5=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,v5=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,x5=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,_5=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,A5=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,M5=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,w5=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,S5=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,E5=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,C5=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,T5=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,b5=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,P5=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,R5=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,L5=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,B5=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I5=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,D5=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,F5=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,O5=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,k5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U5=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z5=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,H5=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,G5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,V5=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W5=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,j5=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,X5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xt={alphahash_fragment:g4,alphahash_pars_fragment:y4,alphamap_fragment:v4,alphamap_pars_fragment:x4,alphatest_fragment:_4,alphatest_pars_fragment:A4,aomap_fragment:M4,aomap_pars_fragment:w4,begin_vertex:S4,beginnormal_vertex:E4,bsdfs:C4,iridescence_fragment:T4,bumpmap_pars_fragment:b4,clipping_planes_fragment:P4,clipping_planes_pars_fragment:R4,clipping_planes_pars_vertex:L4,clipping_planes_vertex:B4,color_fragment:I4,color_pars_fragment:D4,color_pars_vertex:F4,color_vertex:O4,common:N4,cube_uv_reflection_fragment:k4,defaultnormal_vertex:U4,displacementmap_pars_vertex:z4,displacementmap_vertex:H4,emissivemap_fragment:G4,emissivemap_pars_fragment:V4,colorspace_fragment:W4,colorspace_pars_fragment:j4,envmap_fragment:X4,envmap_common_pars_fragment:J4,envmap_pars_fragment:Y4,envmap_pars_vertex:K4,envmap_physical_pars_fragment:a9,envmap_vertex:Q4,fog_vertex:q4,fog_pars_vertex:Z4,fog_fragment:$4,fog_pars_fragment:e9,gradientmap_pars_fragment:t9,lightmap_fragment:n9,lightmap_pars_fragment:i9,lights_lambert_fragment:r9,lights_lambert_pars_fragment:s9,lights_pars_begin:o9,lights_toon_fragment:l9,lights_toon_pars_fragment:c9,lights_phong_fragment:u9,lights_phong_pars_fragment:h9,lights_physical_fragment:f9,lights_physical_pars_fragment:d9,lights_fragment_begin:p9,lights_fragment_maps:m9,lights_fragment_end:g9,logdepthbuf_fragment:y9,logdepthbuf_pars_fragment:v9,logdepthbuf_pars_vertex:x9,logdepthbuf_vertex:_9,map_fragment:A9,map_pars_fragment:M9,map_particle_fragment:w9,map_particle_pars_fragment:S9,metalnessmap_fragment:E9,metalnessmap_pars_fragment:C9,morphcolor_vertex:T9,morphnormal_vertex:b9,morphtarget_pars_vertex:P9,morphtarget_vertex:R9,normal_fragment_begin:L9,normal_fragment_maps:B9,normal_pars_fragment:I9,normal_pars_vertex:D9,normal_vertex:F9,normalmap_pars_fragment:O9,clearcoat_normal_fragment_begin:N9,clearcoat_normal_fragment_maps:k9,clearcoat_pars_fragment:U9,iridescence_pars_fragment:z9,opaque_fragment:H9,packing:G9,premultiplied_alpha_fragment:V9,project_vertex:W9,dithering_fragment:j9,dithering_pars_fragment:X9,roughnessmap_fragment:J9,roughnessmap_pars_fragment:Y9,shadowmap_pars_fragment:K9,shadowmap_pars_vertex:Q9,shadowmap_vertex:q9,shadowmask_pars_fragment:Z9,skinbase_vertex:$9,skinning_pars_vertex:e5,skinning_vertex:t5,skinnormal_vertex:n5,specularmap_fragment:i5,specularmap_pars_fragment:r5,tonemapping_fragment:s5,tonemapping_pars_fragment:o5,transmission_fragment:a5,transmission_pars_fragment:l5,uv_pars_fragment:c5,uv_pars_vertex:u5,uv_vertex:h5,worldpos_vertex:f5,background_vert:d5,background_frag:p5,backgroundCube_vert:m5,backgroundCube_frag:g5,cube_vert:y5,cube_frag:v5,depth_vert:x5,depth_frag:_5,distanceRGBA_vert:A5,distanceRGBA_frag:M5,equirect_vert:w5,equirect_frag:S5,linedashed_vert:E5,linedashed_frag:C5,meshbasic_vert:T5,meshbasic_frag:b5,meshlambert_vert:P5,meshlambert_frag:R5,meshmatcap_vert:L5,meshmatcap_frag:B5,meshnormal_vert:I5,meshnormal_frag:D5,meshphong_vert:F5,meshphong_frag:O5,meshphysical_vert:N5,meshphysical_frag:k5,meshtoon_vert:U5,meshtoon_frag:z5,points_vert:H5,points_frag:G5,shadow_vert:V5,shadow_frag:W5,sprite_vert:j5,sprite_frag:X5},Oe={common:{diffuse:{value:new Ne(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Mt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Mt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Mt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Mt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Mt},normalScale:{value:new ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Mt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Mt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Mt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Mt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ne(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ne(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0},uvTransform:{value:new Mt}},sprite:{diffuse:{value:new Ne(16777215)},opacity:{value:1},center:{value:new ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0}}},jr={basic:{uniforms:Mi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:Mi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Ne(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:Mi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Ne(0)},specular:{value:new Ne(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:Mi([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Ne(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:Mi([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Ne(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:Mi([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:Mi([Oe.points,Oe.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:Mi([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:Mi([Oe.common,Oe.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:Mi([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:Mi([Oe.sprite,Oe.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Mt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:Mi([Oe.common,Oe.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:Mi([Oe.lights,Oe.fog,{color:{value:new Ne(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};jr.physical={uniforms:Mi([jr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Mt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Mt},clearcoatNormalScale:{value:new ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Mt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Mt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Mt},sheen:{value:0},sheenColor:{value:new Ne(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Mt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Mt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Mt},transmissionSamplerSize:{value:new ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Mt},attenuationDistance:{value:0},attenuationColor:{value:new Ne(0)},specularColor:{value:new Ne(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Mt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Mt},anisotropyVector:{value:new ye},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Mt}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};const im={r:0,b:0,g:0};function J5(n,e,t,i,r,s,o){const a=new Ne(0);let l=s===!0?0:1,c,h,d=null,p=0,m=null;function y(x,g){let A=!1,M=g.isScene===!0?g.background:null;switch(M&&M.isTexture&&(M=(g.backgroundBlurriness>0?t:e).get(M)),M===null?_(a,l):M&&M.isColor&&(_(M,1),A=!0),n.xr.getEnvironmentBlendMode()){case"opaque":A=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),A=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),A=!0;break}(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),M&&(M.isCubeTexture||M.mapping===Gu)?(h===void 0&&(h=new Jn(new Ul(1,1,1),new Bs({name:"BackgroundCubeMaterial",uniforms:Tu(jr.backgroundCube.uniforms),vertexShader:jr.backgroundCube.vertexShader,fragmentShader:jr.backgroundCube.fragmentShader,side:Ci,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,R,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=M,h.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=M.colorSpace!==mt,(d!==M||p!==M.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new Jn(new hd(2,2),new Bs({name:"BackgroundMaterial",uniforms:Tu(jr.background.uniforms),vertexShader:jr.background.vertexShader,fragmentShader:jr.background.fragmentShader,side:Rs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=M.colorSpace!==mt,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(d!==M||p!==M.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function _(x,g){x.getRGB(im,_2(n)),i.buffers.color.setClear(im.r,im.g,im.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,_(a,l)},render:y}}function Y5(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let c=l,h=!1;function d(N,F,z,V,L){let O=!1;if(o){const H=_(V,z,F);c!==H&&(c=H,m(c.object)),O=g(N,V,z,L),O&&A(N,V,z,L)}else{const H=F.wireframe===!0;(c.geometry!==V.id||c.program!==z.id||c.wireframe!==H)&&(c.geometry=V.id,c.program=z.id,c.wireframe=H,O=!0)}L!==null&&t.update(L,n.ELEMENT_ARRAY_BUFFER),(O||h)&&(h=!1,B(N,F,z,V),L!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(L).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(N){return i.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function y(N){return i.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function _(N,F,z){const V=z.wireframe===!0;let L=a[N.id];L===void 0&&(L={},a[N.id]=L);let O=L[F.id];O===void 0&&(O={},L[F.id]=O);let H=O[V];return H===void 0&&(H=x(p()),O[V]=H),H}function x(N){const F=[],z=[],V=[];for(let L=0;L<r;L++)F[L]=0,z[L]=0,V[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:z,attributeDivisors:V,object:N,attributes:{},index:null}}function g(N,F,z,V){const L=c.attributes,O=F.attributes;let H=0;const U=z.getAttributes();for(const X in U)if(U[X].location>=0){const he=L[X];let ve=O[X];if(ve===void 0&&(X==="instanceMatrix"&&N.instanceMatrix&&(ve=N.instanceMatrix),X==="instanceColor"&&N.instanceColor&&(ve=N.instanceColor)),he===void 0||he.attribute!==ve||ve&&he.data!==ve.data)return!0;H++}return c.attributesNum!==H||c.index!==V}function A(N,F,z,V){const L={},O=F.attributes;let H=0;const U=z.getAttributes();for(const X in U)if(U[X].location>=0){let he=O[X];he===void 0&&(X==="instanceMatrix"&&N.instanceMatrix&&(he=N.instanceMatrix),X==="instanceColor"&&N.instanceColor&&(he=N.instanceColor));const ve={};ve.attribute=he,he&&he.data&&(ve.data=he.data),L[X]=ve,H++}c.attributes=L,c.attributesNum=H,c.index=V}function M(){const N=c.newAttributes;for(let F=0,z=N.length;F<z;F++)N[F]=0}function S(N){C(N,0)}function C(N,F){const z=c.newAttributes,V=c.enabledAttributes,L=c.attributeDivisors;z[N]=1,V[N]===0&&(n.enableVertexAttribArray(N),V[N]=1),L[N]!==F&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,F),L[N]=F)}function P(){const N=c.newAttributes,F=c.enabledAttributes;for(let z=0,V=F.length;z<V;z++)F[z]!==N[z]&&(n.disableVertexAttribArray(z),F[z]=0)}function R(N,F,z,V,L,O,H){H===!0?n.vertexAttribIPointer(N,F,z,L,O):n.vertexAttribPointer(N,F,z,V,L,O)}function B(N,F,z,V){if(i.isWebGL2===!1&&(N.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const L=V.attributes,O=z.getAttributes(),H=F.defaultAttributeValues;for(const U in O){const X=O[U];if(X.location>=0){let le=L[U];if(le===void 0&&(U==="instanceMatrix"&&N.instanceMatrix&&(le=N.instanceMatrix),U==="instanceColor"&&N.instanceColor&&(le=N.instanceColor)),le!==void 0){const he=le.normalized,ve=le.itemSize,Se=t.get(le);if(Se===void 0)continue;const Ie=Se.buffer,Ve=Se.type,ut=Se.bytesPerElement,tt=i.isWebGL2===!0&&(Ve===n.INT||Ve===n.UNSIGNED_INT||le.gpuType===Lw);if(le.isInterleavedBufferAttribute){const we=le.data,Q=we.stride,xe=le.offset;if(we.isInstancedInterleavedBuffer){for(let ge=0;ge<X.locationSize;ge++)C(X.location+ge,we.meshPerAttribute);N.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ge=0;ge<X.locationSize;ge++)S(X.location+ge);n.bindBuffer(n.ARRAY_BUFFER,Ie);for(let ge=0;ge<X.locationSize;ge++)R(X.location+ge,ve/X.locationSize,Ve,he,Q*ut,(xe+ve/X.locationSize*ge)*ut,tt)}else{if(le.isInstancedBufferAttribute){for(let we=0;we<X.locationSize;we++)C(X.location+we,le.meshPerAttribute);N.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let we=0;we<X.locationSize;we++)S(X.location+we);n.bindBuffer(n.ARRAY_BUFFER,Ie);for(let we=0;we<X.locationSize;we++)R(X.location+we,ve/X.locationSize,Ve,he,ve*ut,ve/X.locationSize*we*ut,tt)}}else if(H!==void 0){const he=H[U];if(he!==void 0)switch(he.length){case 2:n.vertexAttrib2fv(X.location,he);break;case 3:n.vertexAttrib3fv(X.location,he);break;case 4:n.vertexAttrib4fv(X.location,he);break;default:n.vertexAttrib1fv(X.location,he)}}}}P()}function b(){$();for(const N in a){const F=a[N];for(const z in F){const V=F[z];for(const L in V)y(V[L].object),delete V[L];delete F[z]}delete a[N]}}function I(N){if(a[N.id]===void 0)return;const F=a[N.id];for(const z in F){const V=F[z];for(const L in V)y(V[L].object),delete V[L];delete F[z]}delete a[N.id]}function J(N){for(const F in a){const z=a[F];if(z[N.id]===void 0)continue;const V=z[N.id];for(const L in V)y(V[L].object),delete V[L];delete z[N.id]}}function $(){q(),h=!0,c!==l&&(c=l,m(c.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:$,resetDefaultState:q,dispose:b,releaseStatesOfGeometry:I,releaseStatesOfProgram:J,initAttributes:M,enableAttribute:S,disableUnusedAttributes:P}}function K5(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,h){n.drawArrays(s,c,h),t.update(h,s,1)}function l(c,h,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,h,d),t.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function Q5(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=p>0,S=o||e.has("OES_texture_float"),C=M&&S,P=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:A,vertexTextures:M,floatFragmentTextures:S,floatVertexTextures:C,maxSamples:P}}function q5(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Wo,a=new Mt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,m){const y=d.clippingPlanes,_=d.clipIntersection,x=d.clipShadows,g=n.get(d);if(!r||y===null||y.length===0||s&&!x)s?h(null):c();else{const A=s?0:i,M=A*4;let S=g.clippingState||null;l.value=S,S=h(y,p,M,m);for(let C=0;C!==M;++C)S[C]=t[C];g.clippingState=S,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,y){const _=d!==null?d.length:0;let x=null;if(_!==0){if(x=l.value,y!==!0||x===null){const g=m+_*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(x===null||x.length<g)&&(x=new Float32Array(g));for(let M=0,S=m;M!==_;++M,S+=4)o.copy(d[M]).applyMatrix4(A,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function Z5(n){let e=new WeakMap;function t(o,a){return a===Of?o.mapping=yo:a===Nf&&(o.mapping=ga),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Of||a===Nf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Jw(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class $r extends cd{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Kc=4,TT=[.125,.215,.35,.446,.526,.582],rl=20,Ax=new $r,bT=new Ne;let Mx=null;const el=(1+Math.sqrt(5))/2,Mc=1/el,PT=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,el,Mc),new k(0,el,-Mc),new k(Mc,0,el),new k(-Mc,0,el),new k(el,Mc,0),new k(-el,Mc,0)];class GA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Mx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=BT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=LT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Mx),e.scissorTest=!1,rm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===yo||e.mapping===ga?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Mx=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:hn,minFilter:hn,generateMipmaps:!1,type:Su,format:Ni,colorSpace:ts,depthBuffer:!1},r=RT(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=RT(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$5(s)),this._blurMaterial=eW(s,e,t)}return r}_compileMaterial(e){const t=new Jn(this._lodPlanes[0],e);this._renderer.compile(t,Ax)}_sceneToCubeUV(e,t,i,r){const a=new sn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(bT),h.toneMapping=Ss,h.autoClear=!1;const m=new er({name:"PMREM.Background",side:Ci,depthWrite:!1,depthTest:!1}),y=new Jn(new Ul,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(bT),_=!0);for(let g=0;g<6;g++){const A=g%3;A===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):A===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const M=this._cubeSize;rm(r,A*M,g>2?M:0,M,M),h.setRenderTarget(r),_&&h.render(y,a),h.render(e,a)}y.geometry.dispose(),y.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===yo||e.mapping===ga;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=BT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=LT());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Jn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;rm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Ax)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=PT[(r-1)%PT.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new Jn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*rl-1),_=s/y,x=isFinite(s)?1+Math.floor(h*_):rl;x>rl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${rl}`);const g=[];let A=0;for(let R=0;R<rl;++R){const B=R/_,b=Math.exp(-B*B/2);g.push(b),R===0?A+=b:R<x&&(A+=2*b)}for(let R=0;R<g.length;R++)g[R]=g[R]/A;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:M}=this;p.dTheta.value=y,p.mipInt.value=M-i;const S=this._sizeLods[r],C=3*S*(r>M-Kc?r-M+Kc:0),P=4*(this._cubeSize-S);rm(t,C,P,3*S,2*S),l.setRenderTarget(t),l.render(d,Ax)}}function $5(n){const e=[],t=[],i=[];let r=n;const s=n-Kc+1+TT.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Kc?l=TT[o-n+Kc-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),h=-c,d=1+c,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,y=6,_=3,x=2,g=1,A=new Float32Array(_*y*m),M=new Float32Array(x*y*m),S=new Float32Array(g*y*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,B=P>2?0:-1,b=[R,B,0,R+2/3,B,0,R+2/3,B+1,0,R,B,0,R+2/3,B+1,0,R,B+1,0];A.set(b,_*y*P),M.set(p,x*y*P);const I=[P,P,P,P,P,P];S.set(I,g*y*P)}const C=new gt;C.setAttribute("position",new kt(A,_)),C.setAttribute("uv",new kt(M,x)),C.setAttribute("faceIndex",new kt(S,g)),e.push(C),r>Kc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function RT(n,e,t){const i=new ns(n,e,t);return i.texture.mapping=Gu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function rm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function eW(n,e,t){const i=new Float32Array(rl),r=new k(0,1,0);return new Bs({name:"SphericalGaussianBlur",defines:{n:rl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Yw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ao,depthTest:!1,depthWrite:!1})}function LT(){return new Bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Yw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ao,depthTest:!1,depthWrite:!1})}function BT(){return new Bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Yw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ao,depthTest:!1,depthWrite:!1})}function Yw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function tW(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Of||l===Nf,h=l===yo||l===ga;if(c||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new GA(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||h&&d&&r(d)){t===null&&(t=new GA(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function nW(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function iW(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const _=p.morphAttributes[y];for(let x=0,g=_.length;x<g;x++)e.remove(_[x])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const y in p)e.update(p[y],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const y in m){const _=m[y];for(let x=0,g=_.length;x<g;x++)e.update(_[x],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,y=d.attributes.position;let _=0;if(m!==null){const A=m.array;_=m.version;for(let M=0,S=A.length;M<S;M+=3){const C=A[M+0],P=A[M+1],R=A[M+2];p.push(C,P,P,R,R,C)}}else if(y!==void 0){const A=y.array;_=y.version;for(let M=0,S=A.length/3-1;M<S;M+=3){const C=M+0,P=M+1,R=M+2;p.push(C,P,P,R,R,C)}}else return;const x=new(y2(p)?jw:Ww)(p,1);x.version=_;const g=s.get(d);g&&e.remove(g),s.set(d,x)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function rW(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function h(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,y){if(y===0)return;let _,x;if(r)_=n,x="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=d}function sW(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function oW(n,e){return n[0]-e[0]}function aW(n,e){return Math.abs(e[1])-Math.abs(n[1])}function lW(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new zt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,h,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,_=y!==void 0?y.length:0;let x=s.get(h);if(x===void 0||x.count!==_){let F=function(){q.dispose(),s.delete(h),h.removeEventListener("dispose",F)};var m=F;x!==void 0&&x.texture.dispose();const M=h.morphAttributes.position!==void 0,S=h.morphAttributes.normal!==void 0,C=h.morphAttributes.color!==void 0,P=h.morphAttributes.position||[],R=h.morphAttributes.normal||[],B=h.morphAttributes.color||[];let b=0;M===!0&&(b=1),S===!0&&(b=2),C===!0&&(b=3);let I=h.attributes.position.count*b,J=1;I>e.maxTextureSize&&(J=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const $=new Float32Array(I*J*4*_),q=new by($,I,J,_);q.type=vs,q.needsUpdate=!0;const N=b*4;for(let z=0;z<_;z++){const V=P[z],L=R[z],O=B[z],H=I*J*4*z;for(let U=0;U<V.count;U++){const X=U*N;M===!0&&(o.fromBufferAttribute(V,U),$[H+X+0]=o.x,$[H+X+1]=o.y,$[H+X+2]=o.z,$[H+X+3]=0),S===!0&&(o.fromBufferAttribute(L,U),$[H+X+4]=o.x,$[H+X+5]=o.y,$[H+X+6]=o.z,$[H+X+7]=0),C===!0&&(o.fromBufferAttribute(O,U),$[H+X+8]=o.x,$[H+X+9]=o.y,$[H+X+10]=o.z,$[H+X+11]=O.itemSize===4?o.w:1)}}x={count:_,texture:q,size:new ye(I,J)},s.set(h,x),h.addEventListener("dispose",F)}let g=0;for(let M=0;M<p.length;M++)g+=p[M];const A=h.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=p===void 0?0:p.length;let _=i[h.id];if(_===void 0||_.length!==y){_=[];for(let S=0;S<y;S++)_[S]=[S,0];i[h.id]=_}for(let S=0;S<y;S++){const C=_[S];C[0]=S,C[1]=p[S]}_.sort(aW);for(let S=0;S<8;S++)S<y&&_[S][1]?(a[S][0]=_[S][0],a[S][1]=_[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(oW);const x=h.morphAttributes.position,g=h.morphAttributes.normal;let A=0;for(let S=0;S<8;S++){const C=a[S],P=C[0],R=C[1];P!==Number.MAX_SAFE_INTEGER&&R?(x&&h.getAttribute("morphTarget"+S)!==x[P]&&h.setAttribute("morphTarget"+S,x[P]),g&&h.getAttribute("morphNormal"+S)!==g[P]&&h.setAttribute("morphNormal"+S,g[P]),r[S]=R,A+=R):(x&&h.hasAttribute("morphTarget"+S)===!0&&h.deleteAttribute("morphTarget"+S),g&&h.hasAttribute("morphNormal"+S)===!0&&h.deleteAttribute("morphNormal"+S),r[S]=0)}const M=h.morphTargetsRelative?1:1-A;d.getUniforms().setValue(n,"morphTargetBaseInfluence",M),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function cW(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,h=l.geometry,d=e.get(l,h);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const w2=new an,S2=new by,E2=new Vw,C2=new ud,IT=[],DT=[],FT=new Float32Array(16),OT=new Float32Array(9),NT=new Float32Array(4);function Wu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=IT[r];if(s===void 0&&(s=new Float32Array(r),IT[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function zn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Hn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Ry(n,e){let t=DT[e];t===void 0&&(t=new Int32Array(e),DT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function uW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function hW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2fv(this.addr,e),Hn(t,e)}}function fW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zn(t,e))return;n.uniform3fv(this.addr,e),Hn(t,e)}}function dW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4fv(this.addr,e),Hn(t,e)}}function pW(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Hn(t,e)}else{if(zn(t,i))return;NT.set(i),n.uniformMatrix2fv(this.addr,!1,NT),Hn(t,i)}}function mW(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Hn(t,e)}else{if(zn(t,i))return;OT.set(i),n.uniformMatrix3fv(this.addr,!1,OT),Hn(t,i)}}function gW(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Hn(t,e)}else{if(zn(t,i))return;FT.set(i),n.uniformMatrix4fv(this.addr,!1,FT),Hn(t,i)}}function yW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function vW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2iv(this.addr,e),Hn(t,e)}}function xW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zn(t,e))return;n.uniform3iv(this.addr,e),Hn(t,e)}}function _W(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4iv(this.addr,e),Hn(t,e)}}function AW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function MW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2uiv(this.addr,e),Hn(t,e)}}function wW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zn(t,e))return;n.uniform3uiv(this.addr,e),Hn(t,e)}}function SW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4uiv(this.addr,e),Hn(t,e)}}function EW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||w2,r)}function CW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||E2,r)}function TW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||C2,r)}function bW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||S2,r)}function PW(n){switch(n){case 5126:return uW;case 35664:return hW;case 35665:return fW;case 35666:return dW;case 35674:return pW;case 35675:return mW;case 35676:return gW;case 5124:case 35670:return yW;case 35667:case 35671:return vW;case 35668:case 35672:return xW;case 35669:case 35673:return _W;case 5125:return AW;case 36294:return MW;case 36295:return wW;case 36296:return SW;case 35678:case 36198:case 36298:case 36306:case 35682:return EW;case 35679:case 36299:case 36307:return CW;case 35680:case 36300:case 36308:case 36293:return TW;case 36289:case 36303:case 36311:case 36292:return bW}}function RW(n,e){n.uniform1fv(this.addr,e)}function LW(n,e){const t=Wu(e,this.size,2);n.uniform2fv(this.addr,t)}function BW(n,e){const t=Wu(e,this.size,3);n.uniform3fv(this.addr,t)}function IW(n,e){const t=Wu(e,this.size,4);n.uniform4fv(this.addr,t)}function DW(n,e){const t=Wu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function FW(n,e){const t=Wu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function OW(n,e){const t=Wu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function NW(n,e){n.uniform1iv(this.addr,e)}function kW(n,e){n.uniform2iv(this.addr,e)}function UW(n,e){n.uniform3iv(this.addr,e)}function zW(n,e){n.uniform4iv(this.addr,e)}function HW(n,e){n.uniform1uiv(this.addr,e)}function GW(n,e){n.uniform2uiv(this.addr,e)}function VW(n,e){n.uniform3uiv(this.addr,e)}function WW(n,e){n.uniform4uiv(this.addr,e)}function jW(n,e,t){const i=this.cache,r=e.length,s=Ry(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||w2,s[o])}function XW(n,e,t){const i=this.cache,r=e.length,s=Ry(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||E2,s[o])}function JW(n,e,t){const i=this.cache,r=e.length,s=Ry(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||C2,s[o])}function YW(n,e,t){const i=this.cache,r=e.length,s=Ry(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||S2,s[o])}function KW(n){switch(n){case 5126:return RW;case 35664:return LW;case 35665:return BW;case 35666:return IW;case 35674:return DW;case 35675:return FW;case 35676:return OW;case 5124:case 35670:return NW;case 35667:case 35671:return kW;case 35668:case 35672:return UW;case 35669:case 35673:return zW;case 5125:return HW;case 36294:return GW;case 36295:return VW;case 36296:return WW;case 35678:case 36198:case 36298:case 36306:case 35682:return jW;case 35679:case 36299:case 36307:return XW;case 35680:case 36300:case 36308:case 36293:return JW;case 36289:case 36303:case 36311:case 36292:return YW}}class QW{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=PW(t.type)}}class qW{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=KW(t.type)}}class ZW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const wx=/(\w+)(\])?(\[|\.)?/g;function kT(n,e){n.seq.push(e),n.map[e.id]=e}function $W(n,e,t){const i=n.name,r=i.length;for(wx.lastIndex=0;;){const s=wx.exec(i),o=wx.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){kT(t,c===void 0?new QW(a,n,e):new qW(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new ZW(a),kT(t,d)),t=d}}}class rg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);$W(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function UT(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let e8=0;function t8(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function n8(n){switch(n){case ts:return["Linear","( value )"];case mt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function zT(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+t8(n.getShaderSource(e),o)}else return r}function i8(n,e){const t=n8(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function r8(n,e){let t;switch(e){case zI:t="Linear";break;case HI:t="Reinhard";break;case GI:t="OptimizedCineon";break;case Rw:t="ACESFilmic";break;case VI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function s8(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jh).join(`
`)}function o8(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function a8(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function jh(n){return n!==""}function HT(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function GT(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const l8=/^[ \t]*#include +<([\w\d./]+)>/gm;function VA(n){return n.replace(l8,u8)}const c8=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function u8(n,e){let t=xt[e];if(t===void 0){const i=c8.get(e);if(i!==void 0)t=xt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return VA(t)}const h8=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function VT(n){return n.replace(h8,f8)}function f8(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function WT(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function d8(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===wy?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===of?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Gr&&(e="SHADOWMAP_TYPE_VSM"),e}function p8(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case yo:case ga:e="ENVMAP_TYPE_CUBE";break;case Gu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function m8(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ga:e="ENVMAP_MODE_REFRACTION";break}return e}function g8(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ad:e="ENVMAP_BLENDING_MULTIPLY";break;case kI:e="ENVMAP_BLENDING_MIX";break;case UI:e="ENVMAP_BLENDING_ADD";break}return e}function y8(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function v8(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=d8(t),c=p8(t),h=m8(t),d=g8(t),p=y8(t),m=t.isWebGL2?"":s8(t),y=o8(s),_=r.createProgram();let x,g,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(jh).join(`
`),x.length>0&&(x+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(jh).join(`
`),g.length>0&&(g+=`
`)):(x=[WT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jh).join(`
`),g=[m,WT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ss?"#define TONE_MAPPING":"",t.toneMapping!==Ss?xt.tonemapping_pars_fragment:"",t.toneMapping!==Ss?r8("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xt.colorspace_pars_fragment,i8("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(jh).join(`
`)),o=VA(o),o=HT(o,t),o=GT(o,t),a=VA(a),a=HT(a,t),a=GT(a,t),o=VT(o),a=VT(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===zA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===zA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const M=A+x+o,S=A+g+a,C=UT(r,r.VERTEX_SHADER,M),P=UT(r,r.FRAGMENT_SHADER,S);if(r.attachShader(_,C),r.attachShader(_,P),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),n.debug.checkShaderErrors){const b=r.getProgramInfoLog(_).trim(),I=r.getShaderInfoLog(C).trim(),J=r.getShaderInfoLog(P).trim();let $=!0,q=!0;if(r.getProgramParameter(_,r.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,_,C,P);else{const N=zT(r,C,"vertex"),F=zT(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+`

Program Info Log: `+b+`
`+N+`
`+F)}else b!==""?console.warn("THREE.WebGLProgram: Program Info Log:",b):(I===""||J==="")&&(q=!1);q&&(this.diagnostics={runnable:$,programLog:b,vertexShader:{log:I,prefix:x},fragmentShader:{log:J,prefix:g}})}r.deleteShader(C),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new rg(r,_)),R};let B;return this.getAttributes=function(){return B===void 0&&(B=a8(r,_)),B},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=e8++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=C,this.fragmentShader=P,this}let x8=0;class _8{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new A8(e),t.set(e,i)),i}}class A8{constructor(e){this.id=x8++,this.code=e,this.usedTimes=0}}function M8(n,e,t,i,r,s,o){const a=new _l,l=new _8,c=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(b){return b===0?"uv":`uv${b}`}function x(b,I,J,$,q){const N=$.fog,F=q.geometry,z=b.isMeshStandardMaterial?$.environment:null,V=(b.isMeshStandardMaterial?t:e).get(b.envMap||z),L=V&&V.mapping===Gu?V.image.height:null,O=y[b.type];b.precision!==null&&(m=r.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const H=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,U=H!==void 0?H.length:0;let X=0;F.morphAttributes.position!==void 0&&(X=1),F.morphAttributes.normal!==void 0&&(X=2),F.morphAttributes.color!==void 0&&(X=3);let le,he,ve,Se;if(O){const Vt=jr[O];le=Vt.vertexShader,he=Vt.fragmentShader}else le=b.vertexShader,he=b.fragmentShader,l.update(b),ve=l.getVertexShaderID(b),Se=l.getFragmentShaderID(b);const Ie=n.getRenderTarget(),Ve=q.isInstancedMesh===!0,ut=!!b.map,tt=!!b.matcap,we=!!V,Q=!!b.aoMap,xe=!!b.lightMap,ge=!!b.bumpMap,Ee=!!b.normalMap,_e=!!b.displacementMap,We=!!b.emissiveMap,ke=!!b.metalnessMap,Ge=!!b.roughnessMap,Ze=b.anisotropy>0,yt=b.clearcoat>0,Gt=b.iridescence>0,j=b.sheen>0,D=b.transmission>0,oe=Ze&&!!b.anisotropyMap,Ce=yt&&!!b.clearcoatMap,Ae=yt&&!!b.clearcoatNormalMap,Re=yt&&!!b.clearcoatRoughnessMap,Ye=Gt&&!!b.iridescenceMap,Le=Gt&&!!b.iridescenceThicknessMap,ce=j&&!!b.sheenColorMap,Z=j&&!!b.sheenRoughnessMap,fe=!!b.specularMap,Me=!!b.specularColorMap,Pe=!!b.specularIntensityMap,De=D&&!!b.transmissionMap,rt=D&&!!b.thicknessMap,Et=!!b.gradientMap,ee=!!b.alphaMap,Fe=b.alphaTest>0,ae=!!b.alphaHash,Te=!!b.extensions,ze=!!F.attributes.uv1,bt=!!F.attributes.uv2,Jt=!!F.attributes.uv3;let mn=Ss;return b.toneMapped&&(Ie===null||Ie.isXRRenderTarget===!0)&&(mn=n.toneMapping),{isWebGL2:h,shaderID:O,shaderType:b.type,shaderName:b.name,vertexShader:le,fragmentShader:he,defines:b.defines,customVertexShaderID:ve,customFragmentShaderID:Se,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:Ve,instancingColor:Ve&&q.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Ie===null?n.outputColorSpace:Ie.isXRRenderTarget===!0?Ie.texture.colorSpace:ts,map:ut,matcap:tt,envMap:we,envMapMode:we&&V.mapping,envMapCubeUVHeight:L,aoMap:Q,lightMap:xe,bumpMap:ge,normalMap:Ee,displacementMap:p&&_e,emissiveMap:We,normalMapObjectSpace:Ee&&b.normalMapType===s2,normalMapTangentSpace:Ee&&b.normalMapType===Ca,metalnessMap:ke,roughnessMap:Ge,anisotropy:Ze,anisotropyMap:oe,clearcoat:yt,clearcoatMap:Ce,clearcoatNormalMap:Ae,clearcoatRoughnessMap:Re,iridescence:Gt,iridescenceMap:Ye,iridescenceThicknessMap:Le,sheen:j,sheenColorMap:ce,sheenRoughnessMap:Z,specularMap:fe,specularColorMap:Me,specularIntensityMap:Pe,transmission:D,transmissionMap:De,thicknessMap:rt,gradientMap:Et,opaque:b.transparent===!1&&b.blending===vl,alphaMap:ee,alphaTest:Fe,alphaHash:ae,combine:b.combine,mapUv:ut&&_(b.map.channel),aoMapUv:Q&&_(b.aoMap.channel),lightMapUv:xe&&_(b.lightMap.channel),bumpMapUv:ge&&_(b.bumpMap.channel),normalMapUv:Ee&&_(b.normalMap.channel),displacementMapUv:_e&&_(b.displacementMap.channel),emissiveMapUv:We&&_(b.emissiveMap.channel),metalnessMapUv:ke&&_(b.metalnessMap.channel),roughnessMapUv:Ge&&_(b.roughnessMap.channel),anisotropyMapUv:oe&&_(b.anisotropyMap.channel),clearcoatMapUv:Ce&&_(b.clearcoatMap.channel),clearcoatNormalMapUv:Ae&&_(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&_(b.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&_(b.iridescenceMap.channel),iridescenceThicknessMapUv:Le&&_(b.iridescenceThicknessMap.channel),sheenColorMapUv:ce&&_(b.sheenColorMap.channel),sheenRoughnessMapUv:Z&&_(b.sheenRoughnessMap.channel),specularMapUv:fe&&_(b.specularMap.channel),specularColorMapUv:Me&&_(b.specularColorMap.channel),specularIntensityMapUv:Pe&&_(b.specularIntensityMap.channel),transmissionMapUv:De&&_(b.transmissionMap.channel),thicknessMapUv:rt&&_(b.thicknessMap.channel),alphaMapUv:ee&&_(b.alphaMap.channel),vertexTangents:!!F.attributes.tangent&&(Ee||Ze),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUv1s:ze,vertexUv2s:bt,vertexUv3s:Jt,pointsUvs:q.isPoints===!0&&!!F.attributes.uv&&(ut||ee),fog:!!N,useFog:b.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:q.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:X,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&J.length>0,shadowMapType:n.shadowMap.type,toneMapping:mn,useLegacyLights:n._useLegacyLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Cr,flipSided:b.side===Ci,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:Te&&b.extensions.derivatives===!0,extensionFragDepth:Te&&b.extensions.fragDepth===!0,extensionDrawBuffers:Te&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:Te&&b.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function g(b){const I=[];if(b.shaderID?I.push(b.shaderID):(I.push(b.customVertexShaderID),I.push(b.customFragmentShaderID)),b.defines!==void 0)for(const J in b.defines)I.push(J),I.push(b.defines[J]);return b.isRawShaderMaterial===!1&&(A(I,b),M(I,b),I.push(n.outputColorSpace)),I.push(b.customProgramCacheKey),I.join()}function A(b,I){b.push(I.precision),b.push(I.outputColorSpace),b.push(I.envMapMode),b.push(I.envMapCubeUVHeight),b.push(I.mapUv),b.push(I.alphaMapUv),b.push(I.lightMapUv),b.push(I.aoMapUv),b.push(I.bumpMapUv),b.push(I.normalMapUv),b.push(I.displacementMapUv),b.push(I.emissiveMapUv),b.push(I.metalnessMapUv),b.push(I.roughnessMapUv),b.push(I.anisotropyMapUv),b.push(I.clearcoatMapUv),b.push(I.clearcoatNormalMapUv),b.push(I.clearcoatRoughnessMapUv),b.push(I.iridescenceMapUv),b.push(I.iridescenceThicknessMapUv),b.push(I.sheenColorMapUv),b.push(I.sheenRoughnessMapUv),b.push(I.specularMapUv),b.push(I.specularColorMapUv),b.push(I.specularIntensityMapUv),b.push(I.transmissionMapUv),b.push(I.thicknessMapUv),b.push(I.combine),b.push(I.fogExp2),b.push(I.sizeAttenuation),b.push(I.morphTargetsCount),b.push(I.morphAttributeCount),b.push(I.numDirLights),b.push(I.numPointLights),b.push(I.numSpotLights),b.push(I.numSpotLightMaps),b.push(I.numHemiLights),b.push(I.numRectAreaLights),b.push(I.numDirLightShadows),b.push(I.numPointLightShadows),b.push(I.numSpotLightShadows),b.push(I.numSpotLightShadowsWithMaps),b.push(I.shadowMapType),b.push(I.toneMapping),b.push(I.numClippingPlanes),b.push(I.numClipIntersection),b.push(I.depthPacking)}function M(b,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),b.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.useLegacyLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),b.push(a.mask)}function S(b){const I=y[b.type];let J;if(I){const $=jr[I];J=A2.clone($.uniforms)}else J=b.uniforms;return J}function C(b,I){let J;for(let $=0,q=c.length;$<q;$++){const N=c[$];if(N.cacheKey===I){J=N,++J.usedTimes;break}}return J===void 0&&(J=new v8(n,I,b,s),c.push(J)),J}function P(b){if(--b.usedTimes===0){const I=c.indexOf(b);c[I]=c[c.length-1],c.pop(),b.destroy()}}function R(b){l.remove(b)}function B(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:S,acquireProgram:C,releaseProgram:P,releaseShaderCache:R,programs:c,dispose:B}}function w8(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function S8(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function jT(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function XT(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,y,_,x){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:y,renderOrder:d.renderOrder,z:_,group:x},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=d.renderOrder,g.z=_,g.group=x),e++,g}function a(d,p,m,y,_,x){const g=o(d,p,m,y,_,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,y,_,x){const g=o(d,p,m,y,_,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||S8),i.length>1&&i.sort(p||jT),r.length>1&&r.sort(p||jT)}function h(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:c}}function E8(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new XT,n.set(i,[o])):r>=s.length?(o=new XT,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function C8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new Ne};break;case"SpotLight":t={position:new k,direction:new k,color:new Ne,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new Ne,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new Ne,groundColor:new Ne};break;case"RectAreaLight":t={color:new Ne,position:new k,halfWidth:new k,halfHeight:new k};break}return n[e.id]=t,t}}}function T8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let b8=0;function P8(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function R8(n,e){const t=new C8,i=T8(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new k);const s=new k,o=new lt,a=new lt;function l(h,d){let p=0,m=0,y=0;for(let J=0;J<9;J++)r.probe[J].set(0,0,0);let _=0,x=0,g=0,A=0,M=0,S=0,C=0,P=0,R=0,B=0;h.sort(P8);const b=d===!0?Math.PI:1;for(let J=0,$=h.length;J<$;J++){const q=h[J],N=q.color,F=q.intensity,z=q.distance,V=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)p+=N.r*F*b,m+=N.g*F*b,y+=N.b*F*b;else if(q.isLightProbe)for(let L=0;L<9;L++)r.probe[L].addScaledVector(q.sh.coefficients[L],F);else if(q.isDirectionalLight){const L=t.get(q);if(L.color.copy(q.color).multiplyScalar(q.intensity*b),q.castShadow){const O=q.shadow,H=i.get(q);H.shadowBias=O.bias,H.shadowNormalBias=O.normalBias,H.shadowRadius=O.radius,H.shadowMapSize=O.mapSize,r.directionalShadow[_]=H,r.directionalShadowMap[_]=V,r.directionalShadowMatrix[_]=q.shadow.matrix,S++}r.directional[_]=L,_++}else if(q.isSpotLight){const L=t.get(q);L.position.setFromMatrixPosition(q.matrixWorld),L.color.copy(N).multiplyScalar(F*b),L.distance=z,L.coneCos=Math.cos(q.angle),L.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),L.decay=q.decay,r.spot[g]=L;const O=q.shadow;if(q.map&&(r.spotLightMap[R]=q.map,R++,O.updateMatrices(q),q.castShadow&&B++),r.spotLightMatrix[g]=O.matrix,q.castShadow){const H=i.get(q);H.shadowBias=O.bias,H.shadowNormalBias=O.normalBias,H.shadowRadius=O.radius,H.shadowMapSize=O.mapSize,r.spotShadow[g]=H,r.spotShadowMap[g]=V,P++}g++}else if(q.isRectAreaLight){const L=t.get(q);L.color.copy(N).multiplyScalar(F),L.halfWidth.set(q.width*.5,0,0),L.halfHeight.set(0,q.height*.5,0),r.rectArea[A]=L,A++}else if(q.isPointLight){const L=t.get(q);if(L.color.copy(q.color).multiplyScalar(q.intensity*b),L.distance=q.distance,L.decay=q.decay,q.castShadow){const O=q.shadow,H=i.get(q);H.shadowBias=O.bias,H.shadowNormalBias=O.normalBias,H.shadowRadius=O.radius,H.shadowMapSize=O.mapSize,H.shadowCameraNear=O.camera.near,H.shadowCameraFar=O.camera.far,r.pointShadow[x]=H,r.pointShadowMap[x]=V,r.pointShadowMatrix[x]=q.shadow.matrix,C++}r.point[x]=L,x++}else if(q.isHemisphereLight){const L=t.get(q);L.skyColor.copy(q.color).multiplyScalar(F*b),L.groundColor.copy(q.groundColor).multiplyScalar(F*b),r.hemi[M]=L,M++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_FLOAT_1,r.rectAreaLTC2=Oe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_HALF_1,r.rectAreaLTC2=Oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const I=r.hash;(I.directionalLength!==_||I.pointLength!==x||I.spotLength!==g||I.rectAreaLength!==A||I.hemiLength!==M||I.numDirectionalShadows!==S||I.numPointShadows!==C||I.numSpotShadows!==P||I.numSpotMaps!==R)&&(r.directional.length=_,r.spot.length=g,r.rectArea.length=A,r.point.length=x,r.hemi.length=M,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=P+R-B,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=B,I.directionalLength=_,I.pointLength=x,I.spotLength=g,I.rectAreaLength=A,I.hemiLength=M,I.numDirectionalShadows=S,I.numPointShadows=C,I.numSpotShadows=P,I.numSpotMaps=R,r.version=b8++)}function c(h,d){let p=0,m=0,y=0,_=0,x=0;const g=d.matrixWorldInverse;for(let A=0,M=h.length;A<M;A++){const S=h[A];if(S.isDirectionalLight){const C=r.directional[p];C.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),p++}else if(S.isSpotLight){const C=r.spot[y];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(g),C.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),y++}else if(S.isRectAreaLight){const C=r.rectArea[_];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(g),a.identity(),o.copy(S.matrixWorld),o.premultiply(g),a.extractRotation(o),C.halfWidth.set(S.width*.5,0,0),C.halfHeight.set(0,S.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),_++}else if(S.isPointLight){const C=r.point[m];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(g),m++}else if(S.isHemisphereLight){const C=r.hemi[x];C.direction.setFromMatrixPosition(S.matrixWorld),C.direction.transformDirection(g),x++}}}return{setup:l,setupView:c,state:r}}function JT(n,e){const t=new R8(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function c(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function L8(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new JT(n,e),t.set(s,[l])):o>=a.length?(l=new JT(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class Kw extends Fn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=i2,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Qw extends Fn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const B8=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,I8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function D8(n,e,t){let i=new Py;const r=new ye,s=new ye,o=new zt,a=new Kw({depthPacking:r2}),l=new Qw,c={},h=t.maxTextureSize,d={[Rs]:Ci,[Ci]:Rs,[Cr]:Cr},p=new Bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ye},radius:{value:4}},vertexShader:B8,fragmentShader:I8}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new gt;y.setAttribute("position",new kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Jn(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=wy;let g=this.type;this.render=function(C,P,R){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const B=n.getRenderTarget(),b=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),J=n.state;J.setBlending(ao),J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const $=g!==Gr&&this.type===Gr,q=g===Gr&&this.type!==Gr;for(let N=0,F=C.length;N<F;N++){const z=C[N],V=z.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;r.copy(V.mapSize);const L=V.getFrameExtents();if(r.multiply(L),s.copy(V.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/L.x),r.x=s.x*L.x,V.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/L.y),r.y=s.y*L.y,V.mapSize.y=s.y)),V.map===null||$===!0||q===!0){const H=this.type!==Gr?{minFilter:An,magFilter:An}:{};V.map!==null&&V.map.dispose(),V.map=new ns(r.x,r.y,H),V.map.texture.name=z.name+".shadowMap",V.camera.updateProjectionMatrix()}n.setRenderTarget(V.map),n.clear();const O=V.getViewportCount();for(let H=0;H<O;H++){const U=V.getViewport(H);o.set(s.x*U.x,s.y*U.y,s.x*U.z,s.y*U.w),J.viewport(o),V.updateMatrices(z,H),i=V.getFrustum(),S(P,R,V.camera,z,this.type)}V.isPointLightShadow!==!0&&this.type===Gr&&A(V,R),V.needsUpdate=!1}g=this.type,x.needsUpdate=!1,n.setRenderTarget(B,b,I)};function A(C,P){const R=e.update(_);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new ns(r.x,r.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(P,null,R,p,_,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(P,null,R,m,_,null)}function M(C,P,R,B){let b=null;const I=R.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(I!==void 0)b=I;else if(b=R.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const J=b.uuid,$=P.uuid;let q=c[J];q===void 0&&(q={},c[J]=q);let N=q[$];N===void 0&&(N=b.clone(),q[$]=N),b=N}if(b.visible=P.visible,b.wireframe=P.wireframe,B===Gr?b.side=P.shadowSide!==null?P.shadowSide:P.side:b.side=P.shadowSide!==null?P.shadowSide:d[P.side],b.alphaMap=P.alphaMap,b.alphaTest=P.alphaTest,b.map=P.map,b.clipShadows=P.clipShadows,b.clippingPlanes=P.clippingPlanes,b.clipIntersection=P.clipIntersection,b.displacementMap=P.displacementMap,b.displacementScale=P.displacementScale,b.displacementBias=P.displacementBias,b.wireframeLinewidth=P.wireframeLinewidth,b.linewidth=P.linewidth,R.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const J=n.properties.get(b);J.light=R}return b}function S(C,P,R,B,b){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&b===Gr)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,C.matrixWorld);const $=e.update(C),q=C.material;if(Array.isArray(q)){const N=$.groups;for(let F=0,z=N.length;F<z;F++){const V=N[F],L=q[V.materialIndex];if(L&&L.visible){const O=M(C,L,B,b);n.renderBufferDirect(R,null,$,O,C,V)}}}else if(q.visible){const N=M(C,q,B,b);n.renderBufferDirect(R,null,$,N,C,null)}}const J=C.children;for(let $=0,q=J.length;$<q;$++)S(J[$],P,R,B,b)}}function F8(n,e,t){const i=t.isWebGL2;function r(){let ee=!1;const Fe=new zt;let ae=null;const Te=new zt(0,0,0,0);return{setMask:function(ze){ae!==ze&&!ee&&(n.colorMask(ze,ze,ze,ze),ae=ze)},setLocked:function(ze){ee=ze},setClear:function(ze,bt,Jt,mn,Br){Br===!0&&(ze*=mn,bt*=mn,Jt*=mn),Fe.set(ze,bt,Jt,mn),Te.equals(Fe)===!1&&(n.clearColor(ze,bt,Jt,mn),Te.copy(Fe))},reset:function(){ee=!1,ae=null,Te.set(-1,0,0,0)}}}function s(){let ee=!1,Fe=null,ae=null,Te=null;return{setTest:function(ze){ze?Ie(n.DEPTH_TEST):Ve(n.DEPTH_TEST)},setMask:function(ze){Fe!==ze&&!ee&&(n.depthMask(ze),Fe=ze)},setFunc:function(ze){if(ae!==ze){switch(ze){case LI:n.depthFunc(n.NEVER);break;case BI:n.depthFunc(n.ALWAYS);break;case II:n.depthFunc(n.LESS);break;case Ug:n.depthFunc(n.LEQUAL);break;case DI:n.depthFunc(n.EQUAL);break;case FI:n.depthFunc(n.GEQUAL);break;case OI:n.depthFunc(n.GREATER);break;case NI:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ae=ze}},setLocked:function(ze){ee=ze},setClear:function(ze){Te!==ze&&(n.clearDepth(ze),Te=ze)},reset:function(){ee=!1,Fe=null,ae=null,Te=null}}}function o(){let ee=!1,Fe=null,ae=null,Te=null,ze=null,bt=null,Jt=null,mn=null,Br=null;return{setTest:function(Vt){ee||(Vt?Ie(n.STENCIL_TEST):Ve(n.STENCIL_TEST))},setMask:function(Vt){Fe!==Vt&&!ee&&(n.stencilMask(Vt),Fe=Vt)},setFunc:function(Vt,Vi,Qn){(ae!==Vt||Te!==Vi||ze!==Qn)&&(n.stencilFunc(Vt,Vi,Qn),ae=Vt,Te=Vi,ze=Qn)},setOp:function(Vt,Vi,Qn){(bt!==Vt||Jt!==Vi||mn!==Qn)&&(n.stencilOp(Vt,Vi,Qn),bt=Vt,Jt=Vi,mn=Qn)},setLocked:function(Vt){ee=Vt},setClear:function(Vt){Br!==Vt&&(n.clearStencil(Vt),Br=Vt)},reset:function(){ee=!1,Fe=null,ae=null,Te=null,ze=null,bt=null,Jt=null,mn=null,Br=null}}}const a=new r,l=new s,c=new o,h=new WeakMap,d=new WeakMap;let p={},m={},y=new WeakMap,_=[],x=null,g=!1,A=null,M=null,S=null,C=null,P=null,R=null,B=null,b=!1,I=null,J=null,$=null,q=null,N=null;const F=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,V=0;const L=n.getParameter(n.VERSION);L.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(L)[1]),z=V>=1):L.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),z=V>=2);let O=null,H={};const U=n.getParameter(n.SCISSOR_BOX),X=n.getParameter(n.VIEWPORT),le=new zt().fromArray(U),he=new zt().fromArray(X);function ve(ee,Fe,ae,Te){const ze=new Uint8Array(4),bt=n.createTexture();n.bindTexture(ee,bt),n.texParameteri(ee,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ee,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Jt=0;Jt<ae;Jt++)i&&(ee===n.TEXTURE_3D||ee===n.TEXTURE_2D_ARRAY)?n.texImage3D(Fe,0,n.RGBA,1,1,Te,0,n.RGBA,n.UNSIGNED_BYTE,ze):n.texImage2D(Fe+Jt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ze);return bt}const Se={};Se[n.TEXTURE_2D]=ve(n.TEXTURE_2D,n.TEXTURE_2D,1),Se[n.TEXTURE_CUBE_MAP]=ve(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Se[n.TEXTURE_2D_ARRAY]=ve(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Se[n.TEXTURE_3D]=ve(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ie(n.DEPTH_TEST),l.setFunc(Ug),_e(!1),We(hA),Ie(n.CULL_FACE),ge(ao);function Ie(ee){p[ee]!==!0&&(n.enable(ee),p[ee]=!0)}function Ve(ee){p[ee]!==!1&&(n.disable(ee),p[ee]=!1)}function ut(ee,Fe){return m[ee]!==Fe?(n.bindFramebuffer(ee,Fe),m[ee]=Fe,i&&(ee===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Fe),ee===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Fe)),!0):!1}function tt(ee,Fe){let ae=_,Te=!1;if(ee)if(ae=y.get(Fe),ae===void 0&&(ae=[],y.set(Fe,ae)),ee.isWebGLMultipleRenderTargets){const ze=ee.texture;if(ae.length!==ze.length||ae[0]!==n.COLOR_ATTACHMENT0){for(let bt=0,Jt=ze.length;bt<Jt;bt++)ae[bt]=n.COLOR_ATTACHMENT0+bt;ae.length=ze.length,Te=!0}}else ae[0]!==n.COLOR_ATTACHMENT0&&(ae[0]=n.COLOR_ATTACHMENT0,Te=!0);else ae[0]!==n.BACK&&(ae[0]=n.BACK,Te=!0);Te&&(t.isWebGL2?n.drawBuffers(ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ae))}function we(ee){return x!==ee?(n.useProgram(ee),x=ee,!0):!1}const Q={[il]:n.FUNC_ADD,[_I]:n.FUNC_SUBTRACT,[AI]:n.FUNC_REVERSE_SUBTRACT};if(i)Q[mA]=n.MIN,Q[gA]=n.MAX;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(Q[mA]=ee.MIN_EXT,Q[gA]=ee.MAX_EXT)}const xe={[MI]:n.ZERO,[wI]:n.ONE,[SI]:n.SRC_COLOR,[bw]:n.SRC_ALPHA,[RI]:n.SRC_ALPHA_SATURATE,[bI]:n.DST_COLOR,[CI]:n.DST_ALPHA,[EI]:n.ONE_MINUS_SRC_COLOR,[Pw]:n.ONE_MINUS_SRC_ALPHA,[PI]:n.ONE_MINUS_DST_COLOR,[TI]:n.ONE_MINUS_DST_ALPHA};function ge(ee,Fe,ae,Te,ze,bt,Jt,mn){if(ee===ao){g===!0&&(Ve(n.BLEND),g=!1);return}if(g===!1&&(Ie(n.BLEND),g=!0),ee!==xI){if(ee!==A||mn!==b){if((M!==il||P!==il)&&(n.blendEquation(n.FUNC_ADD),M=il,P=il),mn)switch(ee){case vl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fA:n.blendFunc(n.ONE,n.ONE);break;case dA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case pA:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case vl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fA:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case dA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case pA:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}S=null,C=null,R=null,B=null,A=ee,b=mn}return}ze=ze||Fe,bt=bt||ae,Jt=Jt||Te,(Fe!==M||ze!==P)&&(n.blendEquationSeparate(Q[Fe],Q[ze]),M=Fe,P=ze),(ae!==S||Te!==C||bt!==R||Jt!==B)&&(n.blendFuncSeparate(xe[ae],xe[Te],xe[bt],xe[Jt]),S=ae,C=Te,R=bt,B=Jt),A=ee,b=!1}function Ee(ee,Fe){ee.side===Cr?Ve(n.CULL_FACE):Ie(n.CULL_FACE);let ae=ee.side===Ci;Fe&&(ae=!ae),_e(ae),ee.blending===vl&&ee.transparent===!1?ge(ao):ge(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const Te=ee.stencilWrite;c.setTest(Te),Te&&(c.setMask(ee.stencilWriteMask),c.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),c.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),Ge(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?Ie(n.SAMPLE_ALPHA_TO_COVERAGE):Ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function _e(ee){I!==ee&&(ee?n.frontFace(n.CW):n.frontFace(n.CCW),I=ee)}function We(ee){ee!==gI?(Ie(n.CULL_FACE),ee!==J&&(ee===hA?n.cullFace(n.BACK):ee===yI?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ve(n.CULL_FACE),J=ee}function ke(ee){ee!==$&&(z&&n.lineWidth(ee),$=ee)}function Ge(ee,Fe,ae){ee?(Ie(n.POLYGON_OFFSET_FILL),(q!==Fe||N!==ae)&&(n.polygonOffset(Fe,ae),q=Fe,N=ae)):Ve(n.POLYGON_OFFSET_FILL)}function Ze(ee){ee?Ie(n.SCISSOR_TEST):Ve(n.SCISSOR_TEST)}function yt(ee){ee===void 0&&(ee=n.TEXTURE0+F-1),O!==ee&&(n.activeTexture(ee),O=ee)}function Gt(ee,Fe,ae){ae===void 0&&(O===null?ae=n.TEXTURE0+F-1:ae=O);let Te=H[ae];Te===void 0&&(Te={type:void 0,texture:void 0},H[ae]=Te),(Te.type!==ee||Te.texture!==Fe)&&(O!==ae&&(n.activeTexture(ae),O=ae),n.bindTexture(ee,Fe||Se[ee]),Te.type=ee,Te.texture=Fe)}function j(){const ee=H[O];ee!==void 0&&ee.type!==void 0&&(n.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function D(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ae(){try{n.texSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Re(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ye(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Le(){try{n.texStorage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ce(){try{n.texStorage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Z(){try{n.texImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function fe(){try{n.texImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Me(ee){le.equals(ee)===!1&&(n.scissor(ee.x,ee.y,ee.z,ee.w),le.copy(ee))}function Pe(ee){he.equals(ee)===!1&&(n.viewport(ee.x,ee.y,ee.z,ee.w),he.copy(ee))}function De(ee,Fe){let ae=d.get(Fe);ae===void 0&&(ae=new WeakMap,d.set(Fe,ae));let Te=ae.get(ee);Te===void 0&&(Te=n.getUniformBlockIndex(Fe,ee.name),ae.set(ee,Te))}function rt(ee,Fe){const Te=d.get(Fe).get(ee);h.get(Fe)!==Te&&(n.uniformBlockBinding(Fe,Te,ee.__bindingPointIndex),h.set(Fe,Te))}function Et(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},O=null,H={},m={},y=new WeakMap,_=[],x=null,g=!1,A=null,M=null,S=null,C=null,P=null,R=null,B=null,b=!1,I=null,J=null,$=null,q=null,N=null,le.set(0,0,n.canvas.width,n.canvas.height),he.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ie,disable:Ve,bindFramebuffer:ut,drawBuffers:tt,useProgram:we,setBlending:ge,setMaterial:Ee,setFlipSided:_e,setCullFace:We,setLineWidth:ke,setPolygonOffset:Ge,setScissorTest:Ze,activeTexture:yt,bindTexture:Gt,unbindTexture:j,compressedTexImage2D:D,compressedTexImage3D:oe,texImage2D:Z,texImage3D:fe,updateUBOMapping:De,uniformBlockBinding:rt,texStorage2D:Le,texStorage3D:ce,texSubImage2D:Ce,texSubImage3D:Ae,compressedTexSubImage2D:Re,compressedTexSubImage3D:Ye,scissor:Me,viewport:Pe,reset:Et}}function O8(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let _;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(j,D){return g?new OffscreenCanvas(j,D):Gf("canvas")}function M(j,D,oe,Ce){let Ae=1;if((j.width>Ce||j.height>Ce)&&(Ae=Ce/Math.max(j.width,j.height)),Ae<1||D===!0)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap){const Re=D?Gg:Math.floor,Ye=Re(Ae*j.width),Le=Re(Ae*j.height);_===void 0&&(_=A(Ye,Le));const ce=oe?A(Ye,Le):_;return ce.width=Ye,ce.height=Le,ce.getContext("2d").drawImage(j,0,0,Ye,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+j.width+"x"+j.height+") to ("+Ye+"x"+Le+")."),ce}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+j.width+"x"+j.height+")."),j;return j}function S(j){return HA(j.width)&&HA(j.height)}function C(j){return a?!1:j.wrapS!==$n||j.wrapT!==$n||j.minFilter!==An&&j.minFilter!==hn}function P(j,D){return j.generateMipmaps&&D&&j.minFilter!==An&&j.minFilter!==hn}function R(j){n.generateMipmap(j)}function B(j,D,oe,Ce,Ae=!1){if(a===!1)return D;if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Re=D;return D===n.RED&&(oe===n.FLOAT&&(Re=n.R32F),oe===n.HALF_FLOAT&&(Re=n.R16F),oe===n.UNSIGNED_BYTE&&(Re=n.R8)),D===n.RED_INTEGER&&(oe===n.UNSIGNED_BYTE&&(Re=n.R8UI),oe===n.UNSIGNED_SHORT&&(Re=n.R16UI),oe===n.UNSIGNED_INT&&(Re=n.R32UI),oe===n.BYTE&&(Re=n.R8I),oe===n.SHORT&&(Re=n.R16I),oe===n.INT&&(Re=n.R32I)),D===n.RG&&(oe===n.FLOAT&&(Re=n.RG32F),oe===n.HALF_FLOAT&&(Re=n.RG16F),oe===n.UNSIGNED_BYTE&&(Re=n.RG8)),D===n.RGBA&&(oe===n.FLOAT&&(Re=n.RGBA32F),oe===n.HALF_FLOAT&&(Re=n.RGBA16F),oe===n.UNSIGNED_BYTE&&(Re=Ce===mt&&Ae===!1?n.SRGB8_ALPHA8:n.RGBA8),oe===n.UNSIGNED_SHORT_4_4_4_4&&(Re=n.RGBA4),oe===n.UNSIGNED_SHORT_5_5_5_1&&(Re=n.RGB5_A1)),(Re===n.R16F||Re===n.R32F||Re===n.RG16F||Re===n.RG32F||Re===n.RGBA16F||Re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function b(j,D,oe){return P(j,oe)===!0||j.isFramebufferTexture&&j.minFilter!==An&&j.minFilter!==hn?Math.log2(Math.max(D.width,D.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?D.mipmaps.length:1}function I(j){return j===An||j===kf||j===cu?n.NEAREST:n.LINEAR}function J(j){const D=j.target;D.removeEventListener("dispose",J),q(D),D.isVideoTexture&&y.delete(D)}function $(j){const D=j.target;D.removeEventListener("dispose",$),F(D)}function q(j){const D=i.get(j);if(D.__webglInit===void 0)return;const oe=j.source,Ce=x.get(oe);if(Ce){const Ae=Ce[D.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&N(j),Object.keys(Ce).length===0&&x.delete(oe)}i.remove(j)}function N(j){const D=i.get(j);n.deleteTexture(D.__webglTexture);const oe=j.source,Ce=x.get(oe);delete Ce[D.__cacheKey],o.memory.textures--}function F(j){const D=j.texture,oe=i.get(j),Ce=i.get(D);if(Ce.__webglTexture!==void 0&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),j.depthTexture&&j.depthTexture.dispose(),j.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(oe.__webglFramebuffer[Ae]))for(let Re=0;Re<oe.__webglFramebuffer[Ae].length;Re++)n.deleteFramebuffer(oe.__webglFramebuffer[Ae][Re]);else n.deleteFramebuffer(oe.__webglFramebuffer[Ae]);oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Ae])}else{if(Array.isArray(oe.__webglFramebuffer))for(let Ae=0;Ae<oe.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(oe.__webglFramebuffer[Ae]);else n.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Ae=0;Ae<oe.__webglColorRenderbuffer.length;Ae++)oe.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Ae]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(j.isWebGLMultipleRenderTargets)for(let Ae=0,Re=D.length;Ae<Re;Ae++){const Ye=i.get(D[Ae]);Ye.__webglTexture&&(n.deleteTexture(Ye.__webglTexture),o.memory.textures--),i.remove(D[Ae])}i.remove(D),i.remove(j)}let z=0;function V(){z=0}function L(){const j=z;return j>=l&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+l),z+=1,j}function O(j){const D=[];return D.push(j.wrapS),D.push(j.wrapT),D.push(j.wrapR||0),D.push(j.magFilter),D.push(j.minFilter),D.push(j.anisotropy),D.push(j.internalFormat),D.push(j.format),D.push(j.type),D.push(j.generateMipmaps),D.push(j.premultiplyAlpha),D.push(j.flipY),D.push(j.unpackAlignment),D.push(j.colorSpace),D.join()}function H(j,D){const oe=i.get(j);if(j.isVideoTexture&&yt(j),j.isRenderTargetTexture===!1&&j.version>0&&oe.__version!==j.version){const Ce=j.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ut(oe,j,D);return}}t.bindTexture(n.TEXTURE_2D,oe.__webglTexture,n.TEXTURE0+D)}function U(j,D){const oe=i.get(j);if(j.version>0&&oe.__version!==j.version){ut(oe,j,D);return}t.bindTexture(n.TEXTURE_2D_ARRAY,oe.__webglTexture,n.TEXTURE0+D)}function X(j,D){const oe=i.get(j);if(j.version>0&&oe.__version!==j.version){ut(oe,j,D);return}t.bindTexture(n.TEXTURE_3D,oe.__webglTexture,n.TEXTURE0+D)}function le(j,D){const oe=i.get(j);if(j.version>0&&oe.__version!==j.version){tt(oe,j,D);return}t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+D)}const he={[ya]:n.REPEAT,[$n]:n.CLAMP_TO_EDGE,[wu]:n.MIRRORED_REPEAT},ve={[An]:n.NEAREST,[kf]:n.NEAREST_MIPMAP_NEAREST,[cu]:n.NEAREST_MIPMAP_LINEAR,[hn]:n.LINEAR,[Ey]:n.LINEAR_MIPMAP_NEAREST,[Ls]:n.LINEAR_MIPMAP_LINEAR},Se={[a2]:n.NEVER,[p2]:n.ALWAYS,[l2]:n.LESS,[u2]:n.LEQUAL,[c2]:n.EQUAL,[d2]:n.GEQUAL,[h2]:n.GREATER,[f2]:n.NOTEQUAL};function Ie(j,D,oe){if(oe?(n.texParameteri(j,n.TEXTURE_WRAP_S,he[D.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,he[D.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,he[D.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,ve[D.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,ve[D.minFilter])):(n.texParameteri(j,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(j,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(D.wrapS!==$n||D.wrapT!==$n)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(j,n.TEXTURE_MAG_FILTER,I(D.magFilter)),n.texParameteri(j,n.TEXTURE_MIN_FILTER,I(D.minFilter)),D.minFilter!==An&&D.minFilter!==hn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),D.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,Se[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===An||D.minFilter!==cu&&D.minFilter!==Ls||D.type===vs&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===Su&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(n.texParameterf(j,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function Ve(j,D){let oe=!1;j.__webglInit===void 0&&(j.__webglInit=!0,D.addEventListener("dispose",J));const Ce=D.source;let Ae=x.get(Ce);Ae===void 0&&(Ae={},x.set(Ce,Ae));const Re=O(D);if(Re!==j.__cacheKey){Ae[Re]===void 0&&(Ae[Re]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Ae[Re].usedTimes++;const Ye=Ae[j.__cacheKey];Ye!==void 0&&(Ae[j.__cacheKey].usedTimes--,Ye.usedTimes===0&&N(D)),j.__cacheKey=Re,j.__webglTexture=Ae[Re].texture}return oe}function ut(j,D,oe){let Ce=n.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Ce=n.TEXTURE_2D_ARRAY),D.isData3DTexture&&(Ce=n.TEXTURE_3D);const Ae=Ve(j,D),Re=D.source;t.bindTexture(Ce,j.__webglTexture,n.TEXTURE0+oe);const Ye=i.get(Re);if(Re.version!==Ye.__version||Ae===!0){t.activeTexture(n.TEXTURE0+oe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Le=C(D)&&S(D.image)===!1;let ce=M(D.image,Le,!1,h);ce=Gt(D,ce);const Z=S(ce)||a,fe=s.convert(D.format,D.colorSpace);let Me=s.convert(D.type),Pe=B(D.internalFormat,fe,Me,D.colorSpace);Ie(Ce,D,Z);let De;const rt=D.mipmaps,Et=a&&D.isVideoTexture!==!0,ee=Ye.__version===void 0||Ae===!0,Fe=b(D,ce,Z);if(D.isDepthTexture)Pe=n.DEPTH_COMPONENT,a?D.type===vs?Pe=n.DEPTH_COMPONENT32F:D.type===io?Pe=n.DEPTH_COMPONENT24:D.type===ca?Pe=n.DEPTH24_STENCIL8:Pe=n.DEPTH_COMPONENT16:D.type===vs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===ua&&Pe===n.DEPTH_COMPONENT&&D.type!==Cy&&D.type!==io&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=io,Me=s.convert(D.type)),D.format===Ll&&Pe===n.DEPTH_COMPONENT&&(Pe=n.DEPTH_STENCIL,D.type!==ca&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=ca,Me=s.convert(D.type))),ee&&(Et?t.texStorage2D(n.TEXTURE_2D,1,Pe,ce.width,ce.height):t.texImage2D(n.TEXTURE_2D,0,Pe,ce.width,ce.height,0,fe,Me,null));else if(D.isDataTexture)if(rt.length>0&&Z){Et&&ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Pe,rt[0].width,rt[0].height);for(let ae=0,Te=rt.length;ae<Te;ae++)De=rt[ae],Et?t.texSubImage2D(n.TEXTURE_2D,ae,0,0,De.width,De.height,fe,Me,De.data):t.texImage2D(n.TEXTURE_2D,ae,Pe,De.width,De.height,0,fe,Me,De.data);D.generateMipmaps=!1}else Et?(ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Pe,ce.width,ce.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ce.width,ce.height,fe,Me,ce.data)):t.texImage2D(n.TEXTURE_2D,0,Pe,ce.width,ce.height,0,fe,Me,ce.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){Et&&ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Fe,Pe,rt[0].width,rt[0].height,ce.depth);for(let ae=0,Te=rt.length;ae<Te;ae++)De=rt[ae],D.format!==Ni?fe!==null?Et?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ae,0,0,0,De.width,De.height,ce.depth,fe,De.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ae,Pe,De.width,De.height,ce.depth,0,De.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Et?t.texSubImage3D(n.TEXTURE_2D_ARRAY,ae,0,0,0,De.width,De.height,ce.depth,fe,Me,De.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ae,Pe,De.width,De.height,ce.depth,0,fe,Me,De.data)}else{Et&&ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Pe,rt[0].width,rt[0].height);for(let ae=0,Te=rt.length;ae<Te;ae++)De=rt[ae],D.format!==Ni?fe!==null?Et?t.compressedTexSubImage2D(n.TEXTURE_2D,ae,0,0,De.width,De.height,fe,De.data):t.compressedTexImage2D(n.TEXTURE_2D,ae,Pe,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Et?t.texSubImage2D(n.TEXTURE_2D,ae,0,0,De.width,De.height,fe,Me,De.data):t.texImage2D(n.TEXTURE_2D,ae,Pe,De.width,De.height,0,fe,Me,De.data)}else if(D.isDataArrayTexture)Et?(ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Fe,Pe,ce.width,ce.height,ce.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ce.width,ce.height,ce.depth,fe,Me,ce.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Pe,ce.width,ce.height,ce.depth,0,fe,Me,ce.data);else if(D.isData3DTexture)Et?(ee&&t.texStorage3D(n.TEXTURE_3D,Fe,Pe,ce.width,ce.height,ce.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ce.width,ce.height,ce.depth,fe,Me,ce.data)):t.texImage3D(n.TEXTURE_3D,0,Pe,ce.width,ce.height,ce.depth,0,fe,Me,ce.data);else if(D.isFramebufferTexture){if(ee)if(Et)t.texStorage2D(n.TEXTURE_2D,Fe,Pe,ce.width,ce.height);else{let ae=ce.width,Te=ce.height;for(let ze=0;ze<Fe;ze++)t.texImage2D(n.TEXTURE_2D,ze,Pe,ae,Te,0,fe,Me,null),ae>>=1,Te>>=1}}else if(rt.length>0&&Z){Et&&ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Pe,rt[0].width,rt[0].height);for(let ae=0,Te=rt.length;ae<Te;ae++)De=rt[ae],Et?t.texSubImage2D(n.TEXTURE_2D,ae,0,0,fe,Me,De):t.texImage2D(n.TEXTURE_2D,ae,Pe,fe,Me,De);D.generateMipmaps=!1}else Et?(ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Pe,ce.width,ce.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,fe,Me,ce)):t.texImage2D(n.TEXTURE_2D,0,Pe,fe,Me,ce);P(D,Z)&&R(Ce),Ye.__version=Re.version,D.onUpdate&&D.onUpdate(D)}j.__version=D.version}function tt(j,D,oe){if(D.image.length!==6)return;const Ce=Ve(j,D),Ae=D.source;t.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+oe);const Re=i.get(Ae);if(Ae.version!==Re.__version||Ce===!0){t.activeTexture(n.TEXTURE0+oe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ye=D.isCompressedTexture||D.image[0].isCompressedTexture,Le=D.image[0]&&D.image[0].isDataTexture,ce=[];for(let ae=0;ae<6;ae++)!Ye&&!Le?ce[ae]=M(D.image[ae],!1,!0,c):ce[ae]=Le?D.image[ae].image:D.image[ae],ce[ae]=Gt(D,ce[ae]);const Z=ce[0],fe=S(Z)||a,Me=s.convert(D.format,D.colorSpace),Pe=s.convert(D.type),De=B(D.internalFormat,Me,Pe,D.colorSpace),rt=a&&D.isVideoTexture!==!0,Et=Re.__version===void 0||Ce===!0;let ee=b(D,Z,fe);Ie(n.TEXTURE_CUBE_MAP,D,fe);let Fe;if(Ye){rt&&Et&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ee,De,Z.width,Z.height);for(let ae=0;ae<6;ae++){Fe=ce[ae].mipmaps;for(let Te=0;Te<Fe.length;Te++){const ze=Fe[Te];D.format!==Ni?Me!==null?rt?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,0,0,ze.width,ze.height,Me,ze.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,De,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,0,0,ze.width,ze.height,Me,Pe,ze.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te,De,ze.width,ze.height,0,Me,Pe,ze.data)}}}else{Fe=D.mipmaps,rt&&Et&&(Fe.length>0&&ee++,t.texStorage2D(n.TEXTURE_CUBE_MAP,ee,De,ce[0].width,ce[0].height));for(let ae=0;ae<6;ae++)if(Le){rt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,ce[ae].width,ce[ae].height,Me,Pe,ce[ae].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,De,ce[ae].width,ce[ae].height,0,Me,Pe,ce[ae].data);for(let Te=0;Te<Fe.length;Te++){const bt=Fe[Te].image[ae].image;rt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,0,0,bt.width,bt.height,Me,Pe,bt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,De,bt.width,bt.height,0,Me,Pe,bt.data)}}else{rt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,Me,Pe,ce[ae]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,De,Me,Pe,ce[ae]);for(let Te=0;Te<Fe.length;Te++){const ze=Fe[Te];rt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,0,0,Me,Pe,ze.image[ae]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Te+1,De,Me,Pe,ze.image[ae])}}}P(D,fe)&&R(n.TEXTURE_CUBE_MAP),Re.__version=Ae.version,D.onUpdate&&D.onUpdate(D)}j.__version=D.version}function we(j,D,oe,Ce,Ae,Re){const Ye=s.convert(oe.format,oe.colorSpace),Le=s.convert(oe.type),ce=B(oe.internalFormat,Ye,Le,oe.colorSpace);if(!i.get(D).__hasExternalTextures){const fe=Math.max(1,D.width>>Re),Me=Math.max(1,D.height>>Re);Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?t.texImage3D(Ae,Re,ce,fe,Me,D.depth,0,Ye,Le,null):t.texImage2D(Ae,Re,ce,fe,Me,0,Ye,Le,null)}t.bindFramebuffer(n.FRAMEBUFFER,j),Ze(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ce,Ae,i.get(oe).__webglTexture,0,Ge(D)):(Ae===n.TEXTURE_2D||Ae>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ce,Ae,i.get(oe).__webglTexture,Re),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Q(j,D,oe){if(n.bindRenderbuffer(n.RENDERBUFFER,j),D.depthBuffer&&!D.stencilBuffer){let Ce=n.DEPTH_COMPONENT16;if(oe||Ze(D)){const Ae=D.depthTexture;Ae&&Ae.isDepthTexture&&(Ae.type===vs?Ce=n.DEPTH_COMPONENT32F:Ae.type===io&&(Ce=n.DEPTH_COMPONENT24));const Re=Ge(D);Ze(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,Ce,D.width,D.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,Ce,D.width,D.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ce,D.width,D.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,j)}else if(D.depthBuffer&&D.stencilBuffer){const Ce=Ge(D);oe&&Ze(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,n.DEPTH24_STENCIL8,D.width,D.height):Ze(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,n.DEPTH24_STENCIL8,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,D.width,D.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,j)}else{const Ce=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let Ae=0;Ae<Ce.length;Ae++){const Re=Ce[Ae],Ye=s.convert(Re.format,Re.colorSpace),Le=s.convert(Re.type),ce=B(Re.internalFormat,Ye,Le,Re.colorSpace),Z=Ge(D);oe&&Ze(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Z,ce,D.width,D.height):Ze(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Z,ce,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,ce,D.width,D.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function xe(j,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,j),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),H(D.depthTexture,0);const Ce=i.get(D.depthTexture).__webglTexture,Ae=Ge(D);if(D.depthTexture.format===ua)Ze(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0);else if(D.depthTexture.format===Ll)Ze(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0);else throw new Error("Unknown depthTexture format")}function ge(j){const D=i.get(j),oe=j.isWebGLCubeRenderTarget===!0;if(j.depthTexture&&!D.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");xe(D.__webglFramebuffer,j)}else if(oe){D.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer[Ce]),D.__webglDepthbuffer[Ce]=n.createRenderbuffer(),Q(D.__webglDepthbuffer[Ce],j,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Q(D.__webglDepthbuffer,j,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(j,D,oe){const Ce=i.get(j);D!==void 0&&we(Ce.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),oe!==void 0&&ge(j)}function _e(j){const D=j.texture,oe=i.get(j),Ce=i.get(D);j.addEventListener("dispose",$),j.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=D.version,o.memory.textures++);const Ae=j.isWebGLCubeRenderTarget===!0,Re=j.isWebGLMultipleRenderTargets===!0,Ye=S(j)||a;if(Ae){oe.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(a&&D.mipmaps&&D.mipmaps.length>0){oe.__webglFramebuffer[Le]=[];for(let ce=0;ce<D.mipmaps.length;ce++)oe.__webglFramebuffer[Le][ce]=n.createFramebuffer()}else oe.__webglFramebuffer[Le]=n.createFramebuffer()}else{if(a&&D.mipmaps&&D.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Le=0;Le<D.mipmaps.length;Le++)oe.__webglFramebuffer[Le]=n.createFramebuffer()}else oe.__webglFramebuffer=n.createFramebuffer();if(Re)if(r.drawBuffers){const Le=j.texture;for(let ce=0,Z=Le.length;ce<Z;ce++){const fe=i.get(Le[ce]);fe.__webglTexture===void 0&&(fe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&j.samples>0&&Ze(j)===!1){const Le=Re?D:[D];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let ce=0;ce<Le.length;ce++){const Z=Le[ce];oe.__webglColorRenderbuffer[ce]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,oe.__webglColorRenderbuffer[ce]);const fe=s.convert(Z.format,Z.colorSpace),Me=s.convert(Z.type),Pe=B(Z.internalFormat,fe,Me,Z.colorSpace,j.isXRRenderTarget===!0),De=Ge(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,De,Pe,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ce,n.RENDERBUFFER,oe.__webglColorRenderbuffer[ce])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),Q(oe.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ae){t.bindTexture(n.TEXTURE_CUBE_MAP,Ce.__webglTexture),Ie(n.TEXTURE_CUBE_MAP,D,Ye);for(let Le=0;Le<6;Le++)if(a&&D.mipmaps&&D.mipmaps.length>0)for(let ce=0;ce<D.mipmaps.length;ce++)we(oe.__webglFramebuffer[Le][ce],j,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ce);else we(oe.__webglFramebuffer[Le],j,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);P(D,Ye)&&R(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Re){const Le=j.texture;for(let ce=0,Z=Le.length;ce<Z;ce++){const fe=Le[ce],Me=i.get(fe);t.bindTexture(n.TEXTURE_2D,Me.__webglTexture),Ie(n.TEXTURE_2D,fe,Ye),we(oe.__webglFramebuffer,j,fe,n.COLOR_ATTACHMENT0+ce,n.TEXTURE_2D,0),P(fe,Ye)&&R(n.TEXTURE_2D)}t.unbindTexture()}else{let Le=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(a?Le=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Le,Ce.__webglTexture),Ie(Le,D,Ye),a&&D.mipmaps&&D.mipmaps.length>0)for(let ce=0;ce<D.mipmaps.length;ce++)we(oe.__webglFramebuffer[ce],j,D,n.COLOR_ATTACHMENT0,Le,ce);else we(oe.__webglFramebuffer,j,D,n.COLOR_ATTACHMENT0,Le,0);P(D,Ye)&&R(Le),t.unbindTexture()}j.depthBuffer&&ge(j)}function We(j){const D=S(j)||a,oe=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let Ce=0,Ae=oe.length;Ce<Ae;Ce++){const Re=oe[Ce];if(P(Re,D)){const Ye=j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Le=i.get(Re).__webglTexture;t.bindTexture(Ye,Le),R(Ye),t.unbindTexture()}}}function ke(j){if(a&&j.samples>0&&Ze(j)===!1){const D=j.isWebGLMultipleRenderTargets?j.texture:[j.texture],oe=j.width,Ce=j.height;let Ae=n.COLOR_BUFFER_BIT;const Re=[],Ye=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=i.get(j),ce=j.isWebGLMultipleRenderTargets===!0;if(ce)for(let Z=0;Z<D.length;Z++)t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Z,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Z,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Le.__webglFramebuffer);for(let Z=0;Z<D.length;Z++){Re.push(n.COLOR_ATTACHMENT0+Z),j.depthBuffer&&Re.push(Ye);const fe=Le.__ignoreDepthValues!==void 0?Le.__ignoreDepthValues:!1;if(fe===!1&&(j.depthBuffer&&(Ae|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&(Ae|=n.STENCIL_BUFFER_BIT)),ce&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Le.__webglColorRenderbuffer[Z]),fe===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ye]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ye])),ce){const Me=i.get(D[Z]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Me,0)}n.blitFramebuffer(0,0,oe,Ce,0,0,oe,Ce,Ae,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Re)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ce)for(let Z=0;Z<D.length;Z++){t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Z,n.RENDERBUFFER,Le.__webglColorRenderbuffer[Z]);const fe=i.get(D[Z]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Z,n.TEXTURE_2D,fe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Le.__webglMultisampledFramebuffer)}}function Ge(j){return Math.min(d,j.samples)}function Ze(j){const D=i.get(j);return a&&j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function yt(j){const D=o.render.frame;y.get(j)!==D&&(y.set(j,D),j.update())}function Gt(j,D){const oe=j.colorSpace,Ce=j.format,Ae=j.type;return j.isCompressedTexture===!0||j.format===Hg||oe!==ts&&oe!==fa&&(oe===mt?a===!1?e.has("EXT_sRGB")===!0&&Ce===Ni?(j.format=Hg,j.minFilter=hn,j.generateMipmaps=!1):D=Gw.sRGBToLinear(D):(Ce!==Ni||Ae!==Es)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),D}this.allocateTextureUnit=L,this.resetTextureUnits=V,this.setTexture2D=H,this.setTexture2DArray=U,this.setTexture3D=X,this.setTextureCube=le,this.rebindTextures=Ee,this.setupRenderTarget=_e,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=we,this.useMultisampledRTT=Ze}function T2(n,e,t){const i=t.isWebGL2;function r(s,o=fa){let a;if(s===Es)return n.UNSIGNED_BYTE;if(s===Bw)return n.UNSIGNED_SHORT_4_4_4_4;if(s===Iw)return n.UNSIGNED_SHORT_5_5_5_1;if(s===WI)return n.BYTE;if(s===jI)return n.SHORT;if(s===Cy)return n.UNSIGNED_SHORT;if(s===Lw)return n.INT;if(s===io)return n.UNSIGNED_INT;if(s===vs)return n.FLOAT;if(s===Su)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===XI)return n.ALPHA;if(s===Ni)return n.RGBA;if(s===JI)return n.LUMINANCE;if(s===YI)return n.LUMINANCE_ALPHA;if(s===ua)return n.DEPTH_COMPONENT;if(s===Ll)return n.DEPTH_STENCIL;if(s===Hg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===KI)return n.RED;if(s===Dw)return n.RED_INTEGER;if(s===QI)return n.RG;if(s===Fw)return n.RG_INTEGER;if(s===Ow)return n.RGBA_INTEGER;if(s===qm||s===Zm||s===$m||s===eg)if(o===mt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===qm)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Zm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===$m)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===eg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===qm)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Zm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===$m)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===eg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===yA||s===vA||s===xA||s===_A)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===yA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===vA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===xA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===_A)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===qI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===AA||s===MA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===AA)return o===mt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===MA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===wA||s===SA||s===EA||s===CA||s===TA||s===bA||s===PA||s===RA||s===LA||s===BA||s===IA||s===DA||s===FA||s===OA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===wA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===SA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===EA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===CA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===TA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===bA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===PA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===RA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===LA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===BA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===IA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===DA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===FA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===OA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===tg)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===tg)return o===mt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===ZI||s===NA||s===kA||s===UA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===tg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===NA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===kA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===UA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ca?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class b2 extends sn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ro extends Lt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const N8={type:"move"};class Sx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ro,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ro,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ro,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const x=t.getJointPose(_,i),g=this._getHandJoint(c,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(N8)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new ro;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class P2 extends an{constructor(e,t,i,r,s,o,a,l,c,h){if(h=h!==void 0?h:ua,h!==ua&&h!==Ll)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===ua&&(i=io),i===void 0&&h===Ll&&(i=ca),super(null,r,s,o,a,l,h,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:An,this.minFilter=l!==void 0?l:An,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class k8 extends Ds{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,h=null,d=null,p=null,m=null,y=null;const _=t.getContextAttributes();let x=null,g=null;const A=[],M=[],S=new sn;S.layers.enable(1),S.viewport=new zt;const C=new sn;C.layers.enable(2),C.viewport=new zt;const P=[S,C],R=new b2;R.layers.enable(1),R.layers.enable(2);let B=null,b=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let X=A[U];return X===void 0&&(X=new Sx,A[U]=X),X.getTargetRaySpace()},this.getControllerGrip=function(U){let X=A[U];return X===void 0&&(X=new Sx,A[U]=X),X.getGripSpace()},this.getHand=function(U){let X=A[U];return X===void 0&&(X=new Sx,A[U]=X),X.getHandSpace()};function I(U){const X=M.indexOf(U.inputSource);if(X===-1)return;const le=A[X];le!==void 0&&(le.update(U.inputSource,U.frame,c||o),le.dispatchEvent({type:U.type,data:U.inputSource}))}function J(){r.removeEventListener("select",I),r.removeEventListener("selectstart",I),r.removeEventListener("selectend",I),r.removeEventListener("squeeze",I),r.removeEventListener("squeezestart",I),r.removeEventListener("squeezeend",I),r.removeEventListener("end",J),r.removeEventListener("inputsourceschange",$);for(let U=0;U<A.length;U++){const X=M[U];X!==null&&(M[U]=null,A[U].disconnect(X))}B=null,b=null,e.setRenderTarget(x),m=null,p=null,d=null,r=null,g=null,H.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(U){c=U},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(U){if(r=U,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",J),r.addEventListener("inputsourceschange",$),_.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:r.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,X),r.updateRenderState({baseLayer:m}),g=new ns(m.framebufferWidth,m.framebufferHeight,{format:Ni,type:Es,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let X=null,le=null,he=null;_.depth&&(he=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,X=_.stencil?Ll:ua,le=_.stencil?ca:io);const ve={colorFormat:t.RGBA8,depthFormat:he,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(ve),r.updateRenderState({layers:[p]}),g=new ns(p.textureWidth,p.textureHeight,{format:Ni,type:Es,depthTexture:new P2(p.textureWidth,p.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const Se=e.properties.get(g);Se.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),H.setContext(r),H.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function $(U){for(let X=0;X<U.removed.length;X++){const le=U.removed[X],he=M.indexOf(le);he>=0&&(M[he]=null,A[he].disconnect(le))}for(let X=0;X<U.added.length;X++){const le=U.added[X];let he=M.indexOf(le);if(he===-1){for(let Se=0;Se<A.length;Se++)if(Se>=M.length){M.push(le),he=Se;break}else if(M[Se]===null){M[Se]=le,he=Se;break}if(he===-1)break}const ve=A[he];ve&&ve.connect(le)}}const q=new k,N=new k;function F(U,X,le){q.setFromMatrixPosition(X.matrixWorld),N.setFromMatrixPosition(le.matrixWorld);const he=q.distanceTo(N),ve=X.projectionMatrix.elements,Se=le.projectionMatrix.elements,Ie=ve[14]/(ve[10]-1),Ve=ve[14]/(ve[10]+1),ut=(ve[9]+1)/ve[5],tt=(ve[9]-1)/ve[5],we=(ve[8]-1)/ve[0],Q=(Se[8]+1)/Se[0],xe=Ie*we,ge=Ie*Q,Ee=he/(-we+Q),_e=Ee*-we;X.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(_e),U.translateZ(Ee),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const We=Ie+Ee,ke=Ve+Ee,Ge=xe-_e,Ze=ge+(he-_e),yt=ut*Ve/ke*We,Gt=tt*Ve/ke*We;U.projectionMatrix.makePerspective(Ge,Ze,yt,Gt,We,ke),U.projectionMatrixInverse.copy(U.projectionMatrix).invert()}function z(U,X){X===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(X.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(r===null)return;R.near=C.near=S.near=U.near,R.far=C.far=S.far=U.far,(B!==R.near||b!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),B=R.near,b=R.far);const X=U.parent,le=R.cameras;z(R,X);for(let he=0;he<le.length;he++)z(le[he],X);le.length===2?F(R,S,C):R.projectionMatrix.copy(S.projectionMatrix),V(U,R,X)};function V(U,X,le){le===null?U.matrix.copy(X.matrixWorld):(U.matrix.copy(le.matrixWorld),U.matrix.invert(),U.matrix.multiply(X.matrixWorld)),U.matrix.decompose(U.position,U.quaternion,U.scale),U.updateMatrixWorld(!0);const he=U.children;for(let ve=0,Se=he.length;ve<Se;ve++)he[ve].updateMatrixWorld(!0);U.projectionMatrix.copy(X.projectionMatrix),U.projectionMatrixInverse.copy(X.projectionMatrixInverse),U.isPerspectiveCamera&&(U.fov=Cu*2*Math.atan(1/U.projectionMatrix.elements[5]),U.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(U){l=U,p!==null&&(p.fixedFoveation=U),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=U)};let L=null;function O(U,X){if(h=X.getViewerPose(c||o),y=X,h!==null){const le=h.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let he=!1;le.length!==R.cameras.length&&(R.cameras.length=0,he=!0);for(let ve=0;ve<le.length;ve++){const Se=le[ve];let Ie=null;if(m!==null)Ie=m.getViewport(Se);else{const ut=d.getViewSubImage(p,Se);Ie=ut.viewport,ve===0&&(e.setRenderTargetTextures(g,ut.colorTexture,p.ignoreDepthValues?void 0:ut.depthStencilTexture),e.setRenderTarget(g))}let Ve=P[ve];Ve===void 0&&(Ve=new sn,Ve.layers.enable(ve),Ve.viewport=new zt,P[ve]=Ve),Ve.matrix.fromArray(Se.transform.matrix),Ve.matrix.decompose(Ve.position,Ve.quaternion,Ve.scale),Ve.projectionMatrix.fromArray(Se.projectionMatrix),Ve.projectionMatrixInverse.copy(Ve.projectionMatrix).invert(),Ve.viewport.set(Ie.x,Ie.y,Ie.width,Ie.height),ve===0&&(R.matrix.copy(Ve.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),he===!0&&R.cameras.push(Ve)}}for(let le=0;le<A.length;le++){const he=M[le],ve=A[le];he!==null&&ve!==void 0&&ve.update(he,X,c||o)}L&&L(U,X),X.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:X}),y=null}const H=new M2;H.setAnimationLoop(O),this.setAnimationLoop=function(U){L=U},this.dispose=function(){}}}function U8(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,_2(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,A,M,S){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),d(x,g)):g.isMeshPhongMaterial?(s(x,g),h(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,S)):g.isMeshMatcapMaterial?(s(x,g),y(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,A,M):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Ci&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Ci&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const A=e.get(g).envMap;if(A&&(x.envMap.value=A,x.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const M=n._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*M,t(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,A,M){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*A,x.scale.value=M*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function h(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function d(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,A){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ci&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=A.texture,x.transmissionSamplerSize.value.set(A.width,A.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function y(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const A=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(A.matrixWorld),x.nearDistance.value=A.shadow.camera.near,x.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function z8(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(A,M){const S=M.program;i.uniformBlockBinding(A,S)}function c(A,M){let S=r[A.id];S===void 0&&(y(A),S=h(A),r[A.id]=S,A.addEventListener("dispose",x));const C=M.program;i.updateUBOMapping(A,C);const P=e.render.frame;s[A.id]!==P&&(p(A),s[A.id]=P)}function h(A){const M=d();A.__bindingPointIndex=M;const S=n.createBuffer(),C=A.__size,P=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,S),n.bufferData(n.UNIFORM_BUFFER,C,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,S),S}function d(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const M=r[A.id],S=A.uniforms,C=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,M);for(let P=0,R=S.length;P<R;P++){const B=S[P];if(m(B,P,C)===!0){const b=B.__offset,I=Array.isArray(B.value)?B.value:[B.value];let J=0;for(let $=0;$<I.length;$++){const q=I[$],N=_(q);typeof q=="number"?(B.__data[0]=q,n.bufferSubData(n.UNIFORM_BUFFER,b+J,B.__data)):q.isMatrix3?(B.__data[0]=q.elements[0],B.__data[1]=q.elements[1],B.__data[2]=q.elements[2],B.__data[3]=q.elements[0],B.__data[4]=q.elements[3],B.__data[5]=q.elements[4],B.__data[6]=q.elements[5],B.__data[7]=q.elements[0],B.__data[8]=q.elements[6],B.__data[9]=q.elements[7],B.__data[10]=q.elements[8],B.__data[11]=q.elements[0]):(q.toArray(B.__data,J),J+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,b,B.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,M,S){const C=A.value;if(S[M]===void 0){if(typeof C=="number")S[M]=C;else{const P=Array.isArray(C)?C:[C],R=[];for(let B=0;B<P.length;B++)R.push(P[B].clone());S[M]=R}return!0}else if(typeof C=="number"){if(S[M]!==C)return S[M]=C,!0}else{const P=Array.isArray(S[M])?S[M]:[S[M]],R=Array.isArray(C)?C:[C];for(let B=0;B<P.length;B++){const b=P[B];if(b.equals(R[B])===!1)return b.copy(R[B]),!0}}return!1}function y(A){const M=A.uniforms;let S=0;const C=16;let P=0;for(let R=0,B=M.length;R<B;R++){const b=M[R],I={boundary:0,storage:0},J=Array.isArray(b.value)?b.value:[b.value];for(let $=0,q=J.length;$<q;$++){const N=J[$],F=_(N);I.boundary+=F.boundary,I.storage+=F.storage}if(b.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),b.__offset=S,R>0){P=S%C;const $=C-P;P!==0&&$-I.boundary<0&&(S+=C-P,b.__offset=S)}S+=I.storage}return P=S%C,P>0&&(S+=C-P),A.__size=S,A.__cache={},this}function _(A){const M={boundary:0,storage:0};return typeof A=="number"?(M.boundary=4,M.storage=4):A.isVector2?(M.boundary=8,M.storage=8):A.isVector3||A.isColor?(M.boundary=16,M.storage=12):A.isVector4?(M.boundary=16,M.storage=16):A.isMatrix3?(M.boundary=48,M.storage=48):A.isMatrix4?(M.boundary=64,M.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),M}function x(A){const M=A.target;M.removeEventListener("dispose",x);const S=o.indexOf(M.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function g(){for(const A in r)n.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}function H8(){const n=Gf("canvas");return n.style.display="block",n}class qw{constructor(e={}){const{canvas:t=H8(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),y=new Int32Array(4);let _=null,x=null;const g=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=mt,this._useLegacyLights=!1,this.toneMapping=Ss,this.toneMappingExposure=1;const M=this;let S=!1,C=0,P=0,R=null,B=-1,b=null;const I=new zt,J=new zt;let $=null;const q=new Ne(0);let N=0,F=t.width,z=t.height,V=1,L=null,O=null;const H=new zt(0,0,F,z),U=new zt(0,0,F,z);let X=!1;const le=new Py;let he=!1,ve=!1,Se=null;const Ie=new lt,Ve=new ye,ut=new k,tt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function we(){return R===null?V:1}let Q=i;function xe(G,re){for(let me=0;me<G.length;me++){const ie=G[me],pe=t.getContext(ie,re);if(pe!==null)return pe}return null}try{const G={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${od}`),t.addEventListener("webglcontextlost",Fe,!1),t.addEventListener("webglcontextrestored",ae,!1),t.addEventListener("webglcontextcreationerror",Te,!1),Q===null){const re=["webgl2","webgl","experimental-webgl"];if(M.isWebGL1Renderer===!0&&re.shift(),Q=xe(re,G),Q===null)throw xe(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let ge,Ee,_e,We,ke,Ge,Ze,yt,Gt,j,D,oe,Ce,Ae,Re,Ye,Le,ce,Z,fe,Me,Pe,De,rt;function Et(){ge=new nW(Q),Ee=new Q5(Q,ge,e),ge.init(Ee),Pe=new T2(Q,ge,Ee),_e=new F8(Q,ge,Ee),We=new sW(Q),ke=new w8,Ge=new O8(Q,ge,_e,ke,Ee,Pe,We),Ze=new Z5(M),yt=new tW(M),Gt=new m4(Q,Ee),De=new Y5(Q,ge,Gt,Ee),j=new iW(Q,Gt,We,De),D=new cW(Q,j,Gt,We),Z=new lW(Q,Ee,Ge),Ye=new q5(ke),oe=new M8(M,Ze,yt,ge,Ee,De,Ye),Ce=new U8(M,ke),Ae=new E8,Re=new L8(ge,Ee),ce=new J5(M,Ze,yt,_e,D,p,l),Le=new D8(M,D,Ee),rt=new z8(Q,We,Ee,_e),fe=new K5(Q,ge,We,Ee),Me=new rW(Q,ge,We,Ee),We.programs=oe.programs,M.capabilities=Ee,M.extensions=ge,M.properties=ke,M.renderLists=Ae,M.shadowMap=Le,M.state=_e,M.info=We}Et();const ee=new k8(M,Q);this.xr=ee,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const G=ge.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=ge.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(G){G!==void 0&&(V=G,this.setSize(F,z,!1))},this.getSize=function(G){return G.set(F,z)},this.setSize=function(G,re,me=!0){if(ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=G,z=re,t.width=Math.floor(G*V),t.height=Math.floor(re*V),me===!0&&(t.style.width=G+"px",t.style.height=re+"px"),this.setViewport(0,0,G,re)},this.getDrawingBufferSize=function(G){return G.set(F*V,z*V).floor()},this.setDrawingBufferSize=function(G,re,me){F=G,z=re,V=me,t.width=Math.floor(G*me),t.height=Math.floor(re*me),this.setViewport(0,0,G,re)},this.getCurrentViewport=function(G){return G.copy(I)},this.getViewport=function(G){return G.copy(H)},this.setViewport=function(G,re,me,ie){G.isVector4?H.set(G.x,G.y,G.z,G.w):H.set(G,re,me,ie),_e.viewport(I.copy(H).multiplyScalar(V).floor())},this.getScissor=function(G){return G.copy(U)},this.setScissor=function(G,re,me,ie){G.isVector4?U.set(G.x,G.y,G.z,G.w):U.set(G,re,me,ie),_e.scissor(J.copy(U).multiplyScalar(V).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(G){_e.setScissorTest(X=G)},this.setOpaqueSort=function(G){L=G},this.setTransparentSort=function(G){O=G},this.getClearColor=function(G){return G.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(G=!0,re=!0,me=!0){let ie=0;if(G){let pe=!1;if(R!==null){const Xe=R.texture.format;pe=Xe===Ow||Xe===Fw||Xe===Dw}if(pe){const Xe=R.texture.type,$e=Xe===Es||Xe===io||Xe===Cy||Xe===ca||Xe===Bw||Xe===Iw,st=ce.getClearColor(),ot=ce.getClearAlpha(),wt=st.r,nt=st.g,ct=st.b;$e?(m[0]=wt,m[1]=nt,m[2]=ct,m[3]=ot,Q.clearBufferuiv(Q.COLOR,0,m)):(y[0]=wt,y[1]=nt,y[2]=ct,y[3]=ot,Q.clearBufferiv(Q.COLOR,0,y))}else ie|=Q.COLOR_BUFFER_BIT}re&&(ie|=Q.DEPTH_BUFFER_BIT),me&&(ie|=Q.STENCIL_BUFFER_BIT),Q.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Fe,!1),t.removeEventListener("webglcontextrestored",ae,!1),t.removeEventListener("webglcontextcreationerror",Te,!1),Ae.dispose(),Re.dispose(),ke.dispose(),Ze.dispose(),yt.dispose(),D.dispose(),De.dispose(),rt.dispose(),oe.dispose(),ee.dispose(),ee.removeEventListener("sessionstart",Vt),ee.removeEventListener("sessionend",Vi),Se&&(Se.dispose(),Se=null),Qn.stop()};function Fe(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function ae(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const G=We.autoReset,re=Le.enabled,me=Le.autoUpdate,ie=Le.needsUpdate,pe=Le.type;Et(),We.autoReset=G,Le.enabled=re,Le.autoUpdate=me,Le.needsUpdate=ie,Le.type=pe}function Te(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function ze(G){const re=G.target;re.removeEventListener("dispose",ze),bt(re)}function bt(G){Jt(G),ke.remove(G)}function Jt(G){const re=ke.get(G).programs;re!==void 0&&(re.forEach(function(me){oe.releaseProgram(me)}),G.isShaderMaterial&&oe.releaseShaderCache(G))}this.renderBufferDirect=function(G,re,me,ie,pe,Xe){re===null&&(re=tt);const $e=pe.isMesh&&pe.matrixWorld.determinant()<0,st=uv(G,re,me,ie,pe);_e.setMaterial(ie,$e);let ot=me.index,wt=1;if(ie.wireframe===!0){if(ot=j.getWireframeAttribute(me),ot===void 0)return;wt=2}const nt=me.drawRange,ct=me.attributes.position;let Yt=nt.start*wt,Qt=(nt.start+nt.count)*wt;Xe!==null&&(Yt=Math.max(Yt,Xe.start*wt),Qt=Math.min(Qt,(Xe.start+Xe.count)*wt)),ot!==null?(Yt=Math.max(Yt,0),Qt=Math.min(Qt,ot.count)):ct!=null&&(Yt=Math.max(Yt,0),Qt=Math.min(Qt,ct.count));const Ri=Qt-Yt;if(Ri<0||Ri===1/0)return;De.setup(pe,ie,st,me,ot);let Wi,Wt=fe;if(ot!==null&&(Wi=Gt.get(ot),Wt=Me,Wt.setIndex(Wi)),pe.isMesh)ie.wireframe===!0?(_e.setLineWidth(ie.wireframeLinewidth*we()),Wt.setMode(Q.LINES)):Wt.setMode(Q.TRIANGLES);else if(pe.isLine){let ht=ie.linewidth;ht===void 0&&(ht=1),_e.setLineWidth(ht*we()),pe.isLineSegments?Wt.setMode(Q.LINES):pe.isLineLoop?Wt.setMode(Q.LINE_LOOP):Wt.setMode(Q.LINE_STRIP)}else pe.isPoints?Wt.setMode(Q.POINTS):pe.isSprite&&Wt.setMode(Q.TRIANGLES);if(pe.isInstancedMesh)Wt.renderInstances(Yt,Ri,pe.count);else if(me.isInstancedBufferGeometry){const ht=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,Ut=Math.min(me.instanceCount,ht);Wt.renderInstances(Yt,Ri,Ut)}else Wt.render(Yt,Ri)},this.compile=function(G,re){function me(ie,pe,Xe){ie.transparent===!0&&ie.side===Cr&&ie.forceSinglePass===!1?(ie.side=Ci,ie.needsUpdate=!0,as(ie,pe,Xe),ie.side=Rs,ie.needsUpdate=!0,as(ie,pe,Xe),ie.side=Cr):as(ie,pe,Xe)}x=Re.get(G),x.init(),A.push(x),G.traverseVisible(function(ie){ie.isLight&&ie.layers.test(re.layers)&&(x.pushLight(ie),ie.castShadow&&x.pushShadow(ie))}),x.setupLights(M._useLegacyLights),G.traverse(function(ie){const pe=ie.material;if(pe)if(Array.isArray(pe))for(let Xe=0;Xe<pe.length;Xe++){const $e=pe[Xe];me($e,G,ie)}else me(pe,G,ie)}),A.pop(),x=null};let mn=null;function Br(G){mn&&mn(G)}function Vt(){Qn.stop()}function Vi(){Qn.start()}const Qn=new M2;Qn.setAnimationLoop(Br),typeof self<"u"&&Qn.setContext(self),this.setAnimationLoop=function(G){mn=G,ee.setAnimationLoop(G),G===null?Qn.stop():Qn.start()},ee.addEventListener("sessionstart",Vt),ee.addEventListener("sessionend",Vi),this.render=function(G,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),ee.enabled===!0&&ee.isPresenting===!0&&(ee.cameraAutoUpdate===!0&&ee.updateCamera(re),re=ee.getCamera()),G.isScene===!0&&G.onBeforeRender(M,G,re,R),x=Re.get(G,A.length),x.init(),A.push(x),Ie.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),le.setFromProjectionMatrix(Ie),ve=this.localClippingEnabled,he=Ye.init(this.clippingPlanes,ve),_=Ae.get(G,g.length),_.init(),g.push(_),Ed(G,re,0,M.sortObjects),_.finish(),M.sortObjects===!0&&_.sort(L,O),this.info.render.frame++,he===!0&&Ye.beginShadows();const me=x.state.shadowsArray;if(Le.render(me,G,re),he===!0&&Ye.endShadows(),this.info.autoReset===!0&&this.info.reset(),ce.render(_,G),x.setupLights(M._useLegacyLights),re.isArrayCamera){const ie=re.cameras;for(let pe=0,Xe=ie.length;pe<Xe;pe++){const $e=ie[pe];Cd(_,G,$e,$e.viewport)}}else Cd(_,G,re);R!==null&&(Ge.updateMultisampleRenderTarget(R),Ge.updateRenderTargetMipmap(R)),G.isScene===!0&&G.onAfterRender(M,G,re),De.resetDefaultState(),B=-1,b=null,A.pop(),A.length>0?x=A[A.length-1]:x=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function Ed(G,re,me,ie){if(G.visible===!1)return;if(G.layers.test(re.layers)){if(G.isGroup)me=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(re);else if(G.isLight)x.pushLight(G),G.castShadow&&x.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||le.intersectsSprite(G)){ie&&ut.setFromMatrixPosition(G.matrixWorld).applyMatrix4(Ie);const $e=D.update(G),st=G.material;st.visible&&_.push(G,$e,st,me,ut.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||le.intersectsObject(G))){const $e=D.update(G),st=G.material;if(ie&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),ut.copy(G.boundingSphere.center)):($e.boundingSphere===null&&$e.computeBoundingSphere(),ut.copy($e.boundingSphere.center)),ut.applyMatrix4(G.matrixWorld).applyMatrix4(Ie)),Array.isArray(st)){const ot=$e.groups;for(let wt=0,nt=ot.length;wt<nt;wt++){const ct=ot[wt],Yt=st[ct.materialIndex];Yt&&Yt.visible&&_.push(G,$e,Yt,me,ut.z,ct)}}else st.visible&&_.push(G,$e,st,me,ut.z,null)}}const Xe=G.children;for(let $e=0,st=Xe.length;$e<st;$e++)Ed(Xe[$e],re,me,ie)}function Cd(G,re,me,ie){const pe=G.opaque,Xe=G.transmissive,$e=G.transparent;x.setupLightsView(me),he===!0&&Ye.setGlobalState(M.clippingPlanes,me),Xe.length>0&&Td(pe,Xe,re,me),ie&&_e.viewport(I.copy(ie)),pe.length>0&&_o(pe,re,me),Xe.length>0&&_o(Xe,re,me),$e.length>0&&_o($e,re,me),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function Td(G,re,me,ie){const pe=Ee.isWebGL2;Se===null&&(Se=new ns(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?Su:Es,minFilter:Ls,samples:pe?4:0})),M.getDrawingBufferSize(Ve),pe?Se.setSize(Ve.x,Ve.y):Se.setSize(Gg(Ve.x),Gg(Ve.y));const Xe=M.getRenderTarget();M.setRenderTarget(Se),M.getClearColor(q),N=M.getClearAlpha(),N<1&&M.setClearColor(16777215,.5),M.clear();const $e=M.toneMapping;M.toneMapping=Ss,_o(G,me,ie),Ge.updateMultisampleRenderTarget(Se),Ge.updateRenderTargetMipmap(Se);let st=!1;for(let ot=0,wt=re.length;ot<wt;ot++){const nt=re[ot],ct=nt.object,Yt=nt.geometry,Qt=nt.material,Ri=nt.group;if(Qt.side===Cr&&ct.layers.test(ie.layers)){const Wi=Qt.side;Qt.side=Ci,Qt.needsUpdate=!0,bd(ct,me,ie,Yt,Qt,Ri),Qt.side=Wi,Qt.needsUpdate=!0,st=!0}}st===!0&&(Ge.updateMultisampleRenderTarget(Se),Ge.updateRenderTargetMipmap(Se)),M.setRenderTarget(Xe),M.setClearColor(q,N),M.toneMapping=$e}function _o(G,re,me){const ie=re.isScene===!0?re.overrideMaterial:null;for(let pe=0,Xe=G.length;pe<Xe;pe++){const $e=G[pe],st=$e.object,ot=$e.geometry,wt=ie===null?$e.material:ie,nt=$e.group;st.layers.test(me.layers)&&bd(st,re,me,ot,wt,nt)}}function bd(G,re,me,ie,pe,Xe){G.onBeforeRender(M,re,me,ie,pe,Xe),G.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),pe.onBeforeRender(M,re,me,ie,G,Xe),pe.transparent===!0&&pe.side===Cr&&pe.forceSinglePass===!1?(pe.side=Ci,pe.needsUpdate=!0,M.renderBufferDirect(me,re,ie,pe,G,Xe),pe.side=Rs,pe.needsUpdate=!0,M.renderBufferDirect(me,re,ie,pe,G,Xe),pe.side=Cr):M.renderBufferDirect(me,re,ie,pe,G,Xe),G.onAfterRender(M,re,me,ie,pe,Xe)}function as(G,re,me){re.isScene!==!0&&(re=tt);const ie=ke.get(G),pe=x.state.lights,Xe=x.state.shadowsArray,$e=pe.state.version,st=oe.getParameters(G,pe.state,Xe,re,me),ot=oe.getProgramCacheKey(st);let wt=ie.programs;ie.environment=G.isMeshStandardMaterial?re.environment:null,ie.fog=re.fog,ie.envMap=(G.isMeshStandardMaterial?yt:Ze).get(G.envMap||ie.environment),wt===void 0&&(G.addEventListener("dispose",ze),wt=new Map,ie.programs=wt);let nt=wt.get(ot);if(nt!==void 0){if(ie.currentProgram===nt&&ie.lightsStateVersion===$e)return Pd(G,st),nt}else st.uniforms=oe.getUniforms(G),G.onBuild(me,st,M),G.onBeforeCompile(st,M),nt=oe.acquireProgram(st,ot),wt.set(ot,nt),ie.uniforms=st.uniforms;const ct=ie.uniforms;(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(ct.clippingPlanes=Ye.uniform),Pd(G,st),ie.needsLights=fv(G),ie.lightsStateVersion=$e,ie.needsLights&&(ct.ambientLightColor.value=pe.state.ambient,ct.lightProbe.value=pe.state.probe,ct.directionalLights.value=pe.state.directional,ct.directionalLightShadows.value=pe.state.directionalShadow,ct.spotLights.value=pe.state.spot,ct.spotLightShadows.value=pe.state.spotShadow,ct.rectAreaLights.value=pe.state.rectArea,ct.ltc_1.value=pe.state.rectAreaLTC1,ct.ltc_2.value=pe.state.rectAreaLTC2,ct.pointLights.value=pe.state.point,ct.pointLightShadows.value=pe.state.pointShadow,ct.hemisphereLights.value=pe.state.hemi,ct.directionalShadowMap.value=pe.state.directionalShadowMap,ct.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,ct.spotShadowMap.value=pe.state.spotShadowMap,ct.spotLightMatrix.value=pe.state.spotLightMatrix,ct.spotLightMap.value=pe.state.spotLightMap,ct.pointShadowMap.value=pe.state.pointShadowMap,ct.pointShadowMatrix.value=pe.state.pointShadowMatrix);const Yt=nt.getUniforms(),Qt=rg.seqWithValue(Yt.seq,ct);return ie.currentProgram=nt,ie.uniformsList=Qt,nt}function Pd(G,re){const me=ke.get(G);me.outputColorSpace=re.outputColorSpace,me.instancing=re.instancing,me.instancingColor=re.instancingColor,me.skinning=re.skinning,me.morphTargets=re.morphTargets,me.morphNormals=re.morphNormals,me.morphColors=re.morphColors,me.morphTargetsCount=re.morphTargetsCount,me.numClippingPlanes=re.numClippingPlanes,me.numIntersection=re.numClipIntersection,me.vertexAlphas=re.vertexAlphas,me.vertexTangents=re.vertexTangents,me.toneMapping=re.toneMapping}function uv(G,re,me,ie,pe){re.isScene!==!0&&(re=tt),Ge.resetTextureUnits();const Xe=re.fog,$e=ie.isMeshStandardMaterial?re.environment:null,st=R===null?M.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:ts,ot=(ie.isMeshStandardMaterial?yt:Ze).get(ie.envMap||$e),wt=ie.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,nt=!!me.attributes.tangent&&(!!ie.normalMap||ie.anisotropy>0),ct=!!me.morphAttributes.position,Yt=!!me.morphAttributes.normal,Qt=!!me.morphAttributes.color;let Ri=Ss;ie.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Ri=M.toneMapping);const Wi=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,Wt=Wi!==void 0?Wi.length:0,ht=ke.get(ie),Ut=x.state.lights;if(he===!0&&(ve===!0||G!==b)){const ii=G===b&&ie.id===B;Ye.setState(ie,G,ii)}let at=!1;ie.version===ht.__version?(ht.needsLights&&ht.lightsStateVersion!==Ut.state.version||ht.outputColorSpace!==st||pe.isInstancedMesh&&ht.instancing===!1||!pe.isInstancedMesh&&ht.instancing===!0||pe.isSkinnedMesh&&ht.skinning===!1||!pe.isSkinnedMesh&&ht.skinning===!0||pe.isInstancedMesh&&ht.instancingColor===!0&&pe.instanceColor===null||pe.isInstancedMesh&&ht.instancingColor===!1&&pe.instanceColor!==null||ht.envMap!==ot||ie.fog===!0&&ht.fog!==Xe||ht.numClippingPlanes!==void 0&&(ht.numClippingPlanes!==Ye.numPlanes||ht.numIntersection!==Ye.numIntersection)||ht.vertexAlphas!==wt||ht.vertexTangents!==nt||ht.morphTargets!==ct||ht.morphNormals!==Yt||ht.morphColors!==Qt||ht.toneMapping!==Ri||Ee.isWebGL2===!0&&ht.morphTargetsCount!==Wt)&&(at=!0):(at=!0,ht.__version=ie.version);let ni=ht.currentProgram;at===!0&&(ni=as(ie,re,pe));let On=!1,bn=!1,Ir=!1;const gn=ni.getUniforms(),yn=ht.uniforms;if(_e.useProgram(ni.program)&&(On=!0,bn=!0,Ir=!0),ie.id!==B&&(B=ie.id,bn=!0),On||b!==G){if(gn.setValue(Q,"projectionMatrix",G.projectionMatrix),Ee.logarithmicDepthBuffer&&gn.setValue(Q,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),b!==G&&(b=G,bn=!0,Ir=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const ii=gn.map.cameraPosition;ii!==void 0&&ii.setValue(Q,ut.setFromMatrixPosition(G.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&gn.setValue(Q,"isOrthographic",G.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||pe.isSkinnedMesh)&&gn.setValue(Q,"viewMatrix",G.matrixWorldInverse)}if(pe.isSkinnedMesh){gn.setOptional(Q,pe,"bindMatrix"),gn.setOptional(Q,pe,"bindMatrixInverse");const ii=pe.skeleton;ii&&(Ee.floatVertexTextures?(ii.boneTexture===null&&ii.computeBoneTexture(),gn.setValue(Q,"boneTexture",ii.boneTexture,Ge),gn.setValue(Q,"boneTextureSize",ii.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ao=me.morphAttributes;if((Ao.position!==void 0||Ao.normal!==void 0||Ao.color!==void 0&&Ee.isWebGL2===!0)&&Z.update(pe,me,ni),(bn||ht.receiveShadow!==pe.receiveShadow)&&(ht.receiveShadow=pe.receiveShadow,gn.setValue(Q,"receiveShadow",pe.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(yn.envMap.value=ot,yn.flipEnvMap.value=ot.isCubeTexture&&ot.isRenderTargetTexture===!1?-1:1),bn&&(gn.setValue(Q,"toneMappingExposure",M.toneMappingExposure),ht.needsLights&&hv(yn,Ir),Xe&&ie.fog===!0&&Ce.refreshFogUniforms(yn,Xe),Ce.refreshMaterialUniforms(yn,ie,V,z,Se),rg.upload(Q,ht.uniformsList,yn,Ge)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(rg.upload(Q,ht.uniformsList,yn,Ge),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&gn.setValue(Q,"center",pe.center),gn.setValue(Q,"modelViewMatrix",pe.modelViewMatrix),gn.setValue(Q,"normalMatrix",pe.normalMatrix),gn.setValue(Q,"modelMatrix",pe.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const ii=ie.uniformsGroups;for(let jl=0,Xl=ii.length;jl<Xl;jl++)if(Ee.isWebGL2){const Yu=ii[jl];rt.update(Yu,ni),rt.bind(Yu,ni)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ni}function hv(G,re){G.ambientLightColor.needsUpdate=re,G.lightProbe.needsUpdate=re,G.directionalLights.needsUpdate=re,G.directionalLightShadows.needsUpdate=re,G.pointLights.needsUpdate=re,G.pointLightShadows.needsUpdate=re,G.spotLights.needsUpdate=re,G.spotLightShadows.needsUpdate=re,G.rectAreaLights.needsUpdate=re,G.hemisphereLights.needsUpdate=re}function fv(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(G,re,me){ke.get(G.texture).__webglTexture=re,ke.get(G.depthTexture).__webglTexture=me;const ie=ke.get(G);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=me===void 0,ie.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(G,re){const me=ke.get(G);me.__webglFramebuffer=re,me.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(G,re=0,me=0){R=G,C=re,P=me;let ie=!0,pe=null,Xe=!1,$e=!1;if(G){const ot=ke.get(G);ot.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(Q.FRAMEBUFFER,null),ie=!1):ot.__webglFramebuffer===void 0?Ge.setupRenderTarget(G):ot.__hasExternalTextures&&Ge.rebindTextures(G,ke.get(G.texture).__webglTexture,ke.get(G.depthTexture).__webglTexture);const wt=G.texture;(wt.isData3DTexture||wt.isDataArrayTexture||wt.isCompressedArrayTexture)&&($e=!0);const nt=ke.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(nt[re])?pe=nt[re][me]:pe=nt[re],Xe=!0):Ee.isWebGL2&&G.samples>0&&Ge.useMultisampledRTT(G)===!1?pe=ke.get(G).__webglMultisampledFramebuffer:Array.isArray(nt)?pe=nt[me]:pe=nt,I.copy(G.viewport),J.copy(G.scissor),$=G.scissorTest}else I.copy(H).multiplyScalar(V).floor(),J.copy(U).multiplyScalar(V).floor(),$=X;if(_e.bindFramebuffer(Q.FRAMEBUFFER,pe)&&Ee.drawBuffers&&ie&&_e.drawBuffers(G,pe),_e.viewport(I),_e.scissor(J),_e.setScissorTest($),Xe){const ot=ke.get(G.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+re,ot.__webglTexture,me)}else if($e){const ot=ke.get(G.texture),wt=re||0;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,ot.__webglTexture,me||0,wt)}B=-1},this.readRenderTargetPixels=function(G,re,me,ie,pe,Xe,$e){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let st=ke.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&$e!==void 0&&(st=st[$e]),st){_e.bindFramebuffer(Q.FRAMEBUFFER,st);try{const ot=G.texture,wt=ot.format,nt=ot.type;if(wt!==Ni&&Pe.convert(wt)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ct=nt===Su&&(ge.has("EXT_color_buffer_half_float")||Ee.isWebGL2&&ge.has("EXT_color_buffer_float"));if(nt!==Es&&Pe.convert(nt)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(nt===vs&&(Ee.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=G.width-ie&&me>=0&&me<=G.height-pe&&Q.readPixels(re,me,ie,pe,Pe.convert(wt),Pe.convert(nt),Xe)}finally{const ot=R!==null?ke.get(R).__webglFramebuffer:null;_e.bindFramebuffer(Q.FRAMEBUFFER,ot)}}},this.copyFramebufferToTexture=function(G,re,me=0){const ie=Math.pow(2,-me),pe=Math.floor(re.image.width*ie),Xe=Math.floor(re.image.height*ie);Ge.setTexture2D(re,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,me,0,0,G.x,G.y,pe,Xe),_e.unbindTexture()},this.copyTextureToTexture=function(G,re,me,ie=0){const pe=re.image.width,Xe=re.image.height,$e=Pe.convert(me.format),st=Pe.convert(me.type);Ge.setTexture2D(me,0),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,me.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,me.unpackAlignment),re.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,ie,G.x,G.y,pe,Xe,$e,st,re.image.data):re.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,ie,G.x,G.y,re.mipmaps[0].width,re.mipmaps[0].height,$e,re.mipmaps[0].data):Q.texSubImage2D(Q.TEXTURE_2D,ie,G.x,G.y,$e,st,re.image),ie===0&&me.generateMipmaps&&Q.generateMipmap(Q.TEXTURE_2D),_e.unbindTexture()},this.copyTextureToTexture3D=function(G,re,me,ie,pe=0){if(M.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Xe=G.max.x-G.min.x+1,$e=G.max.y-G.min.y+1,st=G.max.z-G.min.z+1,ot=Pe.convert(ie.format),wt=Pe.convert(ie.type);let nt;if(ie.isData3DTexture)Ge.setTexture3D(ie,0),nt=Q.TEXTURE_3D;else if(ie.isDataArrayTexture)Ge.setTexture2DArray(ie,0),nt=Q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,ie.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,ie.unpackAlignment);const ct=Q.getParameter(Q.UNPACK_ROW_LENGTH),Yt=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Qt=Q.getParameter(Q.UNPACK_SKIP_PIXELS),Ri=Q.getParameter(Q.UNPACK_SKIP_ROWS),Wi=Q.getParameter(Q.UNPACK_SKIP_IMAGES),Wt=me.isCompressedTexture?me.mipmaps[0]:me.image;Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Wt.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Wt.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,G.min.x),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,G.min.y),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,G.min.z),me.isDataTexture||me.isData3DTexture?Q.texSubImage3D(nt,pe,re.x,re.y,re.z,Xe,$e,st,ot,wt,Wt.data):me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(nt,pe,re.x,re.y,re.z,Xe,$e,st,ot,Wt.data)):Q.texSubImage3D(nt,pe,re.x,re.y,re.z,Xe,$e,st,ot,wt,Wt),Q.pixelStorei(Q.UNPACK_ROW_LENGTH,ct),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Yt),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Qt),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,Ri),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Wi),pe===0&&ie.generateMipmaps&&Q.generateMipmap(nt),_e.unbindTexture()},this.initTexture=function(G){G.isCubeTexture?Ge.setTextureCube(G,0):G.isData3DTexture?Ge.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?Ge.setTexture2DArray(G,0):Ge.setTexture2D(G,0),_e.unbindTexture()},this.resetState=function(){C=0,P=0,R=null,_e.reset(),De.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xs}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===mt?ha:Uw}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ha?mt:ts}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class R2 extends qw{}R2.prototype.isWebGL1Renderer=!0;class Ly{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ne(e),this.density=t}clone(){return new Ly(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class By{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ne(e),this.near=t,this.far=i}clone(){return new By(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Vg extends Lt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class fd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=zf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=nr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ai=new k;class va{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ai.fromBufferAttribute(this,t),Ai.applyMatrix4(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ai.fromBufferAttribute(this,t),Ai.applyNormalMatrix(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ai.fromBufferAttribute(this,t),Ai.transformDirection(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ki(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ki(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ki(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ki(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new kt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new va(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Zw extends Fn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ne(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let wc;const Ch=new k,Sc=new k,Ec=new k,Cc=new ye,Th=new ye,L2=new lt,sm=new k,bh=new k,om=new k,YT=new ye,Ex=new ye,KT=new ye;class B2 extends Lt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",wc===void 0){wc=new gt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new fd(t,5);wc.setIndex([0,1,2,0,2,3]),wc.setAttribute("position",new va(i,3,0,!1)),wc.setAttribute("uv",new va(i,2,3,!1))}this.geometry=wc,this.material=e!==void 0?e:new Zw,this.center=new ye(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Sc.setFromMatrixScale(this.matrixWorld),L2.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ec.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Sc.multiplyScalar(-Ec.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;am(sm.set(-.5,-.5,0),Ec,o,Sc,r,s),am(bh.set(.5,-.5,0),Ec,o,Sc,r,s),am(om.set(.5,.5,0),Ec,o,Sc,r,s),YT.set(0,0),Ex.set(1,0),KT.set(1,1);let a=e.ray.intersectTriangle(sm,bh,om,!1,Ch);if(a===null&&(am(bh.set(-.5,.5,0),Ec,o,Sc,r,s),Ex.set(0,1),a=e.ray.intersectTriangle(sm,om,bh,!1,Ch),a===null))return;const l=e.ray.origin.distanceTo(Ch);l<e.near||l>e.far||t.push({distance:l,point:Ch.clone(),uv:Oi.getInterpolation(Ch,sm,bh,om,YT,Ex,KT,new ye),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function am(n,e,t,i,r,s){Cc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Th.x=s*Cc.x-r*Cc.y,Th.y=r*Cc.x+s*Cc.y):Th.copy(Cc),n.copy(e),n.x+=Th.x,n.y+=Th.y,n.applyMatrix4(L2)}const lm=new k,QT=new k;class I2 extends Lt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){lm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(lm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lm.setFromMatrixPosition(e.matrixWorld),QT.setFromMatrixPosition(this.matrixWorld);const i=lm.distanceTo(QT)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const qT=new k,ZT=new zt,$T=new zt,G8=new k,eb=new lt,Tc=new k,Cx=new Lr,tb=new lt,Tx=new Vu;class $w extends Jn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new is),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Tc.fromBufferAttribute(t,i),this.applyBoneTransform(i,Tc),this.boundingBox.expandByPoint(Tc)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Lr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Tc.fromBufferAttribute(t,i),this.applyBoneTransform(i,Tc),this.boundingSphere.expandByPoint(Tc)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Cx.copy(this.boundingSphere),Cx.applyMatrix4(r),e.ray.intersectsSphere(Cx)!==!1&&(tb.copy(r).invert(),Tx.copy(e.ray).applyMatrix4(tb),!(this.boundingBox!==null&&Tx.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Tx)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;ZT.fromBufferAttribute(r.attributes.skinIndex,e),$T.fromBufferAttribute(r.attributes.skinWeight,e),qT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=$T.getComponent(s);if(o!==0){const a=ZT.getComponent(s);eb.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(G8.copy(qT).applyMatrix4(eb),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Iy extends Lt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hu extends an{constructor(e=null,t=1,i=1,r,s,o,a,l,c=An,h=An,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const nb=new lt,V8=new lt;class dd{constructor(e=[],t=[]){this.uuid=nr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new lt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:V8;nb.multiplyMatrices(a,t[s]),nb.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new dd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=m2(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new hu(t,e,e,Ni,vs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Iy),this.bones.push(o),this.boneInverses.push(new lt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class bu extends kt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const bc=new lt,ib=new lt,cm=[],rb=new is,W8=new lt,Ph=new Jn,Rh=new Lr;class eS extends Jn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new bu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,W8)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new is),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,bc),rb.copy(e.boundingBox).applyMatrix4(bc),this.boundingBox.union(rb)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Lr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,bc),Rh.copy(e.boundingSphere).applyMatrix4(bc),this.boundingSphere.union(Rh)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ph.geometry=this.geometry,Ph.material=this.material,Ph.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Rh.copy(this.boundingSphere),Rh.applyMatrix4(i),e.ray.intersectsSphere(Rh)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,bc),ib.multiplyMatrices(i,bc),Ph.matrixWorld=ib,Ph.raycast(e,cm);for(let o=0,a=cm.length;o<a;o++){const l=cm[o];l.instanceId=s,l.object=this,t.push(l)}cm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new bu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class yi extends Fn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ne(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const sb=new k,ob=new k,ab=new lt,bx=new Vu,um=new Lr;class vo extends Lt{constructor(e=new gt,t=new yi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)sb.fromBufferAttribute(t,r-1),ob.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=sb.distanceTo(ob);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),um.copy(i.boundingSphere),um.applyMatrix4(r),um.radius+=s,e.ray.intersectsSphere(um)===!1)return;ab.copy(r).invert(),bx.copy(e.ray).applyMatrix4(ab);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new k,h=new k,d=new k,p=new k,m=this.isLineSegments?2:1,y=i.index,x=i.attributes.position;if(y!==null){const g=Math.max(0,o.start),A=Math.min(y.count,o.start+o.count);for(let M=g,S=A-1;M<S;M+=m){const C=y.getX(M),P=y.getX(M+1);if(c.fromBufferAttribute(x,C),h.fromBufferAttribute(x,P),bx.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:d.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),A=Math.min(x.count,o.start+o.count);for(let M=g,S=A-1;M<S;M+=m){if(c.fromBufferAttribute(x,M),h.fromBufferAttribute(x,M+1),bx.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const lb=new k,cb=new k;class rs extends vo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)lb.fromBufferAttribute(t,r),cb.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+lb.distanceTo(cb);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class tS extends vo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Dy extends Fn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ne(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ub=new lt,WA=new Vu,hm=new Lr,fm=new k;class nS extends Lt{constructor(e=new gt,t=new Dy){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),hm.copy(i.boundingSphere),hm.applyMatrix4(r),hm.radius+=s,e.ray.intersectsSphere(hm)===!1)return;ub.copy(r).invert(),WA.copy(e.ray).applyMatrix4(ub);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,_=m;y<_;y++){const x=c.getX(y);fm.fromBufferAttribute(d,x),hb(fm,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let y=p,_=m;y<_;y++)fm.fromBufferAttribute(d,y),hb(fm,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function hb(n,e,t,i,r,s,o){const a=WA.distanceSqToPoint(n);if(a<t){const l=new k;WA.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class j8 extends an{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:hn,this.magFilter=s!==void 0?s:hn,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class X8 extends an{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=An,this.minFilter=An,this.generateMipmaps=!1,this.needsUpdate=!0}}class Fy extends an{constructor(e,t,i,r,s,o,a,l,c,h,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class J8 extends Fy{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=$n}}class Y8 extends Fy{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,yo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class K8 extends an{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ss{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,m=(o-h)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ye:new k);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new k,r=[],s=[],o=[],a=new k,l=new lt;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new k)}s[0]=new k,o[0]=new k;let c=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=c&&(c=h,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Mn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Mn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Oy extends ss{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ye,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*h-m*d+this.aX,c=p*d+m*h+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class D2 extends Oy{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function iS(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,h,d){let p=(o-s)/c-(a-s)/(c+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const dm=new k,Px=new iS,Rx=new iS,Lx=new iS;class F2 extends ss{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new k){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,h;this.closed||a>0?c=r[(a-1)%s]:(dm.subVectors(r[0],r[1]).add(r[0]),c=dm);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(dm.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=dm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(d),m),_=Math.pow(d.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(h),m);_<1e-4&&(_=1),y<1e-4&&(y=_),x<1e-4&&(x=_),Px.initNonuniformCatmullRom(c.x,d.x,p.x,h.x,y,_,x),Rx.initNonuniformCatmullRom(c.y,d.y,p.y,h.y,y,_,x),Lx.initNonuniformCatmullRom(c.z,d.z,p.z,h.z,y,_,x)}else this.curveType==="catmullrom"&&(Px.initCatmullRom(c.x,d.x,p.x,h.x,this.tension),Rx.initCatmullRom(c.y,d.y,p.y,h.y,this.tension),Lx.initCatmullRom(c.z,d.z,p.z,h.z,this.tension));return i.set(Px.calc(l),Rx.calc(l),Lx.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new k().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function fb(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function Q8(n,e){const t=1-n;return t*t*e}function q8(n,e){return 2*(1-n)*n*e}function Z8(n,e){return n*n*e}function cf(n,e,t,i){return Q8(n,e)+q8(n,t)+Z8(n,i)}function $8(n,e){const t=1-n;return t*t*t*e}function e6(n,e){const t=1-n;return 3*t*t*n*e}function t6(n,e){return 3*(1-n)*n*n*e}function n6(n,e){return n*n*n*e}function uf(n,e,t,i,r){return $8(n,e)+e6(n,t)+t6(n,i)+n6(n,r)}class rS extends ss{constructor(e=new ye,t=new ye,i=new ye,r=new ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ye){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(uf(e,r.x,s.x,o.x,a.x),uf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class O2 extends ss{constructor(e=new k,t=new k,i=new k,r=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(uf(e,r.x,s.x,o.x,a.x),uf(e,r.y,s.y,o.y,a.y),uf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ny extends ss{constructor(e=new ye,t=new ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ye){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N2 extends ss{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new k){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sS extends ss{constructor(e=new ye,t=new ye,i=new ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ye){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(cf(e,r.x,s.x,o.x),cf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oS extends ss{constructor(e=new k,t=new k,i=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(cf(e,r.x,s.x,o.x),cf(e,r.y,s.y,o.y),cf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aS extends ss{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ye){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(fb(a,l.x,c.x,h.x,d.x),fb(a,l.y,c.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ye().fromArray(r))}return this}}var lS=Object.freeze({__proto__:null,ArcCurve:D2,CatmullRomCurve3:F2,CubicBezierCurve:rS,CubicBezierCurve3:O2,EllipseCurve:Oy,LineCurve:Ny,LineCurve3:N2,QuadraticBezierCurve:sS,QuadraticBezierCurve3:oS,SplineCurve:aS});class k2 extends ss{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ny(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const h=l[c];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new lS[r.type]().fromJSON(r))}return this}}class Vf extends k2{constructor(e){super(),this.type="Path",this.currentPoint=new ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Ny(this.currentPoint.clone(),new ye(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new sS(this.currentPoint.clone(),new ye(e,t),new ye(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new rS(this.currentPoint.clone(),new ye(e,t),new ye(i,r),new ye(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new aS(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Oy(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class pd extends gt{constructor(e=[new ye(0,-.5),new ye(.5,0),new ye(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Mn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],h=1/t,d=new k,p=new ye,m=new k,y=new k,_=new k;let x=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(y)}for(let A=0;A<=t;A++){const M=i+A*h*r,S=Math.sin(M),C=Math.cos(M);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*S,d.y=e[P].y,d.z=e[P].x*C,o.push(d.x,d.y,d.z),p.x=A/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*S,B=l[3*P+1],b=l[3*P+0]*C;c.push(R,B,b)}}for(let A=0;A<t;A++)for(let M=0;M<e.length-1;M++){const S=M+A*e.length,C=S,P=S+e.length,R=S+e.length+1,B=S+1;s.push(C,P,B),s.push(R,B,P)}this.setIndex(s),this.setAttribute("position",new Ke(o,3)),this.setAttribute("uv",new Ke(a,2)),this.setAttribute("normal",new Ke(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pd(e.points,e.segments,e.phiStart,e.phiLength)}}class ky extends pd{constructor(e=1,t=1,i=4,r=8){const s=new Vf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new ky(e.radius,e.length,e.capSegments,e.radialSegments)}}class Uy extends gt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new k,h=new ye;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ke(o,3)),this.setAttribute("normal",new Ke(a,3)),this.setAttribute("uv",new Ke(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ju extends gt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let y=0;const _=[],x=i/2;let g=0;A(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(h),this.setAttribute("position",new Ke(d,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2));function A(){const S=new k,C=new k;let P=0;const R=(t-e)/i;for(let B=0;B<=s;B++){const b=[],I=B/s,J=I*(t-e)+e;for(let $=0;$<=r;$++){const q=$/r,N=q*l+a,F=Math.sin(N),z=Math.cos(N);C.x=J*F,C.y=-I*i+x,C.z=J*z,d.push(C.x,C.y,C.z),S.set(F,R,z).normalize(),p.push(S.x,S.y,S.z),m.push(q,1-I),b.push(y++)}_.push(b)}for(let B=0;B<r;B++)for(let b=0;b<s;b++){const I=_[b][B],J=_[b+1][B],$=_[b+1][B+1],q=_[b][B+1];h.push(I,J,q),h.push(J,$,q),P+=6}c.addGroup(g,P,0),g+=P}function M(S){const C=y,P=new ye,R=new k;let B=0;const b=S===!0?e:t,I=S===!0?1:-1;for(let $=1;$<=r;$++)d.push(0,x*I,0),p.push(0,I,0),m.push(.5,.5),y++;const J=y;for(let $=0;$<=r;$++){const N=$/r*l+a,F=Math.cos(N),z=Math.sin(N);R.x=b*z,R.y=x*I,R.z=b*F,d.push(R.x,R.y,R.z),p.push(0,I,0),P.x=F*.5+.5,P.y=z*.5*I+.5,m.push(P.x,P.y),y++}for(let $=0;$<r;$++){const q=C+$,N=J+$;S===!0?h.push(N,N+1,q):h.push(N+1,N,q),B+=3}c.addGroup(g,B,S===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ju(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zy extends ju{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new zy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ta extends gt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),h(),this.setAttribute("position",new Ke(s,3)),this.setAttribute("normal",new Ke(s.slice(),3)),this.setAttribute("uv",new Ke(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const M=new k,S=new k,C=new k;for(let P=0;P<t.length;P+=3)m(t[P+0],M),m(t[P+1],S),m(t[P+2],C),l(M,S,C,A)}function l(A,M,S,C){const P=C+1,R=[];for(let B=0;B<=P;B++){R[B]=[];const b=A.clone().lerp(S,B/P),I=M.clone().lerp(S,B/P),J=P-B;for(let $=0;$<=J;$++)$===0&&B===P?R[B][$]=b:R[B][$]=b.clone().lerp(I,$/J)}for(let B=0;B<P;B++)for(let b=0;b<2*(P-B)-1;b++){const I=Math.floor(b/2);b%2===0?(p(R[B][I+1]),p(R[B+1][I]),p(R[B][I])):(p(R[B][I+1]),p(R[B+1][I+1]),p(R[B+1][I]))}}function c(A){const M=new k;for(let S=0;S<s.length;S+=3)M.x=s[S+0],M.y=s[S+1],M.z=s[S+2],M.normalize().multiplyScalar(A),s[S+0]=M.x,s[S+1]=M.y,s[S+2]=M.z}function h(){const A=new k;for(let M=0;M<s.length;M+=3){A.x=s[M+0],A.y=s[M+1],A.z=s[M+2];const S=x(A)/2/Math.PI+.5,C=g(A)/Math.PI+.5;o.push(S,1-C)}y(),d()}function d(){for(let A=0;A<o.length;A+=6){const M=o[A+0],S=o[A+2],C=o[A+4],P=Math.max(M,S,C),R=Math.min(M,S,C);P>.9&&R<.1&&(M<.2&&(o[A+0]+=1),S<.2&&(o[A+2]+=1),C<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,M){const S=A*3;M.x=e[S+0],M.y=e[S+1],M.z=e[S+2]}function y(){const A=new k,M=new k,S=new k,C=new k,P=new ye,R=new ye,B=new ye;for(let b=0,I=0;b<s.length;b+=9,I+=6){A.set(s[b+0],s[b+1],s[b+2]),M.set(s[b+3],s[b+4],s[b+5]),S.set(s[b+6],s[b+7],s[b+8]),P.set(o[I+0],o[I+1]),R.set(o[I+2],o[I+3]),B.set(o[I+4],o[I+5]),C.copy(A).add(M).add(S).divideScalar(3);const J=x(C);_(P,I+0,A,J),_(R,I+2,M,J),_(B,I+4,S,J)}}function _(A,M,S,C){C<0&&A.x===1&&(o[M]=A.x-1),S.x===0&&S.z===0&&(o[M]=C/2/Math.PI+.5)}function x(A){return Math.atan2(A.z,-A.x)}function g(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ta(e.vertices,e.indices,e.radius,e.details)}}class Hy extends Ta{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hy(e.radius,e.detail)}}const pm=new k,mm=new k,Bx=new k,gm=new Oi;class U2 extends gt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(xl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:_,b:x,c:g}=gm;if(_.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),gm.getNormal(Bx),d[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let A=0;A<3;A++){const M=(A+1)%3,S=d[A],C=d[M],P=gm[h[A]],R=gm[h[M]],B=`${S}_${C}`,b=`${C}_${S}`;b in p&&p[b]?(Bx.dot(p[b].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[b]=null):B in p||(p[B]={index0:c[A],index1:c[M],normal:Bx.clone()})}}for(const y in p)if(p[y]){const{index0:_,index1:x}=p[y];pm.fromBufferAttribute(a,_),mm.fromBufferAttribute(a,x),m.push(pm.x,pm.y,pm.z),m.push(mm.x,mm.y,mm.z)}this.setAttribute("position",new Ke(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Al extends Vf{constructor(e){super(e),this.uuid=nr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Vf().fromJSON(r))}return this}}const i6={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=z2(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,d,p,m;if(i&&(s=l6(n,e,s,t)),n.length>80*t){a=c=n[0],l=h=n[1];for(let y=t;y<r;y+=t)d=n[y],p=n[y+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Wf(s,o,t,a,l,m,0),o}};function z2(n,e,t,i,r){let s,o;if(r===x6(n,e,t,i)>0)for(s=e;s<t;s+=i)o=db(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=db(s,n[s],n[s+1],o);return o&&Gy(o,o.next)&&(Xf(o),o=o.next),o}function Il(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Gy(t,t.next)||fn(t.prev,t,t.next)===0)){if(Xf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Wf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&d6(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?s6(n,i,r,s):r6(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Xf(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=o6(Il(n),e,t),Wf(n,e,t,i,r,s,2)):o===2&&a6(n,e,t,i,r,s):Wf(Il(n),e,t,i,r,s,1);break}}}function r6(n){const e=n.prev,t=n,i=n.next;if(fn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=h&&y.x<=p&&y.y>=d&&y.y<=m&&Qc(r,a,s,l,o,c,y.x,y.y)&&fn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function s6(n,e,t,i){const r=n.prev,s=n,o=n.next;if(fn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=h<d?h<p?h:p:d<p?d:p,_=a>l?a>c?a:c:l>c?l:c,x=h>d?h>p?h:p:d>p?d:p,g=jA(m,y,e,t,i),A=jA(_,x,e,t,i);let M=n.prevZ,S=n.nextZ;for(;M&&M.z>=g&&S&&S.z<=A;){if(M.x>=m&&M.x<=_&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&Qc(a,h,l,d,c,p,M.x,M.y)&&fn(M.prev,M,M.next)>=0||(M=M.prevZ,S.x>=m&&S.x<=_&&S.y>=y&&S.y<=x&&S!==r&&S!==o&&Qc(a,h,l,d,c,p,S.x,S.y)&&fn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;M&&M.z>=g;){if(M.x>=m&&M.x<=_&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&Qc(a,h,l,d,c,p,M.x,M.y)&&fn(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;S&&S.z<=A;){if(S.x>=m&&S.x<=_&&S.y>=y&&S.y<=x&&S!==r&&S!==o&&Qc(a,h,l,d,c,p,S.x,S.y)&&fn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function o6(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Gy(r,s)&&H2(r,i,i.next,s)&&jf(r,s)&&jf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Xf(i),Xf(i.next),i=n=s),i=i.next}while(i!==n);return Il(i)}function a6(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&g6(o,a)){let l=G2(o,a);o=Il(o,o.next),l=Il(l,l.next),Wf(o,e,t,i,r,s,0),Wf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function l6(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=z2(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(m6(c));for(r.sort(c6),s=0;s<r.length;s++)t=u6(r[s],t);return t}function c6(n,e){return n.x-e.x}function u6(n,e){const t=h6(n,e);if(!t)return e;const i=G2(t,n);return Il(i,i.next),Il(t,t.next)}function h6(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Qc(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),jf(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&f6(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function f6(n,e){return fn(n.prev,n,e.prev)<0&&fn(e.next,n,n.next)<0}function d6(n,e,t,i){let r=n;do r.z===0&&(r.z=jA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,p6(r)}function p6(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function jA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function m6(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Qc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function g6(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!y6(n,e)&&(jf(n,e)&&jf(e,n)&&v6(n,e)&&(fn(n.prev,n,e.prev)||fn(n,e.prev,e))||Gy(n,e)&&fn(n.prev,n,n.next)>0&&fn(e.prev,e,e.next)>0)}function fn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Gy(n,e){return n.x===e.x&&n.y===e.y}function H2(n,e,t,i){const r=vm(fn(n,e,t)),s=vm(fn(n,e,i)),o=vm(fn(t,i,n)),a=vm(fn(t,i,e));return!!(r!==s&&o!==a||r===0&&ym(n,t,e)||s===0&&ym(n,i,e)||o===0&&ym(t,n,i)||a===0&&ym(t,e,i))}function ym(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function vm(n){return n>0?1:n<0?-1:0}function y6(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&H2(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function jf(n,e){return fn(n.prev,n,n.next)<0?fn(n,e,n.next)>=0&&fn(n,n.prev,e)>=0:fn(n,e,n.prev)<0||fn(n,n.next,e)<0}function v6(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function G2(n,e){const t=new XA(n.i,n.x,n.y),i=new XA(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function db(n,e,t,i){const r=new XA(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Xf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function XA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function x6(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Cs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Cs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];pb(e),mb(i,e);let o=e.length;t.forEach(pb);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,mb(i,t[l]);const a=i6.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function pb(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function mb(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Vy extends gt{constructor(e=new Al([new ye(.5,.5),new ye(-.5,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ke(r,3)),this.setAttribute("uv",new Ke(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:_6;let M,S=!1,C,P,R,B;g&&(M=g.getSpacedPoints(h),S=!0,p=!1,C=g.computeFrenetFrames(h,!1),P=new k,R=new k,B=new k),p||(x=0,m=0,y=0,_=0);const b=a.extractPoints(c);let I=b.shape;const J=b.holes;if(!Cs.isClockWise(I)){I=I.reverse();for(let Q=0,xe=J.length;Q<xe;Q++){const ge=J[Q];Cs.isClockWise(ge)&&(J[Q]=ge.reverse())}}const q=Cs.triangulateShape(I,J),N=I;for(let Q=0,xe=J.length;Q<xe;Q++){const ge=J[Q];I=I.concat(ge)}function F(Q,xe,ge){return xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Q.clone().addScaledVector(xe,ge)}const z=I.length,V=q.length;function L(Q,xe,ge){let Ee,_e,We;const ke=Q.x-xe.x,Ge=Q.y-xe.y,Ze=ge.x-Q.x,yt=ge.y-Q.y,Gt=ke*ke+Ge*Ge,j=ke*yt-Ge*Ze;if(Math.abs(j)>Number.EPSILON){const D=Math.sqrt(Gt),oe=Math.sqrt(Ze*Ze+yt*yt),Ce=xe.x-Ge/D,Ae=xe.y+ke/D,Re=ge.x-yt/oe,Ye=ge.y+Ze/oe,Le=((Re-Ce)*yt-(Ye-Ae)*Ze)/(ke*yt-Ge*Ze);Ee=Ce+ke*Le-Q.x,_e=Ae+Ge*Le-Q.y;const ce=Ee*Ee+_e*_e;if(ce<=2)return new ye(Ee,_e);We=Math.sqrt(ce/2)}else{let D=!1;ke>Number.EPSILON?Ze>Number.EPSILON&&(D=!0):ke<-Number.EPSILON?Ze<-Number.EPSILON&&(D=!0):Math.sign(Ge)===Math.sign(yt)&&(D=!0),D?(Ee=-Ge,_e=ke,We=Math.sqrt(Gt)):(Ee=ke,_e=Ge,We=Math.sqrt(Gt/2))}return new ye(Ee/We,_e/We)}const O=[];for(let Q=0,xe=N.length,ge=xe-1,Ee=Q+1;Q<xe;Q++,ge++,Ee++)ge===xe&&(ge=0),Ee===xe&&(Ee=0),O[Q]=L(N[Q],N[ge],N[Ee]);const H=[];let U,X=O.concat();for(let Q=0,xe=J.length;Q<xe;Q++){const ge=J[Q];U=[];for(let Ee=0,_e=ge.length,We=_e-1,ke=Ee+1;Ee<_e;Ee++,We++,ke++)We===_e&&(We=0),ke===_e&&(ke=0),U[Ee]=L(ge[Ee],ge[We],ge[ke]);H.push(U),X=X.concat(U)}for(let Q=0;Q<x;Q++){const xe=Q/x,ge=m*Math.cos(xe*Math.PI/2),Ee=y*Math.sin(xe*Math.PI/2)+_;for(let _e=0,We=N.length;_e<We;_e++){const ke=F(N[_e],O[_e],Ee);Ie(ke.x,ke.y,-ge)}for(let _e=0,We=J.length;_e<We;_e++){const ke=J[_e];U=H[_e];for(let Ge=0,Ze=ke.length;Ge<Ze;Ge++){const yt=F(ke[Ge],U[Ge],Ee);Ie(yt.x,yt.y,-ge)}}}const le=y+_;for(let Q=0;Q<z;Q++){const xe=p?F(I[Q],X[Q],le):I[Q];S?(R.copy(C.normals[0]).multiplyScalar(xe.x),P.copy(C.binormals[0]).multiplyScalar(xe.y),B.copy(M[0]).add(R).add(P),Ie(B.x,B.y,B.z)):Ie(xe.x,xe.y,0)}for(let Q=1;Q<=h;Q++)for(let xe=0;xe<z;xe++){const ge=p?F(I[xe],X[xe],le):I[xe];S?(R.copy(C.normals[Q]).multiplyScalar(ge.x),P.copy(C.binormals[Q]).multiplyScalar(ge.y),B.copy(M[Q]).add(R).add(P),Ie(B.x,B.y,B.z)):Ie(ge.x,ge.y,d/h*Q)}for(let Q=x-1;Q>=0;Q--){const xe=Q/x,ge=m*Math.cos(xe*Math.PI/2),Ee=y*Math.sin(xe*Math.PI/2)+_;for(let _e=0,We=N.length;_e<We;_e++){const ke=F(N[_e],O[_e],Ee);Ie(ke.x,ke.y,d+ge)}for(let _e=0,We=J.length;_e<We;_e++){const ke=J[_e];U=H[_e];for(let Ge=0,Ze=ke.length;Ge<Ze;Ge++){const yt=F(ke[Ge],U[Ge],Ee);S?Ie(yt.x,yt.y+M[h-1].y,M[h-1].x+ge):Ie(yt.x,yt.y,d+ge)}}}he(),ve();function he(){const Q=r.length/3;if(p){let xe=0,ge=z*xe;for(let Ee=0;Ee<V;Ee++){const _e=q[Ee];Ve(_e[2]+ge,_e[1]+ge,_e[0]+ge)}xe=h+x*2,ge=z*xe;for(let Ee=0;Ee<V;Ee++){const _e=q[Ee];Ve(_e[0]+ge,_e[1]+ge,_e[2]+ge)}}else{for(let xe=0;xe<V;xe++){const ge=q[xe];Ve(ge[2],ge[1],ge[0])}for(let xe=0;xe<V;xe++){const ge=q[xe];Ve(ge[0]+z*h,ge[1]+z*h,ge[2]+z*h)}}i.addGroup(Q,r.length/3-Q,0)}function ve(){const Q=r.length/3;let xe=0;Se(N,xe),xe+=N.length;for(let ge=0,Ee=J.length;ge<Ee;ge++){const _e=J[ge];Se(_e,xe),xe+=_e.length}i.addGroup(Q,r.length/3-Q,1)}function Se(Q,xe){let ge=Q.length;for(;--ge>=0;){const Ee=ge;let _e=ge-1;_e<0&&(_e=Q.length-1);for(let We=0,ke=h+x*2;We<ke;We++){const Ge=z*We,Ze=z*(We+1),yt=xe+Ee+Ge,Gt=xe+_e+Ge,j=xe+_e+Ze,D=xe+Ee+Ze;ut(yt,Gt,j,D)}}}function Ie(Q,xe,ge){l.push(Q),l.push(xe),l.push(ge)}function Ve(Q,xe,ge){tt(Q),tt(xe),tt(ge);const Ee=r.length/3,_e=A.generateTopUV(i,r,Ee-3,Ee-2,Ee-1);we(_e[0]),we(_e[1]),we(_e[2])}function ut(Q,xe,ge,Ee){tt(Q),tt(xe),tt(Ee),tt(xe),tt(ge),tt(Ee);const _e=r.length/3,We=A.generateSideWallUV(i,r,_e-6,_e-3,_e-2,_e-1);we(We[0]),we(We[1]),we(We[3]),we(We[1]),we(We[2]),we(We[3])}function tt(Q){r.push(l[Q*3+0]),r.push(l[Q*3+1]),r.push(l[Q*3+2])}function we(Q){s.push(Q.x),s.push(Q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return A6(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new lS[r.type]().fromJSON(r)),new Vy(i,e.options)}}const _6={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],h=e[r*3+1];return[new ye(s,o),new ye(a,l),new ye(c,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-c)?[new ye(o,1-l),new ye(c,1-d),new ye(p,1-y),new ye(_,1-g)]:[new ye(a,1-l),new ye(h,1-d),new ye(m,1-y),new ye(x,1-g)]}};function A6(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Wy extends Ta{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wy(e.radius,e.detail)}}class md extends Ta{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new md(e.radius,e.detail)}}class jy extends gt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],h=[];let d=e;const p=(t-e)/r,m=new k,y=new ye;for(let _=0;_<=r;_++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,h.push(y.x,y.y)}d+=p}for(let _=0;_<r;_++){const x=_*(i+1);for(let g=0;g<i;g++){const A=g+x,M=A,S=A+i+1,C=A+i+2,P=A+1;a.push(M,S,P),a.push(S,C,P)}}this.setIndex(a),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(c,3)),this.setAttribute("uv",new Ke(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jy(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Xy extends gt{constructor(e=new Al([new ye(0,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ke(r,3)),this.setAttribute("normal",new Ke(s,3)),this.setAttribute("uv",new Ke(o,2));function c(h){const d=r.length/3,p=h.extractPoints(t);let m=p.shape;const y=p.holes;Cs.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=y.length;x<g;x++){const A=y[x];Cs.isClockWise(A)===!0&&(y[x]=A.reverse())}const _=Cs.triangulateShape(m,y);for(let x=0,g=y.length;x<g;x++){const A=y[x];m=m.concat(A)}for(let x=0,g=m.length;x<g;x++){const A=m[x];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let x=0,g=_.length;x<g;x++){const A=_[x],M=A[0]+d,S=A[1]+d,C=A[2]+d;i.push(M,S,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return M6(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Xy(i,e.curveSegments)}}function M6(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class gd extends gt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const h=[],d=new k,p=new k,m=[],y=[],_=[],x=[];for(let g=0;g<=i;g++){const A=[],M=g/i;let S=0;g===0&&o===0?S=.5/t:g===i&&l===Math.PI&&(S=-.5/t);for(let C=0;C<=t;C++){const P=C/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+M*a),d.y=e*Math.cos(o+M*a),d.z=e*Math.sin(r+P*s)*Math.sin(o+M*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),_.push(p.x,p.y,p.z),x.push(P+S,1-M),A.push(c++)}h.push(A)}for(let g=0;g<i;g++)for(let A=0;A<t;A++){const M=h[g][A+1],S=h[g][A],C=h[g+1][A],P=h[g+1][A+1];(g!==0||o>0)&&m.push(M,S,P),(g!==i-1||l<Math.PI)&&m.push(S,C,P)}this.setIndex(m),this.setAttribute("position",new Ke(y,3)),this.setAttribute("normal",new Ke(_,3)),this.setAttribute("uv",new Ke(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Jy extends Ta{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jy(e.radius,e.detail)}}class Yy extends gt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],h=new k,d=new k,p=new k;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const _=y/r*s,x=m/i*Math.PI*2;d.x=(e+t*Math.cos(x))*Math.cos(_),d.y=(e+t*Math.cos(x))*Math.sin(_),d.z=t*Math.sin(x),a.push(d.x,d.y,d.z),h.x=e*Math.cos(_),h.y=e*Math.sin(_),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const _=(r+1)*m+y-1,x=(r+1)*(m-1)+y-1,g=(r+1)*(m-1)+y,A=(r+1)*m+y;o.push(_,x,A),o.push(x,g,A)}this.setIndex(o),this.setAttribute("position",new Ke(a,3)),this.setAttribute("normal",new Ke(l,3)),this.setAttribute("uv",new Ke(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yy(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ky extends gt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],h=[],d=new k,p=new k,m=new k,y=new k,_=new k,x=new k,g=new k;for(let M=0;M<=i;++M){const S=M/i*s*Math.PI*2;A(S,s,o,e,m),A(S+.01,s,o,e,y),x.subVectors(y,m),g.addVectors(y,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let C=0;C<=r;++C){const P=C/r*Math.PI*2,R=-t*Math.cos(P),B=t*Math.sin(P);d.x=m.x+(R*g.x+B*_.x),d.y=m.y+(R*g.y+B*_.y),d.z=m.z+(R*g.z+B*_.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),h.push(M/i),h.push(C/r)}}for(let M=1;M<=i;M++)for(let S=1;S<=r;S++){const C=(r+1)*(M-1)+(S-1),P=(r+1)*M+(S-1),R=(r+1)*M+S,B=(r+1)*(M-1)+S;a.push(C,P,B),a.push(P,R,B)}this.setIndex(a),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(c,3)),this.setAttribute("uv",new Ke(h,2));function A(M,S,C,P,R){const B=Math.cos(M),b=Math.sin(M),I=C/S*M,J=Math.cos(I);R.x=P*(2+J)*.5*B,R.y=P*(2+J)*b*.5,R.z=P*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ky(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Qy extends gt{constructor(e=new oS(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new k,l=new k,c=new ye;let h=new k;const d=[],p=[],m=[],y=[];_(),this.setIndex(y),this.setAttribute("position",new Ke(d,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2));function _(){for(let M=0;M<t;M++)x(M);x(s===!1?t:0),A(),g()}function x(M){h=e.getPointAt(M/t,h);const S=o.normals[M],C=o.binormals[M];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,B=Math.sin(R),b=-Math.cos(R);l.x=b*S.x+B*C.x,l.y=b*S.y+B*C.y,l.z=b*S.z+B*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let M=1;M<=t;M++)for(let S=1;S<=r;S++){const C=(r+1)*(M-1)+(S-1),P=(r+1)*M+(S-1),R=(r+1)*M+S,B=(r+1)*(M-1)+S;y.push(C,P,B),y.push(P,R,B)}}function A(){for(let M=0;M<=t;M++)for(let S=0;S<=r;S++)c.x=M/t,c.y=S/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Qy(new lS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class V2 extends gt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new k,s=new k;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const d=l[c],p=d.start,m=d.count;for(let y=p,_=p+m;y<_;y+=3)for(let x=0;x<3;x++){const g=a.getX(y+x),A=a.getX(y+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,A),gb(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const h=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),gb(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ke(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function gb(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var yb=Object.freeze({__proto__:null,BoxGeometry:Ul,CapsuleGeometry:ky,CircleGeometry:Uy,ConeGeometry:zy,CylinderGeometry:ju,DodecahedronGeometry:Hy,EdgesGeometry:U2,ExtrudeGeometry:Vy,IcosahedronGeometry:Wy,LatheGeometry:pd,OctahedronGeometry:md,PlaneGeometry:hd,PolyhedronGeometry:Ta,RingGeometry:jy,ShapeGeometry:Xy,SphereGeometry:gd,TetrahedronGeometry:Jy,TorusGeometry:Yy,TorusKnotGeometry:Ky,TubeGeometry:Qy,WireframeGeometry:V2});class W2 extends Fn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ne(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class j2 extends Bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yd extends Fn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ne(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fs extends yd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ne(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ne(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ne(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class X2 extends Fn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ne(16777215),this.specular=new Ne(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ad,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J2 extends Fn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ne(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Y2 extends Fn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class K2 extends Fn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ne(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ad,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Q2 extends Fn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ne(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class q2 extends yi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Mr(n,e,t){return cS(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function hl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function cS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Z2(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function JA(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function uS(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function w6(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*r;if(!(y<t||y>=i)){d.push(c.times[m]);for(let _=0;_<h;++_)p.push(c.values[m*h+_])}}d.length!==0&&(c.times=hl(d,c.times.constructor),c.values=hl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function S6(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let _;if(s<=a.times[0]){const g=h,A=d-h;_=Mr(a.values,g,A)}else if(s>=a.times[y]){const g=y*d+h,A=g+d-h;_=Mr(a.values,g,A)}else{const g=a.createInterpolant(),A=h,M=d-h;g.evaluate(s),_=Mr(g.resultBuffer,A,M)}l==="quaternion"&&new Kn().fromArray(_).normalize().conjugate().toArray(_);const x=c.times.length;for(let g=0;g<x;++g){const A=g*m+p;if(l==="quaternion")Kn.multiplyQuaternionsFlat(c.values,A,_,0,c.values,A);else{const M=m-p*2;for(let S=0;S<M;++S)c.values[A+S]-=_[S]}}}return n.blendMode=Nw,n}const E6={arraySlice:Mr,convertArray:hl,isTypedArray:cS,getKeyframeOrder:Z2,sortedArray:JA,flattenJSON:uS,subclip:w6,makeClipAdditive:S6};class Xu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $2 extends Xu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ll,endingEnd:ll}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case cl:s=e,a=2*t-i;break;case Uf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case cl:o=e,l=2*i-t;break;case Uf:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),_=y*y,x=_*y,g=-p*x+2*p*_-p*y,A=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*y+1,M=(-1-m)*x+(1.5+m)*_+.5*y,S=m*x-m*_;for(let C=0;C!==a;++C)s[C]=g*o[h+C]+A*o[c+C]+M*o[l+C]+S*o[d+C];return s}}class hS extends Xu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*h;return s}}class eD extends Xu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class os{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hl(t,this.TimeBufferType),this.values=hl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:hl(e.times,Array),values:hl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new eD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new hS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $2(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Eu:t=this.InterpolantFactoryMethodDiscrete;break;case Bl:t=this.InterpolantFactoryMethodLinear;break;case ng:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Eu;case this.InterpolantFactoryMethodLinear:return Bl;case this.InterpolantFactoryMethodSmooth:return ng}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Mr(i,s,o),this.values=Mr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&cS(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Mr(this.times),t=Mr(this.values),i=this.getValueSize(),r=this.getInterpolation()===ng,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],h=e[a+1];if(c!==h&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let y=0;y!==i;++y){const _=t[d+y];if(_!==t[p+y]||_!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Mr(e,0,o),this.values=Mr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Mr(this.times,0),t=Mr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}os.prototype.TimeBufferType=Float32Array;os.prototype.ValueBufferType=Float32Array;os.prototype.DefaultInterpolation=Bl;class zl extends os{}zl.prototype.ValueTypeName="bool";zl.prototype.ValueBufferType=Array;zl.prototype.DefaultInterpolation=Eu;zl.prototype.InterpolantFactoryMethodLinear=void 0;zl.prototype.InterpolantFactoryMethodSmooth=void 0;class fS extends os{}fS.prototype.ValueTypeName="color";class Pu extends os{}Pu.prototype.ValueTypeName="number";class tD extends Xu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let h=c+a;c!==h;c+=4)Kn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class xa extends os{InterpolantFactoryMethodLinear(e){return new tD(this.times,this.values,this.getValueSize(),e)}}xa.prototype.ValueTypeName="quaternion";xa.prototype.DefaultInterpolation=Bl;xa.prototype.InterpolantFactoryMethodSmooth=void 0;class Hl extends os{}Hl.prototype.ValueTypeName="string";Hl.prototype.ValueBufferType=Array;Hl.prototype.DefaultInterpolation=Eu;Hl.prototype.InterpolantFactoryMethodLinear=void 0;Hl.prototype.InterpolantFactoryMethodSmooth=void 0;class Ru extends os{}Ru.prototype.ValueTypeName="vector";class Lu{constructor(e,t=-1,i,r=Ty){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=nr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(T6(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(os.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const h=Z2(l);l=JA(l,1,h),c=JA(c,1,h),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Pu(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,y,_){if(m.length!==0){const x=[],g=[];uS(m,x,g,y),x.length!==0&&_.push(new d(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let _=0;_<p[y].morphTargets.length;_++)m[p[y].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let A=0;A!==p[y].morphTargets.length;++A){const M=p[y];x.push(M.time),g.push(M.morphTarget===_?1:0)}r.push(new Pu(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(Ru,m+".position",p,"pos",r),i(xa,m+".quaternion",p,"rot",r),i(Ru,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function C6(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pu;case"vector":case"vector2":case"vector3":case"vector4":return Ru;case"color":return fS;case"quaternion":return xa;case"bool":case"boolean":return zl;case"string":return Hl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function T6(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=C6(n.type);if(n.times===void 0){const t=[],i=[];uS(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Dl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class dS{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],y=c[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return y}return null}}}const qc=new dS;let vi=class{constructor(e){this.manager=e!==void 0?e:qc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};vi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ys={};class b6 extends Error{constructor(e,t){super(e),this.response=t}}class rr extends vi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Dl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ys[e]!==void 0){Ys[e].push({onLoad:t,onProgress:i,onError:r});return}Ys[e]=[],Ys[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=Ys[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let _=0;const x=new ReadableStream({start(g){A();function A(){d.read().then(({done:M,value:S})=>{if(M)g.close();else{_+=S.byteLength;const C=new ProgressEvent("progress",{lengthComputable:y,loaded:_,total:m});for(let P=0,R=h.length;P<R;P++){const B=h[P];B.onProgress&&B.onProgress(C)}g.enqueue(S),A()}})}}});return new Response(x)}else throw new b6(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{Dl.add(e,c);const h=Ys[e];delete Ys[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=Ys[e];if(h===void 0)throw this.manager.itemError(e),c;delete Ys[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class P6 extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new rr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Lu.parse(e[i]);t.push(r)}return t}}class R6 extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new Fy,l=new rr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=hn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+_]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=hn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Jf extends vi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Dl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Gf("img");function l(){h(),Dl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class L6 extends vi{constructor(e){super(e)}load(e,t,i,r){const s=new ud;s.colorSpace=mt;const o=new Jf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(h){s.images[c]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class B6 extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new hu,a=new rr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}if(!c)return r();c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:$n,o.wrapT=c.wrapT!==void 0?c.wrapT:$n,o.magFilter=c.magFilter!==void 0?c.magFilter:hn,o.minFilter=c.minFilter!==void 0?c.minFilter:hn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ls),c.mipmapCount===1&&(o.minFilter=hn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class nD extends vi{constructor(e){super(e)}load(e,t,i,r){const s=new an,o=new Jf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ba extends Lt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ne(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class iD extends ba{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ne(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Ix=new lt,vb=new k,xb=new k;class pS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ye(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Py,this._frameExtents=new ye(1,1),this._viewportCount=1,this._viewports=[new zt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;vb.setFromMatrixPosition(e.matrixWorld),t.position.copy(vb),xb.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(xb),t.updateMatrixWorld(),Ix.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ix),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Ix)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class I6 extends pS{constructor(){super(new sn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Cu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class mS extends ba{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new I6}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _b=new lt,Lh=new k,Dx=new k;class D6 extends pS{constructor(){super(new sn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ye(4,2),this._viewportCount=6,this._viewports=[new zt(2,1,1,1),new zt(0,1,1,1),new zt(3,1,1,1),new zt(1,1,1,1),new zt(3,0,1,1),new zt(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Lh.setFromMatrixPosition(e.matrixWorld),i.position.copy(Lh),Dx.copy(i.position),Dx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Dx),i.updateMatrixWorld(),r.makeTranslation(-Lh.x,-Lh.y,-Lh.z),_b.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_b)}}class gS extends ba{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new D6}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class F6 extends pS{constructor(){super(new $r(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class yS extends ba{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.shadow=new F6}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class rD extends ba{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class sD extends ba{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class oD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class qy extends ba{constructor(e=new oD,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Zy extends vi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new rr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Zy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ne().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ne().setHex(o.value);break;case"v2":r.uniforms[s].value=new ye().fromArray(o.value);break;case"v3":r.uniforms[s].value=new k().fromArray(o.value);break;case"v4":r.uniforms[s].value=new zt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Mt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new lt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ye().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:W2,SpriteMaterial:Zw,RawShaderMaterial:j2,ShaderMaterial:Bs,PointsMaterial:Dy,MeshPhysicalMaterial:Fs,MeshStandardMaterial:yd,MeshPhongMaterial:X2,MeshToonMaterial:J2,MeshNormalMaterial:Y2,MeshLambertMaterial:K2,MeshDepthMaterial:Kw,MeshDistanceMaterial:Qw,MeshBasicMaterial:er,MeshMatcapMaterial:Q2,LineDashedMaterial:q2,LineBasicMaterial:yi,Material:Fn};return new t[e]}}class Ts{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class aD extends gt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lD extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new rr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],g=s(m,x.buffer),A=Yc(x.type,g),M=new fd(A,x.stride);return M.uuid=x.uuid,t[y]=M,M}function s(m,y){if(i[y]!==void 0)return i[y];const x=m.arrayBuffers[y],g=new Uint32Array(x).buffer;return i[y]=g,g}const o=e.isInstancedBufferGeometry?new aD:new gt,a=e.data.index;if(a!==void 0){const m=Yc(a.type,a.array);o.setIndex(new kt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let _;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);_=new va(x,y.itemSize,y.offset,y.normalized)}else{const x=Yc(y.type,y.array),g=y.isInstancedBufferAttribute?bu:kt;_=new g(x,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),y.usage!==void 0&&_.setUsage(y.usage),y.updateRange!==void 0&&(_.updateRange.offset=y.updateRange.offset,_.updateRange.count=y.updateRange.count),o.setAttribute(m,_)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],_=[];for(let x=0,g=y.length;x<g;x++){const A=y[x];let M;if(A.isInterleavedBufferAttribute){const S=r(e.data,A.data);M=new va(S,A.itemSize,A.offset,A.normalized)}else{const S=Yc(A.type,A.array);M=new kt(S,A.itemSize,A.normalized)}A.name!==void 0&&(M.name=A.name),_.push(M)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,y=d.length;m!==y;++m){const _=d[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new k;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Lr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class O6 extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Ts.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new rr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Ts.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new rr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Al().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new dd().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new lD;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in yb?a=yb[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Zy;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Lu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(h)}else return l.data?{data:Yc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new dS(t);s=new Jf(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let y=0,_=p.length;y<_;y++){const x=p[y],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new hu(g.data,g.width,g.height)))}r[d.uuid]=new ul(m)}else{const m=a(d.url);r[d.uuid]=new ul(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Yc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Jf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],y=await s(m);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new hu(y.data,y.width,y.height)))}i[l.uuid]=new ul(h)}else{const h=await s(l.url);i[l.uuid]=new ul(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let h;Array.isArray(c)?(h=new ud,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new hu:h=new an,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,N6)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],Ab),h.wrapT=i(a.wrap[1],Ab)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,Mb)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,Mb)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,_=p.length;y<_;y++){const x=p[y];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new Vg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ne(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new By(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Ly(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new sn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new $r(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new rD(e.color,e.intensity);break;case"DirectionalLight":o=new yS(e.color,e.intensity);break;case"PointLight":o=new gS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new sD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new mS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new iD(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new qy().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new $w(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new Jn(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new eS(h,d,p),o.instanceMatrix=new bu(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new bu(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new I2;break;case"Line":o=new vo(a(e.geometry),l(e.material));break;case"LineLoop":o=new tS(a(e.geometry),l(e.material));break;case"LineSegments":o=new rs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new nS(a(e.geometry),l(e.material));break;case"Sprite":o=new B2(l(e.material));break;case"Group":o=new ro;break;case"Bone":o=new Iy;break;default:o=new Lt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],_=o.getObjectByProperty("uuid",y.object);_!==void 0&&o.addLevel(_,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const N6={UVMapping:Sy,CubeReflectionMapping:yo,CubeRefractionMapping:ga,EquirectangularReflectionMapping:Of,EquirectangularRefractionMapping:Nf,CubeUVReflectionMapping:Gu},Ab={RepeatWrapping:ya,ClampToEdgeWrapping:$n,MirroredRepeatWrapping:wu},Mb={NearestFilter:An,NearestMipmapNearestFilter:kf,NearestMipmapLinearFilter:cu,LinearFilter:hn,LinearMipmapNearestFilter:Ey,LinearMipmapLinearFilter:Ls};class cD extends vi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Dl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Dl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let xm;class vS{static getContext(){return xm===void 0&&(xm=new(window.AudioContext||window.webkitAudioContext)),xm}static setContext(e){xm=e}}class k6 extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new rr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);vS.getContext().decodeAudioData(c,function(d){t(d)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class U6 extends qy{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Ne().set(e),s=new Ne().set(t),o=new k(r.r,r.g,r.b),a=new k(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class z6 extends qy{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Ne().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const wb=new lt,Sb=new lt,Va=new lt;class H6{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new sn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new sn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Va.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(xl*t.fov*.5)/t.zoom;let a,l;Sb.elements[12]=-r,wb.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Va.elements[0]=2*t.near/(l-a),Va.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Va),a=-o*t.aspect-s,l=o*t.aspect-s,Va.elements[0]=2*t.near/(l-a),Va.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Va)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Sb),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wb)}}class xS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Eb(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Eb();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Eb(){return(typeof performance>"u"?Date:performance).now()}const Wa=new k,Cb=new Kn,G6=new k,ja=new k;class V6 extends Lt{constructor(){super(),this.type="AudioListener",this.context=vS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Wa,Cb,G6),ja.set(0,0,-1).applyQuaternion(Cb),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Wa.x,r),t.positionY.linearRampToValueAtTime(Wa.y,r),t.positionZ.linearRampToValueAtTime(Wa.z,r),t.forwardX.linearRampToValueAtTime(ja.x,r),t.forwardY.linearRampToValueAtTime(ja.y,r),t.forwardZ.linearRampToValueAtTime(ja.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Wa.x,Wa.y,Wa.z),t.setOrientation(ja.x,ja.y,ja.z,i.x,i.y,i.z)}}class uD extends Lt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Xa=new k,Tb=new Kn,W6=new k,Ja=new k;class j6 extends uD{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xa,Tb,W6),Ja.set(0,0,1).applyQuaternion(Tb);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Xa.x,i),t.positionY.linearRampToValueAtTime(Xa.y,i),t.positionZ.linearRampToValueAtTime(Xa.z,i),t.orientationX.linearRampToValueAtTime(Ja.x,i),t.orientationY.linearRampToValueAtTime(Ja.y,i),t.orientationZ.linearRampToValueAtTime(Ja.z,i)}else t.setPosition(Xa.x,Xa.y,Xa.z),t.setOrientation(Ja.x,Ja.y,Ja.z)}}class X6{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class hD{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Kn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Kn.multiplyQuaternionsFlat(e,o,e,t,e,i),Kn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const _S="\\[\\]\\.:\\/",J6=new RegExp("["+_S+"]","g"),AS="[^"+_S+"]",Y6="[^"+_S.replace("\\.","")+"]",K6=/((?:WC+[\/:])*)/.source.replace("WC",AS),Q6=/(WCOD+)?/.source.replace("WCOD",Y6),q6=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AS),Z6=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AS),$6=new RegExp("^"+K6+Q6+q6+Z6+"$"),ej=["material","materials","bones","map"];class tj{constructor(e,t,i){const r=i||Rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Rt{constructor(e,t,i){this.path=t,this.parsedPath=i||Rt.parseTrackName(t),this.node=Rt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Rt.Composite(e,t,i):new Rt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(J6,"")}static parseTrackName(e){const t=$6.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);ej.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Rt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rt.Composite=tj;Rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rt.prototype.GetterByBindingType=[Rt.prototype._getValue_direct,Rt.prototype._getValue_array,Rt.prototype._getValue_arrayElement,Rt.prototype._getValue_toArray];Rt.prototype.SetterByBindingTypeAndVersioning=[[Rt.prototype._setValue_direct,Rt.prototype._setValue_direct_setNeedsUpdate,Rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_array,Rt.prototype._setValue_array_setNeedsUpdate,Rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_arrayElement,Rt.prototype._setValue_arrayElement_setNeedsUpdate,Rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_fromArray,Rt.prototype._setValue_fromArray_setNeedsUpdate,Rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class nj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=nr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new Rt(p,i[_],r[_]))}else if(y<c){a=e[y];const _=--c,x=e[_];t[x.uuid]=y,e[y]=x,t[m]=_,e[_]=p;for(let g=0,A=o;g!==A;++g){const M=s[g],S=M[_];let C=M[y];M[y]=S,C===void 0&&(C=new Rt(p,i[g],r[g])),M[_]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,h=t[c];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[c]=d,e[d]=l;for(let m=0,y=r;m!==y;++m){const _=i[m],x=_[d],g=_[h];_[h]=x,_[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],h=c.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,m=e[p],y=--o,_=e[y];t[m.uuid]=d,e[d]=m,t[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=r;x!==g;++x){const A=i[x],M=A[p],S=A[y];A[d]=M,A[p]=S,A.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let y=0,_=r;y!==_;++y){const x=i[y];x[d]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,m=l.length;p!==m;++p){const y=l[p];d[p]=new Rt(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class fD{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ll,endingEnd:ll};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=e2,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Nw:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulateAdditive(a);break;case Ty:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===t2;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===$I){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=cl,r.endingEnd=cl):(e?r.endingStart=this.zeroSlopeAtStart?cl:ll:r.endingStart=Uf,t?r.endingEnd=this.zeroSlopeAtEnd?cl:ll:r.endingEnd=Uf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const ij=new Float32Array(1);class rj extends Ds{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let y=h[m];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const _=t&&t._propertyBindings[d].binding.parsedPath;y=new hD(Rt.create(i,m,_),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new hS(new Float32Array(2),new Float32Array(2),1,ij),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Lu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Ty),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new fD(this,o,t,i);return this._bindAction(h,c),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Lu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class MS{constructor(e){this.value=e}clone(){return new MS(this.value.clone===void 0?this.value:this.value.clone())}}let sj=0;class oj extends Ds{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:sj++}),this.name="",this.usage=zf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class aj extends fd{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class lj{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class dD{constructor(e,t,i=0,r=1/0){this.ray=new Vu(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new _l,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return YA(e,this,i,t),i.sort(bb),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)YA(e[r],this,i,t);return i.sort(bb),i}}function bb(n,e){return n.distance-e.distance}function YA(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)YA(r[s],e,t,!0)}}class KA{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Mn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cj{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Pb=new ye;class uj{constructor(e=new ye(1/0,1/0),t=new ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Pb.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Pb).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Rb=new k,_m=new k;class hj{constructor(e=new k,t=new k){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Rb.subVectors(e,this.start),_m.subVectors(this.end,this.start);const i=_m.dot(_m);let s=_m.dot(Rb)/i;return t&&(s=Mn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Lb=new k;class fj extends Lt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new gt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Ke(r,3));const s=new yi({fog:!1,toneMapped:!1});this.cone=new rs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Lb.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Lb),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Fo=new k,Am=new lt,Fx=new lt;class dj extends rs{constructor(e){const t=pD(e),i=new gt,r=[],s=[],o=new Ne(0,0,1),a=new Ne(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ke(r,3)),i.setAttribute("color",new Ke(s,3));const l=new yi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Fx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Am.multiplyMatrices(Fx,a.matrixWorld),Fo.setFromMatrixPosition(Am),r.setXYZ(o,Fo.x,Fo.y,Fo.z),Am.multiplyMatrices(Fx,a.parent.matrixWorld),Fo.setFromMatrixPosition(Am),r.setXYZ(o+1,Fo.x,Fo.y,Fo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function pD(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,pD(n.children[t]));return e}class pj extends Jn{constructor(e,t,i){const r=new gd(t,4,2),s=new er({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mj=new k,Bb=new Ne,Ib=new Ne;class gj extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new md(t);r.rotateY(Math.PI*.5),this.material=new er({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new kt(o,3)),this.add(new Jn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Bb.copy(this.light.color),Ib.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?Bb:Ib;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mj.setFromMatrixPosition(this.light.matrixWorld).negate())}}class yj extends rs{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ne(i),r=new Ne(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const _=p===s?i:r;_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3}const h=new gt;h.setAttribute("position",new Ke(l,3)),h.setAttribute("color",new Ke(c,3));const d=new yi({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vj extends rs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ne(s),o=new Ne(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const _=d&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let y=0;y<r;y++){let _=y/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(y+1)/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const c=new gt;c.setAttribute("position",new Ke(a,3)),c.setAttribute("color",new Ke(l,3));const h=new yi({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Db=new k,Mm=new k,Fb=new k;class xj extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new gt;r.setAttribute("position",new Ke([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new yi({fog:!1,toneMapped:!1});this.lightPlane=new vo(r,s),this.add(this.lightPlane),r=new gt,r.setAttribute("position",new Ke([0,0,0,0,0,1],3)),this.targetLine=new vo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Db.setFromMatrixPosition(this.light.matrixWorld),Mm.setFromMatrixPosition(this.light.target.matrixWorld),Fb.subVectors(Mm,Db),this.lightPlane.lookAt(Mm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Mm),this.targetLine.scale.z=Fb.length()}}const wm=new k,xn=new cd;class _j extends rs{constructor(e){const t=new gt,i=new yi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,_){l(y),l(_)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Ke(r,3)),t.setAttribute("color",new Ke(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ne(16755200),h=new Ne(16711680),d=new Ne(43775),p=new Ne(16777215),m=new Ne(3355443);this.setColors(c,h,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;xn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),En("c",t,e,xn,0,0,-1),En("t",t,e,xn,0,0,1),En("n1",t,e,xn,-i,-r,-1),En("n2",t,e,xn,i,-r,-1),En("n3",t,e,xn,-i,r,-1),En("n4",t,e,xn,i,r,-1),En("f1",t,e,xn,-i,-r,1),En("f2",t,e,xn,i,-r,1),En("f3",t,e,xn,-i,r,1),En("f4",t,e,xn,i,r,1),En("u1",t,e,xn,i*.7,r*1.1,-1),En("u2",t,e,xn,-i*.7,r*1.1,-1),En("u3",t,e,xn,0,r*2,-1),En("cf1",t,e,xn,-i,0,1),En("cf2",t,e,xn,i,0,1),En("cf3",t,e,xn,0,-r,1),En("cf4",t,e,xn,0,r,1),En("cn1",t,e,xn,-i,0,-1),En("cn2",t,e,xn,i,0,-1),En("cn3",t,e,xn,0,-r,-1),En("cn4",t,e,xn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function En(n,e,t,i,r,s,o){wm.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,h=a.length;c<h;c++)l.setXYZ(a[c],wm.x,wm.y,wm.z)}}const Sm=new is;class Aj extends rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new gt;s.setIndex(new kt(i,1)),s.setAttribute("position",new kt(r,3)),super(s,new yi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Sm.setFromObject(this.object),Sm.isEmpty())return;const t=Sm.min,i=Sm.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mj extends rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new gt;s.setIndex(new kt(i,1)),s.setAttribute("position",new Ke(r,3)),super(s,new yi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wj extends vo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new gt;o.setAttribute("position",new Ke(s,3)),o.computeBoundingSphere(),super(o,new yi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new gt;l.setAttribute("position",new Ke(a,3)),l.computeBoundingSphere(),this.add(new Jn(l,new er({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Ob=new k;let Em,Ox;class Sj extends Lt{constructor(e=new k(0,0,1),t=new k(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Em===void 0&&(Em=new gt,Em.setAttribute("position",new Ke([0,0,0,0,1,0],3)),Ox=new ju(0,.5,1,5,1),Ox.translate(0,-.5,0)),this.position.copy(t),this.line=new vo(Em,new yi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Jn(Ox,new er({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Ob.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Ob,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ej extends rs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new gt;r.setAttribute("position",new Ke(t,3)),r.setAttribute("color",new Ke(i,3));const s=new yi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ne,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cj{constructor(){this.type="ShapePath",this.color=new Ne,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Vf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const A=[];for(let M=0,S=g.length;M<S;M++){const C=g[M],P=new Al;P.curves=C.curves,A.push(P)}return A}function i(g,A){const M=A.length;let S=!1;for(let C=M-1,P=0;P<M;C=P++){let R=A[C],B=A[P],b=B.x-R.x,I=B.y-R.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(R=A[P],b=-b,B=A[C],I=-I),g.y<R.y||g.y>B.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const J=I*(g.x-R.x)-b*(g.y-R.y);if(J===0)return!0;if(J<0)continue;S=!S}}else{if(g.y!==R.y)continue;if(B.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=B.x)return!0}}return S}const r=Cs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Al,l.curves=a.curves,c.push(l),c;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],y=0,_;p[y]=void 0,m[y]=[];for(let g=0,A=s.length;g<A;g++)a=s[g],_=a.getPoints(),o=r(_),o=e?!o:o,o?(!h&&p[y]&&y++,p[y]={s:new Al,p:_},p[y].s.curves=a.curves,h&&y++,m[y]=[]):m[y].push({h:a,p:_[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,A=0;for(let M=0,S=p.length;M<S;M++)d[M]=[];for(let M=0,S=p.length;M<S;M++){const C=m[M];for(let P=0;P<C.length;P++){const R=C[P];let B=!0;for(let b=0;b<p.length;b++)i(R.p,p[b].p)&&(M!==b&&A++,B?(B=!1,d[b].push(R)):g=!0);B&&d[M].push(R)}}A>0&&g===!1&&(m=d)}let x;for(let g=0,A=p.length;g<A;g++){l=p[g].s,c.push(l),x=m[g];for(let M=0,S=x.length;M<S;M++)l.holes.push(x[M].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:od}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=od);const Tj=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Rw,AddEquation:il,AddOperation:UI,AdditiveAnimationBlendMode:Nw,AdditiveBlending:fA,AlphaFormat:XI,AlwaysCompare:p2,AlwaysDepth:BI,AlwaysStencilFunc:o2,AmbientLight:rD,AmbientLightProbe:z6,AnimationAction:fD,AnimationClip:Lu,AnimationLoader:P6,AnimationMixer:rj,AnimationObjectGroup:nj,AnimationUtils:E6,ArcCurve:D2,ArrayCamera:b2,ArrowHelper:Sj,Audio:uD,AudioAnalyser:X6,AudioContext:vS,AudioListener:V6,AudioLoader:k6,AxesHelper:Ej,BackSide:Ci,BasicDepthPacking:i2,BasicShadowMap:vI,Bone:Iy,BooleanKeyframeTrack:zl,Box2:uj,Box3:is,Box3Helper:Mj,BoxGeometry:Ul,BoxHelper:Aj,BufferAttribute:kt,BufferGeometry:gt,BufferGeometryLoader:lD,ByteType:WI,Cache:Dl,Camera:cd,CameraHelper:_j,CanvasTexture:K8,CapsuleGeometry:ky,CatmullRomCurve3:F2,CineonToneMapping:GI,CircleGeometry:Uy,ClampToEdgeWrapping:$n,Clock:xS,Color:Ne,ColorKeyframeTrack:fS,ColorManagement:xr,CompressedArrayTexture:J8,CompressedCubeTexture:Y8,CompressedTexture:Fy,CompressedTextureLoader:R6,ConeGeometry:zy,CubeCamera:Xw,CubeReflectionMapping:yo,CubeRefractionMapping:ga,CubeTexture:ud,CubeTextureLoader:L6,CubeUVReflectionMapping:Gu,CubicBezierCurve:rS,CubicBezierCurve3:O2,CubicInterpolant:$2,CullFaceBack:hA,CullFaceFront:yI,CullFaceFrontBack:jG,CullFaceNone:gI,Curve:ss,CurvePath:k2,CustomBlending:xI,CustomToneMapping:VI,CylinderGeometry:ju,Cylindrical:cj,Data3DTexture:Vw,DataArrayTexture:by,DataTexture:hu,DataTextureLoader:B6,DataUtils:e4,DecrementStencilOp:eV,DecrementWrapStencilOp:nV,DefaultLoadingManager:qc,DepthFormat:ua,DepthStencilFormat:Ll,DepthTexture:P2,DirectionalLight:yS,DirectionalLightHelper:xj,DiscreteInterpolant:eD,DisplayP3ColorSpace:zw,DodecahedronGeometry:Hy,DoubleSide:Cr,DstAlphaFactor:CI,DstColorFactor:bI,DynamicCopyUsage:yV,DynamicDrawUsage:hV,DynamicReadUsage:pV,EdgesGeometry:U2,EllipseCurve:Oy,EqualCompare:c2,EqualDepth:DI,EqualStencilFunc:oV,EquirectangularReflectionMapping:Of,EquirectangularRefractionMapping:Nf,Euler:ld,EventDispatcher:Ds,ExtrudeGeometry:Vy,FileLoader:rr,Float16BufferAttribute:o4,Float32BufferAttribute:Ke,Float64BufferAttribute:a4,FloatType:vs,Fog:By,FogExp2:Ly,FramebufferTexture:X8,FrontSide:Rs,Frustum:Py,GLBufferAttribute:lj,GLSL1:xV,GLSL3:zA,GreaterCompare:h2,GreaterDepth:OI,GreaterEqualCompare:d2,GreaterEqualDepth:FI,GreaterEqualStencilFunc:uV,GreaterStencilFunc:lV,GridHelper:yj,Group:ro,HalfFloatType:Su,HemisphereLight:iD,HemisphereLightHelper:gj,HemisphereLightProbe:U6,IcosahedronGeometry:Wy,ImageBitmapLoader:cD,ImageLoader:Jf,ImageUtils:Gw,IncrementStencilOp:$G,IncrementWrapStencilOp:tV,InstancedBufferAttribute:bu,InstancedBufferGeometry:aD,InstancedInterleavedBuffer:aj,InstancedMesh:eS,Int16BufferAttribute:r4,Int32BufferAttribute:s4,Int8BufferAttribute:t4,IntType:Lw,InterleavedBuffer:fd,InterleavedBufferAttribute:va,Interpolant:Xu,InterpolateDiscrete:Eu,InterpolateLinear:Bl,InterpolateSmooth:ng,InvertStencilOp:iV,KeepStencilOp:ig,KeyframeTrack:os,LOD:I2,LatheGeometry:pd,Layers:_l,LessCompare:l2,LessDepth:II,LessEqualCompare:u2,LessEqualDepth:Ug,LessEqualStencilFunc:aV,LessStencilFunc:sV,Light:ba,LightProbe:qy,Line:vo,Line3:hj,LineBasicMaterial:yi,LineCurve:Ny,LineCurve3:N2,LineDashedMaterial:q2,LineLoop:tS,LineSegments:rs,LinearEncoding:Uw,LinearFilter:hn,LinearInterpolant:hS,LinearMipMapLinearFilter:QG,LinearMipMapNearestFilter:KG,LinearMipmapLinearFilter:Ls,LinearMipmapNearestFilter:Ey,LinearSRGBColorSpace:ts,LinearToneMapping:zI,Loader:vi,LoaderUtils:Ts,LoadingManager:dS,LoopOnce:$I,LoopPingPong:t2,LoopRepeat:e2,LuminanceAlphaFormat:YI,LuminanceFormat:JI,MOUSE:Za,Material:Fn,MaterialLoader:Zy,MathUtils:g2,Matrix3:Mt,Matrix4:lt,MaxEquation:gA,Mesh:Jn,MeshBasicMaterial:er,MeshDepthMaterial:Kw,MeshDistanceMaterial:Qw,MeshLambertMaterial:K2,MeshMatcapMaterial:Q2,MeshNormalMaterial:Y2,MeshPhongMaterial:X2,MeshPhysicalMaterial:Fs,MeshStandardMaterial:yd,MeshToonMaterial:J2,MinEquation:mA,MirroredRepeatWrapping:wu,MixOperation:kI,MultiplyBlending:pA,MultiplyOperation:ad,NearestFilter:An,NearestMipMapLinearFilter:YG,NearestMipMapNearestFilter:JG,NearestMipmapLinearFilter:cu,NearestMipmapNearestFilter:kf,NeverCompare:a2,NeverDepth:LI,NeverStencilFunc:rV,NoBlending:ao,NoColorSpace:fa,NoToneMapping:Ss,NormalAnimationBlendMode:Ty,NormalBlending:vl,NotEqualCompare:f2,NotEqualDepth:NI,NotEqualStencilFunc:cV,NumberKeyframeTrack:Pu,Object3D:Lt,ObjectLoader:O6,ObjectSpaceNormalMap:s2,OctahedronGeometry:md,OneFactor:wI,OneMinusDstAlphaFactor:TI,OneMinusDstColorFactor:PI,OneMinusSrcAlphaFactor:Pw,OneMinusSrcColorFactor:EI,OrthographicCamera:$r,PCFShadowMap:wy,PCFSoftShadowMap:of,PMREMGenerator:GA,Path:Vf,PerspectiveCamera:sn,Plane:Wo,PlaneGeometry:hd,PlaneHelper:wj,PointLight:gS,PointLightHelper:pj,Points:nS,PointsMaterial:Dy,PolarGridHelper:vj,PolyhedronGeometry:Ta,PositionalAudio:j6,PropertyBinding:Rt,PropertyMixer:hD,QuadraticBezierCurve:sS,QuadraticBezierCurve3:oS,Quaternion:Kn,QuaternionKeyframeTrack:xa,QuaternionLinearInterpolant:tD,RED_GREEN_RGTC2_Format:kA,RED_RGTC1_Format:ZI,REVISION:od,RGBADepthPacking:r2,RGBAFormat:Ni,RGBAIntegerFormat:Ow,RGBA_ASTC_10x10_Format:DA,RGBA_ASTC_10x5_Format:LA,RGBA_ASTC_10x6_Format:BA,RGBA_ASTC_10x8_Format:IA,RGBA_ASTC_12x10_Format:FA,RGBA_ASTC_12x12_Format:OA,RGBA_ASTC_4x4_Format:wA,RGBA_ASTC_5x4_Format:SA,RGBA_ASTC_5x5_Format:EA,RGBA_ASTC_6x5_Format:CA,RGBA_ASTC_6x6_Format:TA,RGBA_ASTC_8x5_Format:bA,RGBA_ASTC_8x6_Format:PA,RGBA_ASTC_8x8_Format:RA,RGBA_BPTC_Format:tg,RGBA_ETC2_EAC_Format:MA,RGBA_PVRTC_2BPPV1_Format:_A,RGBA_PVRTC_4BPPV1_Format:xA,RGBA_S3TC_DXT1_Format:Zm,RGBA_S3TC_DXT3_Format:$m,RGBA_S3TC_DXT5_Format:eg,RGB_ETC1_Format:qI,RGB_ETC2_Format:AA,RGB_PVRTC_2BPPV1_Format:vA,RGB_PVRTC_4BPPV1_Format:yA,RGB_S3TC_DXT1_Format:qm,RGFormat:QI,RGIntegerFormat:Fw,RawShaderMaterial:j2,Ray:Vu,Raycaster:dD,RectAreaLight:sD,RedFormat:KI,RedIntegerFormat:Dw,ReinhardToneMapping:HI,RenderTarget:v2,RepeatWrapping:ya,ReplaceStencilOp:ZG,ReverseSubtractEquation:AI,RingGeometry:jy,SIGNED_RED_GREEN_RGTC2_Format:UA,SIGNED_RED_RGTC1_Format:NA,SRGBColorSpace:mt,Scene:Vg,ShaderChunk:xt,ShaderLib:jr,ShaderMaterial:Bs,ShadowMaterial:W2,Shape:Al,ShapeGeometry:Xy,ShapePath:Cj,ShapeUtils:Cs,ShortType:jI,Skeleton:dd,SkeletonHelper:dj,SkinnedMesh:$w,Source:ul,Sphere:Lr,SphereGeometry:gd,Spherical:KA,SphericalHarmonics3:oD,SplineCurve:aS,SpotLight:mS,SpotLightHelper:fj,Sprite:B2,SpriteMaterial:Zw,SrcAlphaFactor:bw,SrcAlphaSaturateFactor:RI,SrcColorFactor:SI,StaticCopyUsage:gV,StaticDrawUsage:zf,StaticReadUsage:dV,StereoCamera:H6,StreamCopyUsage:vV,StreamDrawUsage:fV,StreamReadUsage:mV,StringKeyframeTrack:Hl,SubtractEquation:_I,SubtractiveBlending:dA,TOUCH:$a,TangentSpaceNormalMap:Ca,TetrahedronGeometry:Jy,Texture:an,TextureLoader:nD,TorusGeometry:Yy,TorusKnotGeometry:Ky,Triangle:Oi,TriangleFanDrawMode:zg,TriangleStripDrawMode:kw,TrianglesDrawMode:n2,TubeGeometry:Qy,TwoPassDoubleSide:XG,UVMapping:Sy,Uint16BufferAttribute:Ww,Uint32BufferAttribute:jw,Uint8BufferAttribute:n4,Uint8ClampedBufferAttribute:i4,Uniform:MS,UniformsGroup:oj,UniformsLib:Oe,UniformsUtils:A2,UnsignedByteType:Es,UnsignedInt248Type:ca,UnsignedIntType:io,UnsignedShort4444Type:Bw,UnsignedShort5551Type:Iw,UnsignedShortType:Cy,VSMShadowMap:Gr,Vector2:ye,Vector3:k,Vector4:zt,VectorKeyframeTrack:Ru,VideoTexture:j8,WebGL1Renderer:R2,WebGL3DRenderTarget:VV,WebGLArrayRenderTarget:GV,WebGLCoordinateSystem:xs,WebGLCubeRenderTarget:Jw,WebGLMultipleRenderTargets:WV,WebGLRenderTarget:ns,WebGLRenderer:qw,WebGLUtils:T2,WebGPUCoordinateSystem:Hf,WireframeGeometry:V2,WrapAroundEnding:Uf,ZeroCurvatureEnding:ll,ZeroFactor:MI,ZeroSlopeEnding:cl,ZeroStencilOp:qG,_SRGBAFormat:Hg,sRGBEncoding:ha},Symbol.toStringTag,{value:"Module"}));var mD={exports:{}},Gl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Gl.ConcurrentRoot=1;Gl.ContinuousEventPriority=4;Gl.DefaultEventPriority=16;Gl.DiscreteEventPriority=1;Gl.IdleEventPriority=536870912;Gl.LegacyRoot=0;mD.exports=Gl;var Zc=mD.exports;function bj(n){let e;const t=new Set,i=(c,h)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const y=h(e);if(!d(p,y)){const _=p;c(p=y,_)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,h,d)=>h||d?s(c,h,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const Pj=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Nb=Pj?Y.useEffect:Y.useLayoutEffect;function gD(n){const e=typeof n=="function"?bj(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=Y.useReducer(x=>x+1,0),o=e.getState(),a=Y.useRef(o),l=Y.useRef(i),c=Y.useRef(r),h=Y.useRef(!1),d=Y.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),Nb(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,h.current=!1});const y=Y.useRef(o);Nb(()=>{const x=()=>{try{const A=e.getState(),M=l.current(A);c.current(d.current,M)||(a.current=A,d.current=M,s())}catch{h.current=!0,s()}},g=e.subscribe(x);return e.getState()!==y.current&&x(),g},[]);const _=m?p:d.current;return Y.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var yD={exports:{}},Nx={exports:{}},kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function Rj(){return kb||(kb=1,function(n){function e(L,O){var H=L.length;L.push(O);e:for(;0<H;){var U=H-1>>>1,X=L[U];if(0<r(X,O))L[U]=O,L[H]=X,H=U;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var O=L[0],H=L.pop();if(H!==O){L[0]=H;e:for(var U=0,X=L.length,le=X>>>1;U<le;){var he=2*(U+1)-1,ve=L[he],Se=he+1,Ie=L[Se];if(0>r(ve,H))Se<X&&0>r(Ie,ve)?(L[U]=Ie,L[Se]=H,U=Se):(L[U]=ve,L[he]=H,U=he);else if(Se<X&&0>r(Ie,H))L[U]=Ie,L[Se]=H,U=Se;else break e}}return O}function r(L,O){var H=L.sortIndex-O.sortIndex;return H!==0?H:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(L){for(var O=t(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=L)i(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=t(c)}}function S(L){if(_=!1,M(L),!y)if(t(l)!==null)y=!0,z(C);else{var O=t(c);O!==null&&V(S,O.startTime-L)}}function C(L,O){y=!1,_&&(_=!1,g(B),B=-1),m=!0;var H=p;try{for(M(O),d=t(l);d!==null&&(!(d.expirationTime>O)||L&&!J());){var U=d.callback;if(typeof U=="function"){d.callback=null,p=d.priorityLevel;var X=U(d.expirationTime<=O);O=n.unstable_now(),typeof X=="function"?d.callback=X:d===t(l)&&i(l),M(O)}else i(l);d=t(l)}if(d!==null)var le=!0;else{var he=t(c);he!==null&&V(S,he.startTime-O),le=!1}return le}finally{d=null,p=H,m=!1}}var P=!1,R=null,B=-1,b=5,I=-1;function J(){return!(n.unstable_now()-I<b)}function $(){if(R!==null){var L=n.unstable_now();I=L;var O=!0;try{O=R(!0,L)}finally{O?q():(P=!1,R=null)}}else P=!1}var q;if(typeof A=="function")q=function(){A($)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,F=N.port2;N.port1.onmessage=$,q=function(){F.postMessage(null)}}else q=function(){x($,0)};function z(L){R=L,P||(P=!0,q())}function V(L,O){B=x(function(){L(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,z(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var H=p;p=O;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return O()}finally{p=H}},n.unstable_scheduleCallback=function(L,O,H){var U=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,L={id:h++,callback:O,priorityLevel:L,startTime:H,expirationTime:X,sortIndex:-1},H>U?(L.sortIndex=H,e(c,L),t(l)===null&&L===t(c)&&(_?(g(B),B=-1):_=!0,V(S,H-U))):(L.sortIndex=X,e(l,L),y||m||(y=!0,z(C))),L},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(L){var O=p;return function(){var H=p;p=O;try{return L.apply(this,arguments)}finally{p=H}}}}(kx)),kx}var Ub;function Lj(){return Ub||(Ub=1,Nx.exports=Rj()),Nx.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bj=function(e){var t={},i=Y,r=Lj(),s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}function R(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case _:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return f=u.displayName||null,f!==null?f:R(u.type)||"Memo";case M:f=u._payload,u=u._init;try{return R(u(f))}catch{}}return null}function B(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function b(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function I(u){if(b(u)!==u)throw Error(o(188))}function J(u){var f=u.alternate;if(!f){if(f=b(u),f===null)throw Error(o(188));return f!==u?null:u}for(var v=u,w=f;;){var E=v.return;if(E===null)break;var T=E.alternate;if(T===null){if(w=E.return,w!==null){v=w;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===v)return I(E),u;if(T===w)return I(E),f;T=T.sibling}throw Error(o(188))}if(v.return!==w.return)v=E,w=T;else{for(var W=!1,te=E.child;te;){if(te===v){W=!0,v=E,w=T;break}if(te===w){W=!0,w=E,v=T;break}te=te.sibling}if(!W){for(te=T.child;te;){if(te===v){W=!0,v=T,w=E;break}if(te===w){W=!0,w=T,v=E;break}te=te.sibling}if(!W)throw Error(o(189))}}if(v.alternate!==w)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?u:f}function $(u){return u=J(u),u!==null?q(u):null}function q(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=q(u);if(f!==null)return f;u=u.sibling}return null}function N(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=N(u);if(f!==null)return f}u=u.sibling}return null}var F=Array.isArray,z=e.getPublicInstance,V=e.getRootHostContext,L=e.getChildHostContext,O=e.prepareForCommit,H=e.resetAfterCommit,U=e.createInstance,X=e.appendInitialChild,le=e.finalizeInitialChildren,he=e.prepareUpdate,ve=e.shouldSetTextContent,Se=e.createTextInstance,Ie=e.scheduleTimeout,Ve=e.cancelTimeout,ut=e.noTimeout,tt=e.isPrimaryRenderer,we=e.supportsMutation,Q=e.supportsPersistence,xe=e.supportsHydration,ge=e.getInstanceFromNode,Ee=e.preparePortalMount,_e=e.getCurrentEventPriority,We=e.detachDeletedInstance,ke=e.supportsMicrotasks,Ge=e.scheduleMicrotask,Ze=e.supportsTestSelectors,yt=e.findFiberRoot,Gt=e.getBoundingRect,j=e.getTextContent,D=e.isHiddenSubtree,oe=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,Ae=e.setupIntersectionObserver,Re=e.appendChild,Ye=e.appendChildToContainer,Le=e.commitTextUpdate,ce=e.commitMount,Z=e.commitUpdate,fe=e.insertBefore,Me=e.insertInContainerBefore,Pe=e.removeChild,De=e.removeChildFromContainer,rt=e.resetTextContent,Et=e.hideInstance,ee=e.hideTextInstance,Fe=e.unhideInstance,ae=e.unhideTextInstance,Te=e.clearContainer,ze=e.cloneInstance,bt=e.createContainerChildSet,Jt=e.appendChildToContainerChildSet,mn=e.finalizeContainerChildren,Br=e.replaceContainerChildren,Vt=e.cloneHiddenInstance,Vi=e.cloneHiddenTextInstance,Qn=e.canHydrateInstance,Ed=e.canHydrateTextInstance,Cd=e.canHydrateSuspenseInstance,Td=e.isSuspenseInstancePending,_o=e.isSuspenseInstanceFallback,bd=e.registerSuspenseInstanceRetry,as=e.getNextHydratableSibling,Pd=e.getFirstHydratableChild,uv=e.getFirstHydratableChildWithinContainer,hv=e.getFirstHydratableChildWithinSuspenseInstance,fv=e.hydrateInstance,G=e.hydrateTextInstance,re=e.hydrateSuspenseInstance,me=e.getNextHydratableInstanceAfterSuspenseInstance,ie=e.commitHydratedContainer,pe=e.commitHydratedSuspenseInstance,Xe=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,st=e.shouldDeleteUnhydratedTailInstances,ot=e.didNotMatchHydratedContainerTextInstance,wt=e.didNotMatchHydratedTextInstance,nt;function ct(u){if(nt===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);nt=f&&f[1]||""}return`
`+nt+u}var Yt=!1;function Qt(u,f){if(!u||Yt)return"";Yt=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Be){var w=Be}Reflect.construct(u,[],f)}else{try{f.call()}catch(Be){w=Be}u.call(f.prototype)}else{try{throw Error()}catch(Be){w=Be}u()}}catch(Be){if(Be&&w&&typeof Be.stack=="string"){for(var E=Be.stack.split(`
`),T=w.stack.split(`
`),W=E.length-1,te=T.length-1;1<=W&&0<=te&&E[W]!==T[te];)te--;for(;1<=W&&0<=te;W--,te--)if(E[W]!==T[te]){if(W!==1||te!==1)do if(W--,te--,0>te||E[W]!==T[te]){var de=`
`+E[W].replace(" at new "," at ");return u.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",u.displayName)),de}while(1<=W&&0<=te);break}}}finally{Yt=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?ct(u):""}var Ri=Object.prototype.hasOwnProperty,Wi=[],Wt=-1;function ht(u){return{current:u}}function Ut(u){0>Wt||(u.current=Wi[Wt],Wi[Wt]=null,Wt--)}function at(u,f){Wt++,Wi[Wt]=u.current,u.current=f}var ni={},On=ht(ni),bn=ht(!1),Ir=ni;function gn(u,f){var v=u.type.contextTypes;if(!v)return ni;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var E={},T;for(T in v)E[T]=f[T];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=E),E}function yn(u){return u=u.childContextTypes,u!=null}function Ao(){Ut(bn),Ut(On)}function ii(u,f,v){if(On.current!==ni)throw Error(o(168));at(On,f),at(bn,v)}function jl(u,f,v){var w=u.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var E in w)if(!(E in f))throw Error(o(108,B(u)||"Unknown",E));return s({},v,w)}function Xl(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||ni,Ir=On.current,at(On,u),at(bn,bn.current),!0}function Yu(u,f,v){var w=u.stateNode;if(!w)throw Error(o(169));v?(u=jl(u,f,Ir),w.__reactInternalMemoizedMergedChildContext=u,Ut(bn),Ut(On),at(On,u)):Ut(bn),at(bn,v)}var Dr=Math.clz32?Math.clz32:YO,XO=Math.log,JO=Math.LN2;function YO(u){return u>>>=0,u===0?32:31-(XO(u)/JO|0)|0}var Rd=64,Ld=4194304;function Ku(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Bd(u,f){var v=u.pendingLanes;if(v===0)return 0;var w=0,E=u.suspendedLanes,T=u.pingedLanes,W=v&268435455;if(W!==0){var te=W&~E;te!==0?w=Ku(te):(T&=W,T!==0&&(w=Ku(T)))}else W=v&~E,W!==0?w=Ku(W):T!==0&&(w=Ku(T));if(w===0)return 0;if(f!==0&&f!==w&&!(f&E)&&(E=w&-w,T=f&-f,E>=T||E===16&&(T&4194240)!==0))return f;if(w&4&&(w|=v&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=w;0<f;)v=31-Dr(f),E=1<<v,w|=u[v],f&=~E;return w}function KO(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QO(u,f){for(var v=u.suspendedLanes,w=u.pingedLanes,E=u.expirationTimes,T=u.pendingLanes;0<T;){var W=31-Dr(T),te=1<<W,de=E[W];de===-1?(!(te&v)||te&w)&&(E[W]=KO(te,f)):de<=f&&(u.expiredLanes|=te),T&=~te}}function dv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function pv(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function Qu(u,f,v){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Dr(f),u[f]=v}function qO(u,f){var v=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<v;){var E=31-Dr(v),T=1<<E;f[E]=0,w[E]=-1,u[E]=-1,v&=~T}}function mv(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var w=31-Dr(v),E=1<<w;E&f|u[w]&f&&(u[w]|=f),v&=~E}}var It=0;function i1(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var gv=r.unstable_scheduleCallback,r1=r.unstable_cancelCallback,ZO=r.unstable_shouldYield,$O=r.unstable_requestPaint,Gn=r.unstable_now,yv=r.unstable_ImmediatePriority,eN=r.unstable_UserBlockingPriority,vv=r.unstable_NormalPriority,tN=r.unstable_IdlePriority,Id=null,ls=null;function nN(u){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(Id,u,void 0,(u.current.flags&128)===128)}catch{}}function iN(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var cs=typeof Object.is=="function"?Object.is:iN,Os=null,Dd=!1,xv=!1;function s1(u){Os===null?Os=[u]:Os.push(u)}function rN(u){Dd=!0,s1(u)}function us(){if(!xv&&Os!==null){xv=!0;var u=0,f=It;try{var v=Os;for(It=1;u<v.length;u++){var w=v[u];do w=w(!0);while(w!==null)}Os=null,Dd=!1}catch(E){throw Os!==null&&(Os=Os.slice(u+1)),gv(yv,us),E}finally{It=f,xv=!1}}return null}var sN=a.ReactCurrentBatchConfig;function Fd(u,f){if(cs(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),w=Object.keys(f);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var E=v[w];if(!Ri.call(f,E)||!cs(u[E],f[E]))return!1}return!0}function oN(u){switch(u.tag){case 5:return ct(u.type);case 16:return ct("Lazy");case 13:return ct("Suspense");case 19:return ct("SuspenseList");case 0:case 2:case 15:return u=Qt(u.type,!1),u;case 11:return u=Qt(u.type.render,!1),u;case 1:return u=Qt(u.type,!0),u;default:return""}}function Fr(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var v in u)f[v]===void 0&&(f[v]=u[v]);return f}return f}var Od=ht(null),Nd=null,Jl=null,_v=null;function Av(){_v=Jl=Nd=null}function o1(u,f,v){tt?(at(Od,f._currentValue),f._currentValue=v):(at(Od,f._currentValue2),f._currentValue2=v)}function Mv(u){var f=Od.current;Ut(Od),tt?u._currentValue=f:u._currentValue2=f}function wv(u,f,v){for(;u!==null;){var w=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),u===v)break;u=u.return}}function Yl(u,f){Nd=u,_v=Jl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Ji=!0),u.firstContext=null)}function lr(u){var f=tt?u._currentValue:u._currentValue2;if(_v!==u)if(u={context:u,memoizedValue:f,next:null},Jl===null){if(Nd===null)throw Error(o(308));Jl=u,Nd.dependencies={lanes:0,firstContext:u}}else Jl=Jl.next=u;return f}var hs=null,Mo=!1;function Sv(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a1(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ns(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function wo(u,f){var v=u.updateQueue;v!==null&&(v=v.shared,Pn!==null&&u.mode&1&&!(St&2)?(u=v.interleaved,u===null?(f.next=f,hs===null?hs=[v]:hs.push(v)):(f.next=u.next,u.next=f),v.interleaved=f):(u=v.pending,u===null?f.next=f:(f.next=u.next,u.next=f),v.pending=f))}function kd(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var w=f.lanes;w&=u.pendingLanes,v|=w,f.lanes=v,mv(u,v)}}function l1(u,f){var v=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var E=null,T=null;if(v=v.firstBaseUpdate,v!==null){do{var W={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};T===null?E=T=W:T=T.next=W,v=v.next}while(v!==null);T===null?E=T=f:T=T.next=f}else E=T=f;v={baseState:w.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:w.shared,effects:w.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function Ud(u,f,v,w){var E=u.updateQueue;Mo=!1;var T=E.firstBaseUpdate,W=E.lastBaseUpdate,te=E.shared.pending;if(te!==null){E.shared.pending=null;var de=te,Be=de.next;de.next=null,W===null?T=Be:W.next=Be,W=de;var Je=u.alternate;Je!==null&&(Je=Je.updateQueue,te=Je.lastBaseUpdate,te!==W&&(te===null?Je.firstBaseUpdate=Be:te.next=Be,Je.lastBaseUpdate=de))}if(T!==null){var dt=E.baseState;W=0,Je=Be=de=null,te=T;do{var et=te.lane,jt=te.eventTime;if((w&et)===et){Je!==null&&(Je=Je.next={eventTime:jt,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var qe=u,ai=te;switch(et=f,jt=v,ai.tag){case 1:if(qe=ai.payload,typeof qe=="function"){dt=qe.call(jt,dt,et);break e}dt=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ai.payload,et=typeof qe=="function"?qe.call(jt,dt,et):qe,et==null)break e;dt=s({},dt,et);break e;case 2:Mo=!0}}te.callback!==null&&te.lane!==0&&(u.flags|=64,et=E.effects,et===null?E.effects=[te]:et.push(te))}else jt={eventTime:jt,lane:et,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Je===null?(Be=Je=jt,de=dt):Je=Je.next=jt,W|=et;if(te=te.next,te===null){if(te=E.shared.pending,te===null)break;et=te,te=et.next,et.next=null,E.lastBaseUpdate=et,E.shared.pending=null}}while(1);if(Je===null&&(de=dt),E.baseState=de,E.firstBaseUpdate=Be,E.lastBaseUpdate=Je,f=E.shared.interleaved,f!==null){E=f;do W|=E.lane,E=E.next;while(E!==f)}else T===null&&(E.shared.lanes=0);ic|=W,u.lanes=W,u.memoizedState=dt}}function c1(u,f,v){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var w=u[f],E=w.callback;if(E!==null){if(w.callback=null,w=v,typeof E!="function")throw Error(o(191,E));E.call(w)}}}var u1=new i.Component().refs;function Ev(u,f,v,w){f=u.memoizedState,v=v(w,f),v=v==null?f:s({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var zd={isMounted:function(u){return(u=u._reactInternals)?b(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var w=_i(),E=Co(u),T=Ns(w,E);T.payload=f,v!=null&&(T.callback=v),wo(u,T),f=dr(u,E,w),f!==null&&kd(f,u,E)},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var w=_i(),E=Co(u),T=Ns(w,E);T.tag=1,T.payload=f,v!=null&&(T.callback=v),wo(u,T),f=dr(u,E,w),f!==null&&kd(f,u,E)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=_i(),w=Co(u),E=Ns(v,w);E.tag=2,f!=null&&(E.callback=f),wo(u,E),f=dr(u,w,v),f!==null&&kd(f,u,w)}};function h1(u,f,v,w,E,T,W){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,T,W):f.prototype&&f.prototype.isPureReactComponent?!Fd(v,w)||!Fd(E,T):!0}function f1(u,f,v){var w=!1,E=ni,T=f.contextType;return typeof T=="object"&&T!==null?T=lr(T):(E=yn(f)?Ir:On.current,w=f.contextTypes,T=(w=w!=null)?gn(u,E):ni),f=new f(v,T),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zd,u.stateNode=f,f._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=T),f}function d1(u,f,v,w){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,w),f.state!==u&&zd.enqueueReplaceState(f,f.state,null)}function Cv(u,f,v,w){var E=u.stateNode;E.props=v,E.state=u.memoizedState,E.refs=u1,Sv(u);var T=f.contextType;typeof T=="object"&&T!==null?E.context=lr(T):(T=yn(f)?Ir:On.current,E.context=gn(u,T)),E.state=u.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&(Ev(u,f,T,v),E.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&zd.enqueueReplaceState(E,E.state,null),Ud(u,v,E,w),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}var Kl=[],Ql=0,Hd=null,Gd=0,cr=[],ur=0,Ra=null,ks=1,Us="";function La(u,f){Kl[Ql++]=Gd,Kl[Ql++]=Hd,Hd=u,Gd=f}function p1(u,f,v){cr[ur++]=ks,cr[ur++]=Us,cr[ur++]=Ra,Ra=u;var w=ks;u=Us;var E=32-Dr(w)-1;w&=~(1<<E),v+=1;var T=32-Dr(f)+E;if(30<T){var W=E-E%5;T=(w&(1<<W)-1).toString(32),w>>=W,E-=W,ks=1<<32-Dr(f)+E|v<<E|w,Us=T+u}else ks=1<<T|v<<E|w,Us=u}function Tv(u){u.return!==null&&(La(u,1),p1(u,1,0))}function bv(u){for(;u===Hd;)Hd=Kl[--Ql],Kl[Ql]=null,Gd=Kl[--Ql],Kl[Ql]=null;for(;u===Ra;)Ra=cr[--ur],cr[ur]=null,Us=cr[--ur],cr[ur]=null,ks=cr[--ur],cr[ur]=null}var ji=null,Xi=null,tn=!1,qu=!1,Or=null;function m1(u,f){var v=pr(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=u,f=u.deletions,f===null?(u.deletions=[v],u.flags|=16):f.push(v)}function g1(u,f){switch(u.tag){case 5:return f=Qn(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,ji=u,Xi=Pd(f),!0):!1;case 6:return f=Ed(f,u.pendingProps),f!==null?(u.stateNode=f,ji=u,Xi=null,!0):!1;case 13:if(f=Cd(f),f!==null){var v=Ra!==null?{id:ks,overflow:Us}:null;return u.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=pr(18,null,null,0),v.stateNode=f,v.return=u,u.child=v,ji=u,Xi=null,!0}return!1;default:return!1}}function Pv(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Rv(u){if(tn){var f=Xi;if(f){var v=f;if(!g1(u,f)){if(Pv(u))throw Error(o(418));f=as(v);var w=ji;f&&g1(u,f)?m1(w,v):(u.flags=u.flags&-4097|2,tn=!1,ji=u)}}else{if(Pv(u))throw Error(o(418));u.flags=u.flags&-4097|2,tn=!1,ji=u}}}function y1(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ji=u}function Zu(u){if(!xe||u!==ji)return!1;if(!tn)return y1(u),tn=!0,!1;if(u.tag!==3&&(u.tag!==5||st(u.type)&&!ve(u.type,u.memoizedProps))){var f=Xi;if(f){if(Pv(u)){for(u=Xi;u;)u=as(u);throw Error(o(418))}for(;f;)m1(u,f),f=as(f)}}if(y1(u),u.tag===13){if(!xe)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Xi=me(u)}else Xi=ji?as(u.stateNode):null;return!0}function ql(){xe&&(Xi=ji=null,qu=tn=!1)}function Lv(u){Or===null?Or=[u]:Or.push(u)}function $u(u,f,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var w=v.stateNode}if(!w)throw Error(o(147,u));var E=w,T=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===T?f.ref:(f=function(W){var te=E.refs;te===u1&&(te=E.refs={}),W===null?delete te[T]:te[T]=W},f._stringRef=T,f)}if(typeof u!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,u))}return u}function Vd(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function v1(u){var f=u._init;return f(u._payload)}function x1(u){function f(se,ne){if(u){var ue=se.deletions;ue===null?(se.deletions=[ne],se.flags|=16):ue.push(ne)}}function v(se,ne){if(!u)return null;for(;ne!==null;)f(se,ne),ne=ne.sibling;return null}function w(se,ne){for(se=new Map;ne!==null;)ne.key!==null?se.set(ne.key,ne):se.set(ne.index,ne),ne=ne.sibling;return se}function E(se,ne){return se=bo(se,ne),se.index=0,se.sibling=null,se}function T(se,ne,ue){return se.index=ue,u?(ue=se.alternate,ue!==null?(ue=ue.index,ue<ne?(se.flags|=2,ne):ue):(se.flags|=2,ne)):(se.flags|=1048576,ne)}function W(se){return u&&se.alternate===null&&(se.flags|=2),se}function te(se,ne,ue,He){return ne===null||ne.tag!==6?(ne=p0(ue,se.mode,He),ne.return=se,ne):(ne=E(ne,ue),ne.return=se,ne)}function de(se,ne,ue,He){var Qe=ue.type;return Qe===h?Je(se,ne,ue.props.children,He,ue.key):ne!==null&&(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&v1(Qe)===ne.type)?(He=E(ne,ue.props),He.ref=$u(se,ne,ue),He.return=se,He):(He=_p(ue.type,ue.key,ue.props,null,se.mode,He),He.ref=$u(se,ne,ue),He.return=se,He)}function Be(se,ne,ue,He){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=m0(ue,se.mode,He),ne.return=se,ne):(ne=E(ne,ue.children||[]),ne.return=se,ne)}function Je(se,ne,ue,He,Qe){return ne===null||ne.tag!==7?(ne=ka(ue,se.mode,He,Qe),ne.return=se,ne):(ne=E(ne,ue),ne.return=se,ne)}function dt(se,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=p0(""+ne,se.mode,ue),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return ue=_p(ne.type,ne.key,ne.props,null,se.mode,ue),ue.ref=$u(se,null,ne),ue.return=se,ue;case c:return ne=m0(ne,se.mode,ue),ne.return=se,ne;case M:var He=ne._init;return dt(se,He(ne._payload),ue)}if(F(ne)||P(ne))return ne=ka(ne,se.mode,ue,null),ne.return=se,ne;Vd(se,ne)}return null}function et(se,ne,ue,He){var Qe=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Qe!==null?null:te(se,ne,""+ue,He);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===Qe?de(se,ne,ue,He):null;case c:return ue.key===Qe?Be(se,ne,ue,He):null;case M:return Qe=ue._init,et(se,ne,Qe(ue._payload),He)}if(F(ue)||P(ue))return Qe!==null?null:Je(se,ne,ue,He,null);Vd(se,ue)}return null}function jt(se,ne,ue,He,Qe){if(typeof He=="string"&&He!==""||typeof He=="number")return se=se.get(ue)||null,te(ne,se,""+He,Qe);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case l:return se=se.get(He.key===null?ue:He.key)||null,de(ne,se,He,Qe);case c:return se=se.get(He.key===null?ue:He.key)||null,Be(ne,se,He,Qe);case M:var At=He._init;return jt(se,ne,ue,At(He._payload),Qe)}if(F(He)||P(He))return se=se.get(ue)||null,Je(ne,se,He,Qe,null);Vd(ne,He)}return null}function qe(se,ne,ue,He){for(var Qe=null,At=null,pt=ne,Dt=ne=0,Wn=null;pt!==null&&Dt<ue.length;Dt++){pt.index>Dt?(Wn=pt,pt=null):Wn=pt.sibling;var Ft=et(se,pt,ue[Dt],He);if(Ft===null){pt===null&&(pt=Wn);break}u&&pt&&Ft.alternate===null&&f(se,pt),ne=T(Ft,ne,Dt),At===null?Qe=Ft:At.sibling=Ft,At=Ft,pt=Wn}if(Dt===ue.length)return v(se,pt),tn&&La(se,Dt),Qe;if(pt===null){for(;Dt<ue.length;Dt++)pt=dt(se,ue[Dt],He),pt!==null&&(ne=T(pt,ne,Dt),At===null?Qe=pt:At.sibling=pt,At=pt);return tn&&La(se,Dt),Qe}for(pt=w(se,pt);Dt<ue.length;Dt++)Wn=jt(pt,se,Dt,ue[Dt],He),Wn!==null&&(u&&Wn.alternate!==null&&pt.delete(Wn.key===null?Dt:Wn.key),ne=T(Wn,ne,Dt),At===null?Qe=Wn:At.sibling=Wn,At=Wn);return u&&pt.forEach(function(Po){return f(se,Po)}),tn&&La(se,Dt),Qe}function ai(se,ne,ue,He){var Qe=P(ue);if(typeof Qe!="function")throw Error(o(150));if(ue=Qe.call(ue),ue==null)throw Error(o(151));for(var At=Qe=null,pt=ne,Dt=ne=0,Wn=null,Ft=ue.next();pt!==null&&!Ft.done;Dt++,Ft=ue.next()){pt.index>Dt?(Wn=pt,pt=null):Wn=pt.sibling;var Po=et(se,pt,Ft.value,He);if(Po===null){pt===null&&(pt=Wn);break}u&&pt&&Po.alternate===null&&f(se,pt),ne=T(Po,ne,Dt),At===null?Qe=Po:At.sibling=Po,At=Po,pt=Wn}if(Ft.done)return v(se,pt),tn&&La(se,Dt),Qe;if(pt===null){for(;!Ft.done;Dt++,Ft=ue.next())Ft=dt(se,Ft.value,He),Ft!==null&&(ne=T(Ft,ne,Dt),At===null?Qe=Ft:At.sibling=Ft,At=Ft);return tn&&La(se,Dt),Qe}for(pt=w(se,pt);!Ft.done;Dt++,Ft=ue.next())Ft=jt(pt,se,Dt,Ft.value,He),Ft!==null&&(u&&Ft.alternate!==null&&pt.delete(Ft.key===null?Dt:Ft.key),ne=T(Ft,ne,Dt),At===null?Qe=Ft:At.sibling=Ft,At=Ft);return u&&pt.forEach(function(ON){return f(se,ON)}),tn&&La(se,Dt),Qe}function mr(se,ne,ue,He){if(typeof ue=="object"&&ue!==null&&ue.type===h&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var Qe=ue.key,At=ne;At!==null;){if(At.key===Qe){if(Qe=ue.type,Qe===h){if(At.tag===7){v(se,At.sibling),ne=E(At,ue.props.children),ne.return=se,se=ne;break e}}else if(At.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&v1(Qe)===At.type){v(se,At.sibling),ne=E(At,ue.props),ne.ref=$u(se,At,ue),ne.return=se,se=ne;break e}v(se,At);break}else f(se,At);At=At.sibling}ue.type===h?(ne=ka(ue.props.children,se.mode,He,ue.key),ne.return=se,se=ne):(He=_p(ue.type,ue.key,ue.props,null,se.mode,He),He.ref=$u(se,ne,ue),He.return=se,se=He)}return W(se);case c:e:{for(At=ue.key;ne!==null;){if(ne.key===At)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){v(se,ne.sibling),ne=E(ne,ue.children||[]),ne.return=se,se=ne;break e}else{v(se,ne);break}else f(se,ne);ne=ne.sibling}ne=m0(ue,se.mode,He),ne.return=se,se=ne}return W(se);case M:return At=ue._init,mr(se,ne,At(ue._payload),He)}if(F(ue))return qe(se,ne,ue,He);if(P(ue))return ai(se,ne,ue,He);Vd(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ne!==null&&ne.tag===6?(v(se,ne.sibling),ne=E(ne,ue),ne.return=se,se=ne):(v(se,ne),ne=p0(ue,se.mode,He),ne.return=se,se=ne),W(se)):v(se,ne)}return mr}var Zl=x1(!0),_1=x1(!1),eh={},hr=ht(eh),th=ht(eh),$l=ht(eh);function fs(u){if(u===eh)throw Error(o(174));return u}function Bv(u,f){at($l,f),at(th,u),at(hr,eh),u=V(f),Ut(hr),at(hr,u)}function ec(){Ut(hr),Ut(th),Ut($l)}function A1(u){var f=fs($l.current),v=fs(hr.current);f=L(v,u.type,f),v!==f&&(at(th,u),at(hr,f))}function Iv(u){th.current===u&&(Ut(hr),Ut(th))}var ln=ht(0);function Wd(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Td(v)||_o(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Dv=[];function Fv(){for(var u=0;u<Dv.length;u++){var f=Dv[u];tt?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Dv.length=0}var jd=a.ReactCurrentDispatcher,fr=a.ReactCurrentBatchConfig,tc=0,vn=null,ri=null,Vn=null,Xd=!1,nh=!1,ih=0,aN=0;function si(){throw Error(o(321))}function Ov(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!cs(u[v],f[v]))return!1;return!0}function Nv(u,f,v,w,E,T){if(tc=T,vn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,jd.current=u===null||u.memoizedState===null?hN:fN,u=v(w,E),nh){T=0;do{if(nh=!1,ih=0,25<=T)throw Error(o(301));T+=1,Vn=ri=null,f.updateQueue=null,jd.current=dN,u=v(w,E)}while(nh)}if(jd.current=qd,f=ri!==null&&ri.next!==null,tc=0,Vn=ri=vn=null,Xd=!1,f)throw Error(o(300));return u}function kv(){var u=ih!==0;return ih=0,u}function zs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?vn.memoizedState=Vn=u:Vn=Vn.next=u,Vn}function ds(){if(ri===null){var u=vn.alternate;u=u!==null?u.memoizedState:null}else u=ri.next;var f=Vn===null?vn.memoizedState:Vn.next;if(f!==null)Vn=f,ri=u;else{if(u===null)throw Error(o(310));ri=u,u={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},Vn===null?vn.memoizedState=Vn=u:Vn=Vn.next=u}return Vn}function Ba(u,f){return typeof f=="function"?f(u):f}function Jd(u){var f=ds(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=u;var w=ri,E=w.baseQueue,T=v.pending;if(T!==null){if(E!==null){var W=E.next;E.next=T.next,T.next=W}w.baseQueue=E=T,v.pending=null}if(E!==null){T=E.next,w=w.baseState;var te=W=null,de=null,Be=T;do{var Je=Be.lane;if((tc&Je)===Je)de!==null&&(de=de.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),w=Be.hasEagerState?Be.eagerState:u(w,Be.action);else{var dt={lane:Je,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};de===null?(te=de=dt,W=w):de=de.next=dt,vn.lanes|=Je,ic|=Je}Be=Be.next}while(Be!==null&&Be!==T);de===null?W=w:de.next=te,cs(w,f.memoizedState)||(Ji=!0),f.memoizedState=w,f.baseState=W,f.baseQueue=de,v.lastRenderedState=w}if(u=v.interleaved,u!==null){E=u;do T=E.lane,vn.lanes|=T,ic|=T,E=E.next;while(E!==u)}else E===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Yd(u){var f=ds(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=u;var w=v.dispatch,E=v.pending,T=f.memoizedState;if(E!==null){v.pending=null;var W=E=E.next;do T=u(T,W.action),W=W.next;while(W!==E);cs(T,f.memoizedState)||(Ji=!0),f.memoizedState=T,f.baseQueue===null&&(f.baseState=T),v.lastRenderedState=T}return[T,w]}function M1(){}function w1(u,f){var v=vn,w=ds(),E=f(),T=!cs(w.memoizedState,E);if(T&&(w.memoizedState=E,Ji=!0),w=w.queue,sh(C1.bind(null,v,w,u),[u]),w.getSnapshot!==f||T||Vn!==null&&Vn.memoizedState.tag&1){if(v.flags|=2048,rh(9,E1.bind(null,v,w,E,f),void 0,null),Pn===null)throw Error(o(349));tc&30||S1(v,f,E)}return E}function S1(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=vn.updateQueue,f===null?(f={lastEffect:null,stores:null},vn.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function E1(u,f,v,w){f.value=v,f.getSnapshot=w,T1(f)&&dr(u,1,-1)}function C1(u,f,v){return v(function(){T1(f)&&dr(u,1,-1)})}function T1(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!cs(u,v)}catch{return!0}}function Uv(u){var f=zs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:u},f.queue=u,u=u.dispatch=uN.bind(null,vn,u),[f.memoizedState,u]}function rh(u,f,v,w){return u={tag:u,create:f,destroy:v,deps:w,next:null},f=vn.updateQueue,f===null?(f={lastEffect:null,stores:null},vn.updateQueue=f,f.lastEffect=u.next=u):(v=f.lastEffect,v===null?f.lastEffect=u.next=u:(w=v.next,v.next=u,u.next=w,f.lastEffect=u)),u}function b1(){return ds().memoizedState}function Kd(u,f,v,w){var E=zs();vn.flags|=u,E.memoizedState=rh(1|f,v,void 0,w===void 0?null:w)}function Qd(u,f,v,w){var E=ds();w=w===void 0?null:w;var T=void 0;if(ri!==null){var W=ri.memoizedState;if(T=W.destroy,w!==null&&Ov(w,W.deps)){E.memoizedState=rh(f,v,T,w);return}}vn.flags|=u,E.memoizedState=rh(1|f,v,T,w)}function zv(u,f){return Kd(8390656,8,u,f)}function sh(u,f){return Qd(2048,8,u,f)}function P1(u,f){return Qd(4,2,u,f)}function R1(u,f){return Qd(4,4,u,f)}function L1(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function B1(u,f,v){return v=v!=null?v.concat([u]):null,Qd(4,4,L1.bind(null,f,u),v)}function Hv(){}function I1(u,f){var v=ds();f=f===void 0?null:f;var w=v.memoizedState;return w!==null&&f!==null&&Ov(f,w[1])?w[0]:(v.memoizedState=[u,f],u)}function D1(u,f){var v=ds();f=f===void 0?null:f;var w=v.memoizedState;return w!==null&&f!==null&&Ov(f,w[1])?w[0]:(u=u(),v.memoizedState=[u,f],u)}function lN(u,f){var v=It;It=v!==0&&4>v?v:4,u(!0);var w=fr.transition;fr.transition={};try{u(!1),f()}finally{It=v,fr.transition=w}}function F1(){return ds().memoizedState}function cN(u,f,v){var w=Co(u);v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},O1(u)?N1(f,v):(k1(u,f,v),v=_i(),u=dr(u,w,v),u!==null&&U1(u,f,w))}function uN(u,f,v){var w=Co(u),E={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(O1(u))N1(f,E);else{k1(u,f,E);var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=f.lastRenderedReducer,T!==null))try{var W=f.lastRenderedState,te=T(W,v);if(E.hasEagerState=!0,E.eagerState=te,cs(te,W))return}catch{}finally{}v=_i(),u=dr(u,w,v),u!==null&&U1(u,f,w)}}function O1(u){var f=u.alternate;return u===vn||f!==null&&f===vn}function N1(u,f){nh=Xd=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function k1(u,f,v){Pn!==null&&u.mode&1&&!(St&2)?(u=f.interleaved,u===null?(v.next=v,hs===null?hs=[f]:hs.push(f)):(v.next=u.next,u.next=v),f.interleaved=v):(u=f.pending,u===null?v.next=v:(v.next=u.next,u.next=v),f.pending=v)}function U1(u,f,v){if(v&4194240){var w=f.lanes;w&=u.pendingLanes,v|=w,f.lanes=v,mv(u,v)}}var qd={readContext:lr,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},hN={readContext:lr,useCallback:function(u,f){return zs().memoizedState=[u,f===void 0?null:f],u},useContext:lr,useEffect:zv,useImperativeHandle:function(u,f,v){return v=v!=null?v.concat([u]):null,Kd(4194308,4,L1.bind(null,f,u),v)},useLayoutEffect:function(u,f){return Kd(4194308,4,u,f)},useInsertionEffect:function(u,f){return Kd(4,2,u,f)},useMemo:function(u,f){var v=zs();return f=f===void 0?null:f,u=u(),v.memoizedState=[u,f],u},useReducer:function(u,f,v){var w=zs();return f=v!==void 0?v(f):f,w.memoizedState=w.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},w.queue=u,u=u.dispatch=cN.bind(null,vn,u),[w.memoizedState,u]},useRef:function(u){var f=zs();return u={current:u},f.memoizedState=u},useState:Uv,useDebugValue:Hv,useDeferredValue:function(u){var f=Uv(u),v=f[0],w=f[1];return zv(function(){var E=fr.transition;fr.transition={};try{w(u)}finally{fr.transition=E}},[u]),v},useTransition:function(){var u=Uv(!1),f=u[0];return u=lN.bind(null,u[1]),zs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,v){var w=vn,E=zs();if(tn){if(v===void 0)throw Error(o(407));v=v()}else{if(v=f(),Pn===null)throw Error(o(349));tc&30||S1(w,f,v)}E.memoizedState=v;var T={value:v,getSnapshot:f};return E.queue=T,zv(C1.bind(null,w,T,u),[u]),w.flags|=2048,rh(9,E1.bind(null,w,T,v,f),void 0,null),v},useId:function(){var u=zs(),f=Pn.identifierPrefix;if(tn){var v=Us,w=ks;v=(w&~(1<<32-Dr(w)-1)).toString(32)+v,f=":"+f+"R"+v,v=ih++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=aN++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},fN={readContext:lr,useCallback:I1,useContext:lr,useEffect:sh,useImperativeHandle:B1,useInsertionEffect:P1,useLayoutEffect:R1,useMemo:D1,useReducer:Jd,useRef:b1,useState:function(){return Jd(Ba)},useDebugValue:Hv,useDeferredValue:function(u){var f=Jd(Ba),v=f[0],w=f[1];return sh(function(){var E=fr.transition;fr.transition={};try{w(u)}finally{fr.transition=E}},[u]),v},useTransition:function(){var u=Jd(Ba)[0],f=ds().memoizedState;return[u,f]},useMutableSource:M1,useSyncExternalStore:w1,useId:F1,unstable_isNewReconciler:!1},dN={readContext:lr,useCallback:I1,useContext:lr,useEffect:sh,useImperativeHandle:B1,useInsertionEffect:P1,useLayoutEffect:R1,useMemo:D1,useReducer:Yd,useRef:b1,useState:function(){return Yd(Ba)},useDebugValue:Hv,useDeferredValue:function(u){var f=Yd(Ba),v=f[0],w=f[1];return sh(function(){var E=fr.transition;fr.transition={};try{w(u)}finally{fr.transition=E}},[u]),v},useTransition:function(){var u=Yd(Ba)[0],f=ds().memoizedState;return[u,f]},useMutableSource:M1,useSyncExternalStore:w1,useId:F1,unstable_isNewReconciler:!1};function Gv(u,f){try{var v="",w=f;do v+=oN(w),w=w.return;while(w);var E=v}catch(T){E=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:f,stack:E}}function Vv(u,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var pN=typeof WeakMap=="function"?WeakMap:Map;function z1(u,f,v){v=Ns(-1,v),v.tag=3,v.payload={element:null};var w=f.value;return v.callback=function(){dp||(dp=!0,a0=w),Vv(u,f)},v}function H1(u,f,v){v=Ns(-1,v),v.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var E=f.value;v.payload=function(){return w(E)},v.callback=function(){Vv(u,f)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(v.callback=function(){Vv(u,f),typeof w!="function"&&(So===null?So=new Set([this]):So.add(this));var W=f.stack;this.componentDidCatch(f.value,{componentStack:W!==null?W:""})}),v}function G1(u,f,v){var w=u.pingCache;if(w===null){w=u.pingCache=new pN;var E=new Set;w.set(f,E)}else E=w.get(f),E===void 0&&(E=new Set,w.set(f,E));E.has(v)||(E.add(v),u=bN.bind(null,u,f,v),f.then(u,u))}function V1(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function W1(u,f,v,w,E){return u.mode&1?(u.flags|=65536,u.lanes=E,u):(u===f?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Ns(-1,1),f.tag=2,wo(v,f))),v.lanes|=1),u)}function ps(u){u.flags|=4}function j1(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var oh,ah,Zd,$d;if(we)oh=function(u,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)X(u,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},ah=function(){},Zd=function(u,f,v,w,E){if(u=u.memoizedProps,u!==w){var T=f.stateNode,W=fs(hr.current);v=he(T,v,u,w,E,W),(f.updateQueue=v)&&ps(f)}},$d=function(u,f,v,w){v!==w&&ps(f)};else if(Q){oh=function(u,f,v,w){for(var E=f.child;E!==null;){if(E.tag===5){var T=E.stateNode;v&&w&&(T=Vt(T,E.type,E.memoizedProps,E)),X(u,T)}else if(E.tag===6)T=E.stateNode,v&&w&&(T=Vi(T,E.memoizedProps,E)),X(u,T);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)T=E.child,T!==null&&(T.return=E),oh(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var X1=function(u,f,v,w){for(var E=f.child;E!==null;){if(E.tag===5){var T=E.stateNode;v&&w&&(T=Vt(T,E.type,E.memoizedProps,E)),Jt(u,T)}else if(E.tag===6)T=E.stateNode,v&&w&&(T=Vi(T,E.memoizedProps,E)),Jt(u,T);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)T=E.child,T!==null&&(T.return=E),X1(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};ah=function(u,f){var v=f.stateNode;if(!j1(u,f)){u=v.containerInfo;var w=bt(u);X1(w,f,!1,!1),v.pendingChildren=w,ps(f),mn(u,w)}},Zd=function(u,f,v,w,E){var T=u.stateNode,W=u.memoizedProps;if((u=j1(u,f))&&W===w)f.stateNode=T;else{var te=f.stateNode,de=fs(hr.current),Be=null;W!==w&&(Be=he(te,v,W,w,E,de)),u&&Be===null?f.stateNode=T:(T=ze(T,Be,v,W,w,f,u,te),le(T,v,w,E,de)&&ps(f),f.stateNode=T,u?ps(f):oh(T,f,!1,!1))}},$d=function(u,f,v,w){v!==w?(u=fs($l.current),v=fs(hr.current),f.stateNode=Se(w,u,v,f),ps(f)):f.stateNode=u.stateNode}}else ah=function(){},Zd=function(){},$d=function(){};function lh(u,f){if(!tn)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function oi(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,w=0;if(f)for(var E=u.child;E!==null;)v|=E.lanes|E.childLanes,w|=E.subtreeFlags&14680064,w|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)v|=E.lanes|E.childLanes,w|=E.subtreeFlags,w|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=w,u.childLanes=v,f}function mN(u,f,v){var w=f.pendingProps;switch(bv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(f),null;case 1:return yn(f.type)&&Ao(),oi(f),null;case 3:return w=f.stateNode,ec(),Ut(bn),Ut(On),Fv(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(Zu(f)?ps(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Or!==null&&(u0(Or),Or=null))),ah(u,f),oi(f),null;case 5:Iv(f),v=fs($l.current);var E=f.type;if(u!==null&&f.stateNode!=null)Zd(u,f,E,w,v),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return oi(f),null}if(u=fs(hr.current),Zu(f)){if(!xe)throw Error(o(175));u=fv(f.stateNode,f.type,f.memoizedProps,v,u,f,!qu),f.updateQueue=u,u!==null&&ps(f)}else{var T=U(E,w,v,u,f);oh(T,f,!1,!1),f.stateNode=T,le(T,E,w,v,u)&&ps(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return oi(f),null;case 6:if(u&&f.stateNode!=null)$d(u,f,u.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(u=fs($l.current),v=fs(hr.current),Zu(f)){if(!xe)throw Error(o(176));if(u=f.stateNode,w=f.memoizedProps,(v=G(u,w,f,!qu))&&(E=ji,E!==null))switch(T=(E.mode&1)!==0,E.tag){case 3:ot(E.stateNode.containerInfo,u,w,T);break;case 5:wt(E.type,E.memoizedProps,E.stateNode,u,w,T)}v&&ps(f)}else f.stateNode=Se(w,u,v,f)}return oi(f),null;case 13:if(Ut(ln),w=f.memoizedState,tn&&Xi!==null&&f.mode&1&&!(f.flags&128)){for(u=Xi;u;)u=as(u);return ql(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=Zu(f),u===null){if(!w)throw Error(o(318));if(!xe)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));re(u,f)}else ql(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return oi(f),null}return Or!==null&&(u0(Or),Or=null),f.flags&128?(f.lanes=v,f):(w=w!==null,v=!1,u===null?Zu(f):v=u.memoizedState!==null,w&&!v&&(f.child.flags|=8192,f.mode&1&&(u===null||ln.current&1?Nn===0&&(Nn=3):f0())),f.updateQueue!==null&&(f.flags|=4),oi(f),null);case 4:return ec(),ah(u,f),u===null&&Ee(f.stateNode.containerInfo),oi(f),null;case 10:return Mv(f.type._context),oi(f),null;case 17:return yn(f.type)&&Ao(),oi(f),null;case 19:if(Ut(ln),E=f.memoizedState,E===null)return oi(f),null;if(w=(f.flags&128)!==0,T=E.rendering,T===null)if(w)lh(E,!1);else{if(Nn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(T=Wd(u),T!==null){for(f.flags|=128,lh(E,!1),u=T.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=v,w=f.child;w!==null;)v=w,E=u,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=E,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,E=T.dependencies,v.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),w=w.sibling;return at(ln,ln.current&1|2),f.child}u=u.sibling}E.tail!==null&&Gn()>o0&&(f.flags|=128,w=!0,lh(E,!1),f.lanes=4194304)}else{if(!w)if(u=Wd(T),u!==null){if(f.flags|=128,w=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),lh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!T.alternate&&!tn)return oi(f),null}else 2*Gn()-E.renderingStartTime>o0&&v!==1073741824&&(f.flags|=128,w=!0,lh(E,!1),f.lanes=4194304);E.isBackwards?(T.sibling=f.child,f.child=T):(u=E.last,u!==null?u.sibling=T:f.child=T,E.last=T)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=Gn(),f.sibling=null,u=ln.current,at(ln,w?u&1|2:u&1),f):(oi(f),null);case 22:case 23:return h0(),w=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Yi&1073741824&&(oi(f),we&&f.subtreeFlags&6&&(f.flags|=8192)):oi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var gN=a.ReactCurrentOwner,Ji=!1;function xi(u,f,v,w){f.child=u===null?_1(f,null,v,w):Zl(f,u.child,v,w)}function J1(u,f,v,w,E){v=v.render;var T=f.ref;return Yl(f,E),w=Nv(u,f,v,w,T,E),v=kv(),u!==null&&!Ji?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~E,Hs(u,f,E)):(tn&&v&&Tv(f),f.flags|=1,xi(u,f,w,E),f.child)}function Y1(u,f,v,w,E){if(u===null){var T=v.type;return typeof T=="function"&&!d0(T)&&T.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=T,K1(u,f,T,w,E)):(u=_p(v.type,null,w,f,f.mode,E),u.ref=f.ref,u.return=f,f.child=u)}if(T=u.child,!(u.lanes&E)){var W=T.memoizedProps;if(v=v.compare,v=v!==null?v:Fd,v(W,w)&&u.ref===f.ref)return Hs(u,f,E)}return f.flags|=1,u=bo(T,w),u.ref=f.ref,u.return=f,f.child=u}function K1(u,f,v,w,E){if(u!==null&&Fd(u.memoizedProps,w)&&u.ref===f.ref)if(Ji=!1,(u.lanes&E)!==0)u.flags&131072&&(Ji=!0);else return f.lanes=u.lanes,Hs(u,f,E);return Wv(u,f,v,w,E)}function Q1(u,f,v){var w=f.pendingProps,E=w.children,T=u!==null?u.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},at(nc,Yi),Yi|=v;else if(v&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=T!==null?T.baseLanes:v,at(nc,Yi),Yi|=w;else return u=T!==null?T.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,at(nc,Yi),Yi|=u,null;else T!==null?(w=T.baseLanes|v,f.memoizedState=null):w=v,at(nc,Yi),Yi|=w;return xi(u,f,E,v),f.child}function q1(u,f){var v=f.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Wv(u,f,v,w,E){var T=yn(v)?Ir:On.current;return T=gn(f,T),Yl(f,E),v=Nv(u,f,v,w,T,E),w=kv(),u!==null&&!Ji?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~E,Hs(u,f,E)):(tn&&w&&Tv(f),f.flags|=1,xi(u,f,v,E),f.child)}function Z1(u,f,v,w,E){if(yn(v)){var T=!0;Xl(f)}else T=!1;if(Yl(f,E),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f1(f,v,w),Cv(f,v,w,E),w=!0;else if(u===null){var W=f.stateNode,te=f.memoizedProps;W.props=te;var de=W.context,Be=v.contextType;typeof Be=="object"&&Be!==null?Be=lr(Be):(Be=yn(v)?Ir:On.current,Be=gn(f,Be));var Je=v.getDerivedStateFromProps,dt=typeof Je=="function"||typeof W.getSnapshotBeforeUpdate=="function";dt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(te!==w||de!==Be)&&d1(f,W,w,Be),Mo=!1;var et=f.memoizedState;W.state=et,Ud(f,w,W,E),de=f.memoizedState,te!==w||et!==de||bn.current||Mo?(typeof Je=="function"&&(Ev(f,v,Je,w),de=f.memoizedState),(te=Mo||h1(f,v,te,w,et,de,Be))?(dt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(f.flags|=4194308)):(typeof W.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=de),W.props=w,W.state=de,W.context=Be,w=te):(typeof W.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{W=f.stateNode,a1(u,f),te=f.memoizedProps,Be=f.type===f.elementType?te:Fr(f.type,te),W.props=Be,dt=f.pendingProps,et=W.context,de=v.contextType,typeof de=="object"&&de!==null?de=lr(de):(de=yn(v)?Ir:On.current,de=gn(f,de));var jt=v.getDerivedStateFromProps;(Je=typeof jt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(te!==dt||et!==de)&&d1(f,W,w,de),Mo=!1,et=f.memoizedState,W.state=et,Ud(f,w,W,E);var qe=f.memoizedState;te!==dt||et!==qe||bn.current||Mo?(typeof jt=="function"&&(Ev(f,v,jt,w),qe=f.memoizedState),(Be=Mo||h1(f,v,Be,w,et,qe,de)||!1)?(Je||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,qe,de),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,qe,de)),typeof W.componentDidUpdate=="function"&&(f.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof W.componentDidUpdate!="function"||te===u.memoizedProps&&et===u.memoizedState||(f.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&et===u.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=qe),W.props=w,W.state=qe,W.context=de,w=Be):(typeof W.componentDidUpdate!="function"||te===u.memoizedProps&&et===u.memoizedState||(f.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&et===u.memoizedState||(f.flags|=1024),w=!1)}return jv(u,f,v,w,T,E)}function jv(u,f,v,w,E,T){q1(u,f);var W=(f.flags&128)!==0;if(!w&&!W)return E&&Yu(f,v,!1),Hs(u,f,T);w=f.stateNode,gN.current=f;var te=W&&typeof v.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,u!==null&&W?(f.child=Zl(f,u.child,null,T),f.child=Zl(f,null,te,T)):xi(u,f,te,T),f.memoizedState=w.state,E&&Yu(f,v,!0),f.child}function $1(u){var f=u.stateNode;f.pendingContext?ii(u,f.pendingContext,f.pendingContext!==f.context):f.context&&ii(u,f.context,!1),Bv(u,f.containerInfo)}function eE(u,f,v,w,E){return ql(),Lv(E),f.flags|=256,xi(u,f,v,w),f.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(u){return{baseLanes:u,cachePool:null}}function tE(u,f,v){var w=f.pendingProps,E=ln.current,T=!1,W=(f.flags&128)!==0,te;if((te=W)||(te=u!==null&&u.memoizedState===null?!1:(E&2)!==0),te?(T=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),at(ln,E&1),u===null)return Rv(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?_o(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(E=w.children,u=w.fallback,T?(w=f.mode,T=f.child,E={mode:"hidden",children:E},!(w&1)&&T!==null?(T.childLanes=0,T.pendingProps=E):T=Ap(E,w,0,null),u=ka(u,w,v,null),T.return=f,u.return=f,T.sibling=u,f.child=T,f.child.memoizedState=tp(v),f.memoizedState=ep,u):Xv(f,E));if(E=u.memoizedState,E!==null){if(te=E.dehydrated,te!==null){if(W)return f.flags&256?(f.flags&=-257,np(u,f,v,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(T=w.fallback,E=f.mode,w=Ap({mode:"visible",children:w.children},E,0,null),T=ka(T,E,v,null),T.flags|=2,w.return=f,T.return=f,w.sibling=T,f.child=w,f.mode&1&&Zl(f,u.child,null,v),f.child.memoizedState=tp(v),f.memoizedState=ep,T);if(!(f.mode&1))f=np(u,f,v,null);else if(_o(te))f=np(u,f,v,Error(o(419)));else if(w=(v&u.childLanes)!==0,Ji||w){if(w=Pn,w!==null){switch(v&-v){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}w=T&(w.suspendedLanes|v)?0:T,w!==0&&w!==E.retryLane&&(E.retryLane=w,dr(u,w,-1))}f0(),f=np(u,f,v,Error(o(421)))}else Td(te)?(f.flags|=128,f.child=u.child,f=PN.bind(null,u),bd(te,f),f=null):(v=E.treeContext,xe&&(Xi=hv(te),ji=f,tn=!0,Or=null,qu=!1,v!==null&&(cr[ur++]=ks,cr[ur++]=Us,cr[ur++]=Ra,ks=v.id,Us=v.overflow,Ra=f)),f=Xv(f,f.pendingProps.children),f.flags|=4096);return f}return T?(w=iE(u,f,w.children,w.fallback,v),T=f.child,E=u.child.memoizedState,T.memoizedState=E===null?tp(v):{baseLanes:E.baseLanes|v,cachePool:null},T.childLanes=u.childLanes&~v,f.memoizedState=ep,w):(v=nE(u,f,w.children,v),f.memoizedState=null,v)}return T?(w=iE(u,f,w.children,w.fallback,v),T=f.child,E=u.child.memoizedState,T.memoizedState=E===null?tp(v):{baseLanes:E.baseLanes|v,cachePool:null},T.childLanes=u.childLanes&~v,f.memoizedState=ep,w):(v=nE(u,f,w.children,v),f.memoizedState=null,v)}function Xv(u,f){return f=Ap({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function nE(u,f,v,w){var E=u.child;return u=E.sibling,v=bo(E,{mode:"visible",children:v}),!(f.mode&1)&&(v.lanes=w),v.return=f,v.sibling=null,u!==null&&(w=f.deletions,w===null?(f.deletions=[u],f.flags|=16):w.push(u)),f.child=v}function iE(u,f,v,w,E){var T=f.mode;u=u.child;var W=u.sibling,te={mode:"hidden",children:v};return!(T&1)&&f.child!==u?(v=f.child,v.childLanes=0,v.pendingProps=te,f.deletions=null):(v=bo(u,te),v.subtreeFlags=u.subtreeFlags&14680064),W!==null?w=bo(W,w):(w=ka(w,T,E,null),w.flags|=2),w.return=f,v.return=f,v.sibling=w,f.child=v,w}function np(u,f,v,w){return w!==null&&Lv(w),Zl(f,u.child,null,v),u=Xv(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function rE(u,f,v){u.lanes|=f;var w=u.alternate;w!==null&&(w.lanes|=f),wv(u.return,f,v)}function Jv(u,f,v,w,E){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:E}:(T.isBackwards=f,T.rendering=null,T.renderingStartTime=0,T.last=w,T.tail=v,T.tailMode=E)}function sE(u,f,v){var w=f.pendingProps,E=w.revealOrder,T=w.tail;if(xi(u,f,w.children,v),w=ln.current,w&2)w=w&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&rE(u,v,f);else if(u.tag===19)rE(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(at(ln,w),!(f.mode&1))f.memoizedState=null;else switch(E){case"forwards":for(v=f.child,E=null;v!==null;)u=v.alternate,u!==null&&Wd(u)===null&&(E=v),v=v.sibling;v=E,v===null?(E=f.child,f.child=null):(E=v.sibling,v.sibling=null),Jv(f,!1,E,v,T);break;case"backwards":for(v=null,E=f.child,f.child=null;E!==null;){if(u=E.alternate,u!==null&&Wd(u)===null){f.child=E;break}u=E.sibling,E.sibling=v,v=E,E=u}Jv(f,!0,v,null,T);break;case"together":Jv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Hs(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),ic|=f.lanes,!(v&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,v=bo(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=bo(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function yN(u,f,v){switch(f.tag){case 3:$1(f),ql();break;case 5:A1(f);break;case 1:yn(f.type)&&Xl(f);break;case 4:Bv(f,f.stateNode.containerInfo);break;case 10:o1(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(at(ln,ln.current&1),f.flags|=128,null):v&f.child.childLanes?tE(u,f,v):(at(ln,ln.current&1),u=Hs(u,f,v),u!==null?u.sibling:null);at(ln,ln.current&1);break;case 19:if(w=(v&f.childLanes)!==0,u.flags&128){if(w)return sE(u,f,v);f.flags|=128}var E=f.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),at(ln,ln.current),w)break;return null;case 22:case 23:return f.lanes=0,Q1(u,f,v)}return Hs(u,f,v)}function vN(u,f){switch(bv(f),f.tag){case 1:return yn(f.type)&&Ao(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return ec(),Ut(bn),Ut(On),Fv(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return Iv(f),null;case 13:if(Ut(ln),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));ql()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Ut(ln),null;case 4:return ec(),null;case 10:return Mv(f.type._context),null;case 22:case 23:return h0(),null;case 24:return null;default:return null}}var ip=!1,Ia=!1,xN=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function rp(u,f){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Ii(u,f,w)}else v.current=null}function Yv(u,f,v){try{v()}catch(w){Ii(u,f,w)}}var oE=!1;function _N(u,f){for(O(u.containerInfo),Ue=f;Ue!==null;)if(u=Ue,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Ue=f;else for(;Ue!==null;){u=Ue;try{var v=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,E=v.memoizedState,T=u.stateNode,W=T.getSnapshotBeforeUpdate(u.elementType===u.type?w:Fr(u.type,w),E);T.__reactInternalSnapshotBeforeUpdate=W}break;case 3:we&&Te(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){Ii(u,u.return,te)}if(f=u.sibling,f!==null){f.return=u.return,Ue=f;break}Ue=u.return}return v=oE,oE=!1,v}function Da(u,f,v){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var E=w=w.next;do{if((E.tag&u)===u){var T=E.destroy;E.destroy=void 0,T!==void 0&&Yv(f,v,T)}E=E.next}while(E!==w)}}function ch(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&u)===u){var w=v.create;v.destroy=w()}v=v.next}while(v!==f)}}function Kv(u){var f=u.ref;if(f!==null){var v=u.stateNode;switch(u.tag){case 5:u=z(v);break;default:u=v}typeof f=="function"?f(u):f.current=u}}function aE(u,f,v){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(Id,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var w=u=u.next;do{var E=w,T=E.destroy;E=E.tag,T!==void 0&&(E&2||E&4)&&Yv(f,v,T),w=w.next}while(w!==u)}break;case 1:if(rp(f,v),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(W){Ii(f,v,W)}break;case 5:rp(f,v);break;case 4:we?dE(u,f,v):Q&&Q&&(f=f.stateNode.containerInfo,v=bt(f),Br(f,v))}}function lE(u,f,v){for(var w=f;;)if(aE(u,w,v),w.child===null||we&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function cE(u){var f=u.alternate;f!==null&&(u.alternate=null,cE(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&We(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function uE(u){return u.tag===5||u.tag===3||u.tag===4}function hE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||uE(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function fE(u){if(we){e:{for(var f=u.return;f!==null;){if(uE(f))break e;f=f.return}throw Error(o(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(rt(f),v.flags&=-33),v=hE(u),qv(u,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=hE(u),Qv(u,v,f);break;default:throw Error(o(161))}}}function Qv(u,f,v){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?Me(v,u,f):Ye(v,u);else if(w!==4&&(u=u.child,u!==null))for(Qv(u,f,v),u=u.sibling;u!==null;)Qv(u,f,v),u=u.sibling}function qv(u,f,v){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?fe(v,u,f):Re(v,u);else if(w!==4&&(u=u.child,u!==null))for(qv(u,f,v),u=u.sibling;u!==null;)qv(u,f,v),u=u.sibling}function dE(u,f,v){for(var w=f,E=!1,T,W;;){if(!E){E=w.return;e:for(;;){if(E===null)throw Error(o(160));switch(T=E.stateNode,E.tag){case 5:W=!1;break e;case 3:T=T.containerInfo,W=!0;break e;case 4:T=T.containerInfo,W=!0;break e}E=E.return}E=!0}if(w.tag===5||w.tag===6)lE(u,w,v),W?De(T,w.stateNode):Pe(T,w.stateNode);else if(w.tag===18)W?$e(T,w.stateNode):Xe(T,w.stateNode);else if(w.tag===4){if(w.child!==null){T=w.stateNode.containerInfo,W=!0,w.child.return=w,w=w.child;continue}}else if(aE(u,w,v),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(E=!1)}w.sibling.return=w.return,w=w.sibling}}function Zv(u,f){if(we){switch(f.tag){case 0:case 11:case 14:case 15:Da(3,f,f.return),ch(3,f),Da(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var w=f.memoizedProps;u=u!==null?u.memoizedProps:w;var E=f.type,T=f.updateQueue;f.updateQueue=null,T!==null&&Z(v,T,E,u,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));v=f.memoizedProps,Le(f.stateNode,u!==null?u.memoizedProps:v,v);return;case 3:xe&&u!==null&&u.memoizedState.isDehydrated&&ie(f.stateNode.containerInfo);return;case 12:return;case 13:sp(f);return;case 19:sp(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:Da(3,f,f.return),ch(3,f),Da(5,f,f.return);return;case 12:return;case 13:sp(f);return;case 19:sp(f);return;case 3:xe&&u!==null&&u.memoizedState.isDehydrated&&ie(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(Q){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Br(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function sp(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new xN),f.forEach(function(w){var E=RN.bind(null,u,w);v.has(w)||(v.add(w),w.then(E,E))})}}function AN(u,f){for(Ue=f;Ue!==null;){f=Ue;var v=f.deletions;if(v!==null)for(var w=0;w<v.length;w++){var E=v[w];try{var T=u;we?dE(T,E,f):lE(T,E,f);var W=E.alternate;W!==null&&(W.return=null),E.return=null}catch(Qe){Ii(E,f,Qe)}}if(v=f.child,f.subtreeFlags&12854&&v!==null)v.return=f,Ue=v;else for(;Ue!==null;){f=Ue;try{var te=f.flags;if(te&32&&we&&rt(f.stateNode),te&512){var de=f.alternate;if(de!==null){var Be=de.ref;Be!==null&&(typeof Be=="function"?Be(null):Be.current=null)}}if(te&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Je=f.alternate;(Je===null||Je.memoizedState===null)&&(s0=Gn())}break;case 22:var dt=f.memoizedState!==null,et=f.alternate,jt=et!==null&&et.memoizedState!==null;if(v=f,we){e:if(w=v,E=dt,T=null,we)for(var qe=w;;){if(qe.tag===5){if(T===null){T=qe;var ai=qe.stateNode;E?Et(ai):Fe(qe.stateNode,qe.memoizedProps)}}else if(qe.tag===6){if(T===null){var mr=qe.stateNode;E?ee(mr):ae(mr,qe.memoizedProps)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===w)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===w)break;for(;qe.sibling===null;){if(qe.return===null||qe.return===w)break e;T===qe&&(T=null),qe=qe.return}T===qe&&(T=null),qe.sibling.return=qe.return,qe=qe.sibling}}if(dt&&!jt&&v.mode&1){Ue=v;for(var se=v.child;se!==null;){for(v=Ue=se;Ue!==null;){w=Ue;var ne=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Da(4,w,w.return);break;case 1:rp(w,w.return);var ue=w.stateNode;if(typeof ue.componentWillUnmount=="function"){var He=w.return;try{ue.props=w.memoizedProps,ue.state=w.memoizedState,ue.componentWillUnmount()}catch(Qe){Ii(w,He,Qe)}}break;case 5:rp(w,w.return);break;case 22:if(w.memoizedState!==null){gE(v);continue}}ne!==null?(ne.return=w,Ue=ne):gE(v)}se=se.sibling}}}switch(te&4102){case 2:fE(f),f.flags&=-3;break;case 6:fE(f),f.flags&=-3,Zv(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Zv(f.alternate,f);break;case 4:Zv(f.alternate,f)}}catch(Qe){Ii(f,f.return,Qe)}if(v=f.sibling,v!==null){v.return=f.return,Ue=v;break}Ue=f.return}}}function MN(u,f,v){Ue=u,pE(u)}function pE(u,f,v){for(var w=(u.mode&1)!==0;Ue!==null;){var E=Ue,T=E.child;if(E.tag===22&&w){var W=E.memoizedState!==null||ip;if(!W){var te=E.alternate,de=te!==null&&te.memoizedState!==null||Ia;te=ip;var Be=Ia;if(ip=W,(Ia=de)&&!Be)for(Ue=E;Ue!==null;)W=Ue,de=W.child,W.tag===22&&W.memoizedState!==null?yE(E):de!==null?(de.return=W,Ue=de):yE(E);for(;T!==null;)Ue=T,pE(T),T=T.sibling;Ue=E,ip=te,Ia=Be}mE(u)}else E.subtreeFlags&8772&&T!==null?(T.return=E,Ue=T):mE(u)}}function mE(u){for(;Ue!==null;){var f=Ue;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ia||ch(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!Ia)if(v===null)w.componentDidMount();else{var E=f.elementType===f.type?v.memoizedProps:Fr(f.type,v.memoizedProps);w.componentDidUpdate(E,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var T=f.updateQueue;T!==null&&c1(f,T,w);break;case 3:var W=f.updateQueue;if(W!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=z(f.child.stateNode);break;case 1:v=f.child.stateNode}c1(f,W,v)}break;case 5:var te=f.stateNode;v===null&&f.flags&4&&ce(te,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(xe&&f.memoizedState===null){var de=f.alternate;if(de!==null){var Be=de.memoizedState;if(Be!==null){var Je=Be.dehydrated;Je!==null&&pe(Je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ia||f.flags&512&&Kv(f)}catch(dt){Ii(f,f.return,dt)}}if(f===u){Ue=null;break}if(v=f.sibling,v!==null){v.return=f.return,Ue=v;break}Ue=f.return}}function gE(u){for(;Ue!==null;){var f=Ue;if(f===u){Ue=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Ue=v;break}Ue=f.return}}function yE(u){for(;Ue!==null;){var f=Ue;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{ch(4,f)}catch(de){Ii(f,v,de)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var E=f.return;try{w.componentDidMount()}catch(de){Ii(f,E,de)}}var T=f.return;try{Kv(f)}catch(de){Ii(f,T,de)}break;case 5:var W=f.return;try{Kv(f)}catch(de){Ii(f,W,de)}}}catch(de){Ii(f,f.return,de)}if(f===u){Ue=null;break}var te=f.sibling;if(te!==null){te.return=f.return,Ue=te;break}Ue=f.return}}var op=0,ap=1,lp=2,cp=3,up=4;if(typeof Symbol=="function"&&Symbol.for){var uh=Symbol.for;op=uh("selector.component"),ap=uh("selector.has_pseudo_class"),lp=uh("selector.role"),cp=uh("selector.test_id"),up=uh("selector.text")}function $v(u){var f=ge(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=yt(u),u===null)throw Error(o(362));return u.stateNode.current}function e0(u,f){switch(f.$$typeof){case op:if(u.type===f.value)return!0;break;case ap:e:{f=f.value,u=[u,0];for(var v=0;v<u.length;){var w=u[v++],E=u[v++],T=f[E];if(w.tag!==5||!D(w)){for(;T!=null&&e0(w,T);)E++,T=f[E];if(E===f.length){f=!0;break e}else for(w=w.child;w!==null;)u.push(w,E),w=w.sibling}}f=!1}return f;case lp:if(u.tag===5&&oe(u.stateNode,f.value))return!0;break;case up:if((u.tag===5||u.tag===6)&&(u=j(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case cp:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function t0(u){switch(u.$$typeof){case op:return"<"+(R(u.value)||"Unknown")+">";case ap:return":has("+(t0(u)||"")+")";case lp:return'[role="'+u.value+'"]';case up:return'"'+u.value+'"';case cp:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function vE(u,f){var v=[];u=[u,0];for(var w=0;w<u.length;){var E=u[w++],T=u[w++],W=f[T];if(E.tag!==5||!D(E)){for(;W!=null&&e0(E,W);)T++,W=f[T];if(T===f.length)v.push(E);else for(E=E.child;E!==null;)u.push(E,T),E=E.sibling}}return v}function n0(u,f){if(!Ze)throw Error(o(363));u=$v(u),u=vE(u,f),f=[],u=Array.from(u);for(var v=0;v<u.length;){var w=u[v++];if(w.tag===5)D(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)u.push(w),w=w.sibling}return f}var wN=Math.ceil,hp=a.ReactCurrentDispatcher,i0=a.ReactCurrentOwner,Sn=a.ReactCurrentBatchConfig,St=0,Pn=null,Rn=null,qn=0,Yi=0,nc=ht(0),Nn=0,hh=null,ic=0,fp=0,r0=0,fh=null,Li=null,s0=0,o0=1/0;function rc(){o0=Gn()+500}var dp=!1,a0=null,So=null,pp=!1,Eo=null,mp=0,dh=0,l0=null,gp=-1,yp=0;function _i(){return St&6?Gn():gp!==-1?gp:gp=Gn()}function Co(u){return u.mode&1?St&2&&qn!==0?qn&-qn:sN.transition!==null?(yp===0&&(u=Rd,Rd<<=1,!(Rd&4194240)&&(Rd=64),yp=u),yp):(u=It,u!==0?u:_e()):1}function dr(u,f,v){if(50<dh)throw dh=0,l0=null,Error(o(185));var w=vp(u,f);return w===null?null:(Qu(w,f,v),(!(St&2)||w!==Pn)&&(w===Pn&&(!(St&2)&&(fp|=f),Nn===4&&To(w,qn)),Bi(w,v),f===1&&St===0&&!(u.mode&1)&&(rc(),Dd&&us())),w)}function vp(u,f){u.lanes|=f;var v=u.alternate;for(v!==null&&(v.lanes|=f),v=u,u=u.return;u!==null;)u.childLanes|=f,v=u.alternate,v!==null&&(v.childLanes|=f),v=u,u=u.return;return v.tag===3?v.stateNode:null}function Bi(u,f){var v=u.callbackNode;QO(u,f);var w=Bd(u,u===Pn?qn:0);if(w===0)v!==null&&r1(v),u.callbackNode=null,u.callbackPriority=0;else if(f=w&-w,u.callbackPriority!==f){if(v!=null&&r1(v),f===1)u.tag===0?rN(_E.bind(null,u)):s1(_E.bind(null,u)),ke?Ge(function(){St===0&&us()}):gv(yv,us),v=null;else{switch(i1(w)){case 1:v=yv;break;case 4:v=eN;break;case 16:v=vv;break;case 536870912:v=tN;break;default:v=vv}v=PE(v,xE.bind(null,u))}u.callbackPriority=f,u.callbackNode=v}}function xE(u,f){if(gp=-1,yp=0,St&6)throw Error(o(327));var v=u.callbackNode;if(Na()&&u.callbackNode!==v)return null;var w=Bd(u,u===Pn?qn:0);if(w===0)return null;if(w&30||w&u.expiredLanes||f)f=xp(u,w);else{f=w;var E=St;St|=2;var T=wE();(Pn!==u||qn!==f)&&(rc(),Fa(u,f));do try{CN();break}catch(te){ME(u,te)}while(1);Av(),hp.current=T,St=E,Rn!==null?f=0:(Pn=null,qn=0,f=Nn)}if(f!==0){if(f===2&&(E=dv(u),E!==0&&(w=E,f=c0(u,E))),f===1)throw v=hh,Fa(u,0),To(u,w),Bi(u,Gn()),v;if(f===6)To(u,w);else{if(E=u.current.alternate,!(w&30)&&!SN(E)&&(f=xp(u,w),f===2&&(T=dv(u),T!==0&&(w=T,f=c0(u,T))),f===1))throw v=hh,Fa(u,0),To(u,w),Bi(u,Gn()),v;switch(u.finishedWork=E,u.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:Oa(u,Li);break;case 3:if(To(u,w),(w&130023424)===w&&(f=s0+500-Gn(),10<f)){if(Bd(u,0)!==0)break;if(E=u.suspendedLanes,(E&w)!==w){_i(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=Ie(Oa.bind(null,u,Li),f);break}Oa(u,Li);break;case 4:if(To(u,w),(w&4194240)===w)break;for(f=u.eventTimes,E=-1;0<w;){var W=31-Dr(w);T=1<<W,W=f[W],W>E&&(E=W),w&=~T}if(w=E,w=Gn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*wN(w/1960))-w,10<w){u.timeoutHandle=Ie(Oa.bind(null,u,Li),w);break}Oa(u,Li);break;case 5:Oa(u,Li);break;default:throw Error(o(329))}}}return Bi(u,Gn()),u.callbackNode===v?xE.bind(null,u):null}function c0(u,f){var v=fh;return u.current.memoizedState.isDehydrated&&(Fa(u,f).flags|=256),u=xp(u,f),u!==2&&(f=Li,Li=v,f!==null&&u0(f)),u}function u0(u){Li===null?Li=u:Li.push.apply(Li,u)}function SN(u){for(var f=u;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var E=v[w],T=E.getSnapshot;E=E.value;try{if(!cs(T(),E))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function To(u,f){for(f&=~r0,f&=~fp,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var v=31-Dr(f),w=1<<v;u[v]=-1,f&=~w}}function _E(u){if(St&6)throw Error(o(327));Na();var f=Bd(u,0);if(!(f&1))return Bi(u,Gn()),null;var v=xp(u,f);if(u.tag!==0&&v===2){var w=dv(u);w!==0&&(f=w,v=c0(u,w))}if(v===1)throw v=hh,Fa(u,0),To(u,f),Bi(u,Gn()),v;if(v===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Oa(u,Li),Bi(u,Gn()),null}function AE(u){Eo!==null&&Eo.tag===0&&!(St&6)&&Na();var f=St;St|=1;var v=Sn.transition,w=It;try{if(Sn.transition=null,It=1,u)return u()}finally{It=w,Sn.transition=v,St=f,!(St&6)&&us()}}function h0(){Yi=nc.current,Ut(nc)}function Fa(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==ut&&(u.timeoutHandle=ut,Ve(v)),Rn!==null)for(v=Rn.return;v!==null;){var w=v;switch(bv(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ao();break;case 3:ec(),Ut(bn),Ut(On),Fv();break;case 5:Iv(w);break;case 4:ec();break;case 13:Ut(ln);break;case 19:Ut(ln);break;case 10:Mv(w.type._context);break;case 22:case 23:h0()}v=v.return}if(Pn=u,Rn=u=bo(u.current,null),qn=Yi=f,Nn=0,hh=null,r0=fp=ic=0,Li=fh=null,hs!==null){for(f=0;f<hs.length;f++)if(v=hs[f],w=v.interleaved,w!==null){v.interleaved=null;var E=w.next,T=v.pending;if(T!==null){var W=T.next;T.next=E,w.next=W}v.pending=w}hs=null}return u}function ME(u,f){do{var v=Rn;try{if(Av(),jd.current=qd,Xd){for(var w=vn.memoizedState;w!==null;){var E=w.queue;E!==null&&(E.pending=null),w=w.next}Xd=!1}if(tc=0,Vn=ri=vn=null,nh=!1,ih=0,i0.current=null,v===null||v.return===null){Nn=1,hh=f,Rn=null;break}e:{var T=u,W=v.return,te=v,de=f;if(f=qn,te.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Be=de,Je=te,dt=Je.tag;if(!(Je.mode&1)&&(dt===0||dt===11||dt===15)){var et=Je.alternate;et?(Je.updateQueue=et.updateQueue,Je.memoizedState=et.memoizedState,Je.lanes=et.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var jt=V1(W);if(jt!==null){jt.flags&=-257,W1(jt,W,te,T,f),jt.mode&1&&G1(T,Be,f),f=jt,de=Be;var qe=f.updateQueue;if(qe===null){var ai=new Set;ai.add(de),f.updateQueue=ai}else qe.add(de);break e}else{if(!(f&1)){G1(T,Be,f),f0();break e}de=Error(o(426))}}else if(tn&&te.mode&1){var mr=V1(W);if(mr!==null){!(mr.flags&65536)&&(mr.flags|=256),W1(mr,W,te,T,f),Lv(de);break e}}T=de,Nn!==4&&(Nn=2),fh===null?fh=[T]:fh.push(T),de=Gv(de,te),te=W;do{switch(te.tag){case 3:te.flags|=65536,f&=-f,te.lanes|=f;var se=z1(te,de,f);l1(te,se);break e;case 1:T=de;var ne=te.type,ue=te.stateNode;if(!(te.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(So===null||!So.has(ue)))){te.flags|=65536,f&=-f,te.lanes|=f;var He=H1(te,T,f);l1(te,He);break e}}te=te.return}while(te!==null)}EE(v)}catch(Qe){f=Qe,Rn===v&&v!==null&&(Rn=v=v.return);continue}break}while(1)}function wE(){var u=hp.current;return hp.current=qd,u===null?qd:u}function f0(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Pn===null||!(ic&268435455)&&!(fp&268435455)||To(Pn,qn)}function xp(u,f){var v=St;St|=2;var w=wE();Pn===u&&qn===f||Fa(u,f);do try{EN();break}catch(E){ME(u,E)}while(1);if(Av(),St=v,hp.current=w,Rn!==null)throw Error(o(261));return Pn=null,qn=0,Nn}function EN(){for(;Rn!==null;)SE(Rn)}function CN(){for(;Rn!==null&&!ZO();)SE(Rn)}function SE(u){var f=bE(u.alternate,u,Yi);u.memoizedProps=u.pendingProps,f===null?EE(u):Rn=f,i0.current=null}function EE(u){var f=u;do{var v=f.alternate;if(u=f.return,f.flags&32768){if(v=vN(v,f),v!==null){v.flags&=32767,Rn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Nn=6,Rn=null;return}}else if(v=mN(v,f,Yi),v!==null){Rn=v;return}if(f=f.sibling,f!==null){Rn=f;return}Rn=f=u}while(f!==null);Nn===0&&(Nn=5)}function Oa(u,f){var v=It,w=Sn.transition;try{Sn.transition=null,It=1,TN(u,f,v)}finally{Sn.transition=w,It=v}return null}function TN(u,f,v){do Na();while(Eo!==null);if(St&6)throw Error(o(327));var w=u.finishedWork,E=u.finishedLanes;if(w===null)return null;if(u.finishedWork=null,u.finishedLanes=0,w===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var T=w.lanes|w.childLanes;if(qO(u,T),u===Pn&&(Rn=Pn=null,qn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||pp||(pp=!0,PE(vv,function(){return Na(),null})),T=(w.flags&15990)!==0,w.subtreeFlags&15990||T){T=Sn.transition,Sn.transition=null;var W=It;It=1;var te=St;St|=4,i0.current=null,_N(u,w),AN(u,w),H(u.containerInfo),u.current=w,MN(w),$O(),St=te,It=W,Sn.transition=T}else u.current=w;if(pp&&(pp=!1,Eo=u,mp=E),T=u.pendingLanes,T===0&&(So=null),nN(w.stateNode),Bi(u,Gn()),f!==null)for(v=u.onRecoverableError,w=0;w<f.length;w++)v(f[w]);if(dp)throw dp=!1,u=a0,a0=null,u;return mp&1&&u.tag!==0&&Na(),T=u.pendingLanes,T&1?u===l0?dh++:(dh=0,l0=u):dh=0,us(),null}function Na(){if(Eo!==null){var u=i1(mp),f=Sn.transition,v=It;try{if(Sn.transition=null,It=16>u?16:u,Eo===null)var w=!1;else{if(u=Eo,Eo=null,mp=0,St&6)throw Error(o(331));var E=St;for(St|=4,Ue=u.current;Ue!==null;){var T=Ue,W=T.child;if(Ue.flags&16){var te=T.deletions;if(te!==null){for(var de=0;de<te.length;de++){var Be=te[de];for(Ue=Be;Ue!==null;){var Je=Ue;switch(Je.tag){case 0:case 11:case 15:Da(8,Je,T)}var dt=Je.child;if(dt!==null)dt.return=Je,Ue=dt;else for(;Ue!==null;){Je=Ue;var et=Je.sibling,jt=Je.return;if(cE(Je),Je===Be){Ue=null;break}if(et!==null){et.return=jt,Ue=et;break}Ue=jt}}}var qe=T.alternate;if(qe!==null){var ai=qe.child;if(ai!==null){qe.child=null;do{var mr=ai.sibling;ai.sibling=null,ai=mr}while(ai!==null)}}Ue=T}}if(T.subtreeFlags&2064&&W!==null)W.return=T,Ue=W;else e:for(;Ue!==null;){if(T=Ue,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Da(9,T,T.return)}var se=T.sibling;if(se!==null){se.return=T.return,Ue=se;break e}Ue=T.return}}var ne=u.current;for(Ue=ne;Ue!==null;){W=Ue;var ue=W.child;if(W.subtreeFlags&2064&&ue!==null)ue.return=W,Ue=ue;else e:for(W=ne;Ue!==null;){if(te=Ue,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:ch(9,te)}}catch(Qe){Ii(te,te.return,Qe)}if(te===W){Ue=null;break e}var He=te.sibling;if(He!==null){He.return=te.return,Ue=He;break e}Ue=te.return}}if(St=E,us(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(Id,u)}catch{}w=!0}return w}finally{It=v,Sn.transition=f}}return!1}function CE(u,f,v){f=Gv(v,f),f=z1(u,f,1),wo(u,f),f=_i(),u=vp(u,1),u!==null&&(Qu(u,1,f),Bi(u,f))}function Ii(u,f,v){if(u.tag===3)CE(u,u,v);else for(;f!==null;){if(f.tag===3){CE(f,u,v);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(So===null||!So.has(w))){u=Gv(v,u),u=H1(f,u,1),wo(f,u),u=_i(),f=vp(f,1),f!==null&&(Qu(f,1,u),Bi(f,u));break}}f=f.return}}function bN(u,f,v){var w=u.pingCache;w!==null&&w.delete(f),f=_i(),u.pingedLanes|=u.suspendedLanes&v,Pn===u&&(qn&v)===v&&(Nn===4||Nn===3&&(qn&130023424)===qn&&500>Gn()-s0?Fa(u,0):r0|=v),Bi(u,f)}function TE(u,f){f===0&&(u.mode&1?(f=Ld,Ld<<=1,!(Ld&130023424)&&(Ld=4194304)):f=1);var v=_i();u=vp(u,f),u!==null&&(Qu(u,f,v),Bi(u,v))}function PN(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),TE(u,v)}function RN(u,f){var v=0;switch(u.tag){case 13:var w=u.stateNode,E=u.memoizedState;E!==null&&(v=E.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),TE(u,v)}var bE;bE=function(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps||bn.current)Ji=!0;else{if(!(u.lanes&v)&&!(f.flags&128))return Ji=!1,yN(u,f,v);Ji=!!(u.flags&131072)}else Ji=!1,tn&&f.flags&1048576&&p1(f,Gd,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var E=gn(f,On.current);Yl(f,v),E=Nv(null,f,w,u,E,v);var T=kv();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,yn(w)?(T=!0,Xl(f)):T=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Sv(f),E.updater=zd,f.stateNode=E,E._reactInternals=f,Cv(f,w,u,v),f=jv(null,f,w,!0,T,v)):(f.tag=0,tn&&T&&Tv(f),xi(null,f,E,v),f=f.child),f;case 16:w=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,E=w._init,w=E(w._payload),f.type=w,E=f.tag=BN(w),u=Fr(w,u),E){case 0:f=Wv(null,f,w,u,v);break e;case 1:f=Z1(null,f,w,u,v);break e;case 11:f=J1(null,f,w,u,v);break e;case 14:f=Y1(null,f,w,Fr(w.type,u),v);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Fr(w,E),Wv(u,f,w,E,v);case 1:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Fr(w,E),Z1(u,f,w,E,v);case 3:e:{if($1(f),u===null)throw Error(o(387));w=f.pendingProps,T=f.memoizedState,E=T.element,a1(u,f),Ud(f,w,null,v);var W=f.memoizedState;if(w=W.element,xe&&T.isDehydrated)if(T={element:w,isDehydrated:!1,cache:W.cache,transitions:W.transitions},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){E=Error(o(423)),f=eE(u,f,w,v,E);break e}else if(w!==E){E=Error(o(424)),f=eE(u,f,w,v,E);break e}else for(xe&&(Xi=uv(f.stateNode.containerInfo),ji=f,tn=!0,Or=null,qu=!1),v=_1(f,null,w,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(ql(),w===E){f=Hs(u,f,v);break e}xi(u,f,w,v)}f=f.child}return f;case 5:return A1(f),u===null&&Rv(f),w=f.type,E=f.pendingProps,T=u!==null?u.memoizedProps:null,W=E.children,ve(w,E)?W=null:T!==null&&ve(w,T)&&(f.flags|=32),q1(u,f),xi(u,f,W,v),f.child;case 6:return u===null&&Rv(f),null;case 13:return tE(u,f,v);case 4:return Bv(f,f.stateNode.containerInfo),w=f.pendingProps,u===null?f.child=Zl(f,null,w,v):xi(u,f,w,v),f.child;case 11:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Fr(w,E),J1(u,f,w,E,v);case 7:return xi(u,f,f.pendingProps,v),f.child;case 8:return xi(u,f,f.pendingProps.children,v),f.child;case 12:return xi(u,f,f.pendingProps.children,v),f.child;case 10:e:{if(w=f.type._context,E=f.pendingProps,T=f.memoizedProps,W=E.value,o1(f,w,W),T!==null)if(cs(T.value,W)){if(T.children===E.children&&!bn.current){f=Hs(u,f,v);break e}}else for(T=f.child,T!==null&&(T.return=f);T!==null;){var te=T.dependencies;if(te!==null){W=T.child;for(var de=te.firstContext;de!==null;){if(de.context===w){if(T.tag===1){de=Ns(-1,v&-v),de.tag=2;var Be=T.updateQueue;if(Be!==null){Be=Be.shared;var Je=Be.pending;Je===null?de.next=de:(de.next=Je.next,Je.next=de),Be.pending=de}}T.lanes|=v,de=T.alternate,de!==null&&(de.lanes|=v),wv(T.return,v,f),te.lanes|=v;break}de=de.next}}else if(T.tag===10)W=T.type===f.type?null:T.child;else if(T.tag===18){if(W=T.return,W===null)throw Error(o(341));W.lanes|=v,te=W.alternate,te!==null&&(te.lanes|=v),wv(W,v,f),W=T.sibling}else W=T.child;if(W!==null)W.return=T;else for(W=T;W!==null;){if(W===f){W=null;break}if(T=W.sibling,T!==null){T.return=W.return,W=T;break}W=W.return}T=W}xi(u,f,E.children,v),f=f.child}return f;case 9:return E=f.type,w=f.pendingProps.children,Yl(f,v),E=lr(E),w=w(E),f.flags|=1,xi(u,f,w,v),f.child;case 14:return w=f.type,E=Fr(w,f.pendingProps),E=Fr(w.type,E),Y1(u,f,w,E,v);case 15:return K1(u,f,f.type,f.pendingProps,v);case 17:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Fr(w,E),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,yn(w)?(u=!0,Xl(f)):u=!1,Yl(f,v),f1(f,w,E),Cv(f,w,E,v),jv(null,f,w,!0,u,v);case 19:return sE(u,f,v);case 22:return Q1(u,f,v)}throw Error(o(156,f.tag))};function PE(u,f){return gv(u,f)}function LN(u,f,v,w){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(u,f,v,w){return new LN(u,f,v,w)}function d0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function BN(u){if(typeof u=="function")return d0(u)?1:0;if(u!=null){if(u=u.$$typeof,u===_)return 11;if(u===A)return 14}return 2}function bo(u,f){var v=u.alternate;return v===null?(v=pr(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function _p(u,f,v,w,E,T){var W=2;if(w=u,typeof u=="function")d0(u)&&(W=1);else if(typeof u=="string")W=5;else e:switch(u){case h:return ka(v.children,E,T,f);case d:W=8,E|=8;break;case p:return u=pr(12,v,f,E|2),u.elementType=p,u.lanes=T,u;case x:return u=pr(13,v,f,E),u.elementType=x,u.lanes=T,u;case g:return u=pr(19,v,f,E),u.elementType=g,u.lanes=T,u;case S:return Ap(v,E,T,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:W=10;break e;case y:W=9;break e;case _:W=11;break e;case A:W=14;break e;case M:W=16,w=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=pr(W,v,f,E),f.elementType=u,f.type=w,f.lanes=T,f}function ka(u,f,v,w){return u=pr(7,u,w,f),u.lanes=v,u}function Ap(u,f,v,w){return u=pr(22,u,w,f),u.elementType=S,u.lanes=v,u.stateNode={},u}function p0(u,f,v){return u=pr(6,u,null,f),u.lanes=v,u}function m0(u,f,v){return f=pr(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function IN(u,f,v,w,E){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ut,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pv(0),this.expirationTimes=pv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pv(0),this.identifierPrefix=w,this.onRecoverableError=E,xe&&(this.mutableSourceEagerHydrationData=null)}function RE(u,f,v,w,E,T,W,te,de){return u=new IN(u,f,v,te,de),f===1?(f=1,T===!0&&(f|=8)):f=0,T=pr(3,null,null,f),u.current=T,T.stateNode=u,T.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null},Sv(T),u}function LE(u){if(!u)return ni;u=u._reactInternals;e:{if(b(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(yn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var v=u.type;if(yn(v))return jl(u,v,f)}return f}function BE(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=$(f),u===null?null:u.stateNode}function IE(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function g0(u,f){IE(u,f),(u=u.alternate)&&IE(u,f)}function DN(u){return u=$(u),u===null?null:u.stateNode}function FN(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=_i();dr(u,134217728,f),g0(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=_i(),v=Co(u);dr(u,v,f),g0(u,v)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var v=Ku(f.pendingLanes);v!==0&&(mv(f,v|1),Bi(f,Gn()),!(St&6)&&(rc(),us()))}break;case 13:var w=_i();AE(function(){return dr(u,1,w)}),g0(u,1)}},t.batchedUpdates=function(u,f){var v=St;St|=1;try{return u(f)}finally{St=v,St===0&&(rc(),Dd&&us())}},t.createComponentSelector=function(u){return{$$typeof:op,value:u}},t.createContainer=function(u,f,v,w,E,T,W){return RE(u,f,!1,null,v,w,E,T,W)},t.createHasPseudoClassSelector=function(u){return{$$typeof:ap,value:u}},t.createHydrationContainer=function(u,f,v,w,E,T,W,te,de){return u=RE(v,w,!0,u,E,T,W,te,de),u.context=LE(null),v=u.current,w=_i(),E=Co(v),T=Ns(w,E),T.callback=f??null,wo(v,T),u.current.lanes=E,Qu(u,E,w),Bi(u,w),u},t.createPortal=function(u,f,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:u,containerInfo:f,implementation:v}},t.createRoleSelector=function(u){return{$$typeof:lp,value:u}},t.createTestNameSelector=function(u){return{$$typeof:cp,value:u}},t.createTextSelector=function(u){return{$$typeof:up,value:u}},t.deferredUpdates=function(u){var f=It,v=Sn.transition;try{return Sn.transition=null,It=16,u()}finally{It=f,Sn.transition=v}},t.discreteUpdates=function(u,f,v,w,E){var T=It,W=Sn.transition;try{return Sn.transition=null,It=1,u(f,v,w,E)}finally{It=T,Sn.transition=W,St===0&&rc()}},t.findAllNodes=n0,t.findBoundingRects=function(u,f){if(!Ze)throw Error(o(363));f=n0(u,f),u=[];for(var v=0;v<f.length;v++)u.push(Gt(f[v]));for(f=u.length-1;0<f;f--){v=u[f];for(var w=v.x,E=w+v.width,T=v.y,W=T+v.height,te=f-1;0<=te;te--)if(f!==te){var de=u[te],Be=de.x,Je=Be+de.width,dt=de.y,et=dt+de.height;if(w>=Be&&T>=dt&&E<=Je&&W<=et){u.splice(f,1);break}else if(w!==Be||v.width!==de.width||et<T||dt>W){if(!(T!==dt||v.height!==de.height||Je<w||Be>E)){Be>w&&(de.width+=Be-w,de.x=w),Je<E&&(de.width=E-Be),u.splice(f,1);break}}else{dt>T&&(de.height+=dt-T,de.y=T),et<W&&(de.height=W-dt),u.splice(f,1);break}}}return u},t.findHostInstance=BE,t.findHostInstanceWithNoPortals=function(u){return u=J(u),u=u!==null?N(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return BE(u)},t.flushControlled=function(u){var f=St;St|=1;var v=Sn.transition,w=It;try{Sn.transition=null,It=1,u()}finally{It=w,Sn.transition=v,St=f,St===0&&(rc(),us())}},t.flushPassiveEffects=Na,t.flushSync=AE,t.focusWithin=function(u,f){if(!Ze)throw Error(o(363));for(u=$v(u),f=vE(u,f),f=Array.from(f),u=0;u<f.length;){var v=f[u++];if(!D(v)){if(v.tag===5&&Ce(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(u,f){if(!Ze)throw Error(o(363));var v=0,w=[];u=[$v(u),0];for(var E=0;E<u.length;){var T=u[E++],W=u[E++],te=f[W];if((T.tag!==5||!D(T))&&(e0(T,te)&&(w.push(t0(te)),W++,W>v&&(v=W)),W<f.length))for(T=T.child;T!==null;)u.push(T,W),T=T.sibling}if(v<f.length){for(u=[];v<f.length;v++)u.push(t0(f[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return z(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:DN,findFiberByHostInstance:u.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Id=f.inject(u),ls=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,v,w){if(!Ze)throw Error(o(363));u=n0(u,f);var E=Ae(u,v,w).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(u,f){var v=f._getVersion;v=v(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,v]:u.mutableSourceEagerHydrationData.push(f,v)},t.runWithPriority=function(u,f){var v=It;try{return It=u,f()}finally{It=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,v,w){var E=f.current,T=_i(),W=Co(E);return v=LE(v),f.context===null?f.context=v:f.pendingContext=v,f=Ns(T,W),f.payload={element:u},w=w===void 0?null:w,w!==null&&(f.callback=w),wo(E,f),u=dr(E,W,T),u!==null&&kd(u,E,W),W},t};yD.exports=Bj;var Ij=yD.exports;const Dj=ty(Ij);var vD={exports:{}},xD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,O){var H=L.length;L.push(O);e:for(;0<H;){var U=H-1>>>1,X=L[U];if(0<r(X,O))L[U]=O,L[H]=X,H=U;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var O=L[0],H=L.pop();if(H!==O){L[0]=H;e:for(var U=0,X=L.length,le=X>>>1;U<le;){var he=2*(U+1)-1,ve=L[he],Se=he+1,Ie=L[Se];if(0>r(ve,H))Se<X&&0>r(Ie,ve)?(L[U]=Ie,L[Se]=H,U=Se):(L[U]=ve,L[he]=H,U=he);else if(Se<X&&0>r(Ie,H))L[U]=Ie,L[Se]=H,U=Se;else break e}}return O}function r(L,O){var H=L.sortIndex-O.sortIndex;return H!==0?H:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(L){for(var O=t(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=L)i(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=t(c)}}function S(L){if(_=!1,M(L),!y)if(t(l)!==null)y=!0,z(C);else{var O=t(c);O!==null&&V(S,O.startTime-L)}}function C(L,O){y=!1,_&&(_=!1,g(B),B=-1),m=!0;var H=p;try{for(M(O),d=t(l);d!==null&&(!(d.expirationTime>O)||L&&!J());){var U=d.callback;if(typeof U=="function"){d.callback=null,p=d.priorityLevel;var X=U(d.expirationTime<=O);O=n.unstable_now(),typeof X=="function"?d.callback=X:d===t(l)&&i(l),M(O)}else i(l);d=t(l)}if(d!==null)var le=!0;else{var he=t(c);he!==null&&V(S,he.startTime-O),le=!1}return le}finally{d=null,p=H,m=!1}}var P=!1,R=null,B=-1,b=5,I=-1;function J(){return!(n.unstable_now()-I<b)}function $(){if(R!==null){var L=n.unstable_now();I=L;var O=!0;try{O=R(!0,L)}finally{O?q():(P=!1,R=null)}}else P=!1}var q;if(typeof A=="function")q=function(){A($)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,F=N.port2;N.port1.onmessage=$,q=function(){F.postMessage(null)}}else q=function(){x($,0)};function z(L){R=L,P||(P=!0,q())}function V(L,O){B=x(function(){L(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,z(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var H=p;p=O;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return O()}finally{p=H}},n.unstable_scheduleCallback=function(L,O,H){var U=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,L={id:h++,callback:O,priorityLevel:L,startTime:H,expirationTime:X,sortIndex:-1},H>U?(L.sortIndex=H,e(c,L),t(l)===null&&L===t(c)&&(_?(g(B),B=-1):_=!0,V(S,H-U))):(L.sortIndex=X,e(l,L),y||m||(y=!0,z(C))),L},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(L){var O=p;return function(){var H=p;p=O;try{return L.apply(this,arguments)}finally{p=H}}}})(xD);vD.exports=xD;var zb=vD.exports;const Fj=n=>typeof n=="object"&&typeof n.then=="function",fl=[];function _D(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function AD(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of fl)if(_D(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=fl.indexOf(r);s!==-1&&fl.splice(s,1)},promise:(Fj(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(fl.push(r),!t)throw r.promise}const Oj=(n,e,t)=>AD(n,e,!1,t),Nj=(n,e,t)=>void AD(n,e,!0,t),kj=n=>{if(n===void 0||n.length===0)fl.splice(0,fl.length);else{const e=fl.find(t=>_D(n,t.keys,t.equal));e&&e.remove()}},wS={},Uj=n=>void Object.assign(wS,n);function zj(n,e){function t(h,{args:d=[],attach:p,...m},y){let _=`${h[0].toUpperCase()}${h.slice(1)}`,x;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=Bc(g,{type:h,root:y,attach:p,primitive:!0})}else{const g=wS[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Bc(new g(...d),{type:h,root:y,attach:p,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof gt?x.__r3f.attach="geometry":x instanceof Fn&&(x.__r3f.attach="material")),_!=="inject"&&Hx(x,m),x}function i(h,d){let p=!1;if(d){var m,y;(m=d.__r3f)!=null&&m.attach?zx(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(y=h.__r3f)==null||y.objects.push(d),d.__r3f||Bc(d,{}),d.__r3f.parent=h,qA(d),Ic(d)}}function r(h,d,p){let m=!1;if(d){var y,_;if((y=d.__r3f)!=null&&y.attach)zx(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"});const x=h.children.filter(A=>A!==d),g=x.indexOf(p);h.children=[...x.slice(0,g),d,...x.slice(g)],m=!0}m||(_=h.__r3f)==null||_.objects.push(d),d.__r3f||Bc(d,{}),d.__r3f.parent=h,qA(d),Ic(d)}}function s(h,d,p=!1){h&&[...h].forEach(m=>o(d,m,p))}function o(h,d,p){if(d){var m,y,_;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(S=>S!==d)),(y=d.__r3f)!=null&&y.attach)jb(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var x;h.remove(d),(x=d.__r3f)!=null&&x.root&&Yj(d.__r3f.root,d)}const A=(_=d.__r3f)==null?void 0:_.primitive,M=p===void 0?d.dispose!==null&&!A:p;if(!A){var g;s((g=d.__r3f)==null?void 0:g.objects,d,M),s(d.children,d,M)}delete d.__r3f,M&&d.dispose&&d.type!=="Scene"&&zb.unstable_scheduleCallback(zb.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Ic(h)}}function a(h,d,p,m){var y;const _=(y=h.__r3f)==null?void 0:y.parent;if(!_)return;const x=t(d,p,h.__r3f.root);if(h.children){for(const g of h.children)g.__r3f&&i(x,g);h.children=h.children.filter(g=>!g.__r3f)}h.__r3f.objects.forEach(g=>i(x,g)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(_,h),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(_,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Dj({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const m=h.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,p,m){var y;if(((y=h==null?void 0:h.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==h)return[!0];{const{args:x=[],children:g,...A}=m,{args:M=[],children:S,...C}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((R,B)=>R!==M[B]))return[!0];const P=bD(h,A,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(h,[d,p],m,y,_,x){d?a(h,m,_,x):Hx(h,p)},commitMount(h,d,p,m){var y;const _=(y=h.__r3f)!=null?y:{};h.raycast&&_.handlers&&_.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Bc(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:m}=(d=h.__r3f)!=null?d:{};p&&m&&jb(m,h,p),h.isObject3D&&(h.visible=!1),Ic(h)},unhideInstance(h,d){var p;const{attach:m,parent:y}=(p=h.__r3f)!=null?p:{};m&&y&&zx(y,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),Ic(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Zc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&$t.fun(performance.now)?performance.now:$t.fun(Date.now)?Date.now:()=>0,scheduleTimeout:$t.fun(setTimeout)?setTimeout:void 0,cancelTimeout:$t.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Hx}}var Hb,Gb;const Ux=n=>"colorSpace"in n||"outputColorSpace"in n,MD=()=>{var n;return(n=wS.ColorManagement)!=null?n:null},wD=n=>n&&n.isOrthographicCamera,Hj=n=>n&&n.hasOwnProperty("current"),vd=typeof window<"u"&&((Hb=window.document)!=null&&Hb.createElement||((Gb=window.navigator)==null?void 0:Gb.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function SD(n){const e=Y.useRef(n);return vd(()=>void(e.current=n),[n]),e}function Gj({set:n}){return vd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class ED extends Y.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ED.getDerivedStateFromError=()=>({error:!0});const CD="__default",Vb=new Map,Vj=n=>n&&!!n.memoized&&!!n.changes;function TD(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Bh=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},$t={obj:n=>n===Object(n)&&!$t.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if($t.str(n)||$t.num(n))return n===e;const s=$t.obj(n);if(s&&i==="reference")return n===e;const o=$t.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!$t.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if($t.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Wj(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function jj(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Bc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function QA(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const Wb=/-\d+$/;function zx(n,e,t){if($t.str(t)){if(Wb.test(t)){const s=t.replace(Wb,""),{target:o,key:a}=QA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=QA(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function jb(n,e,t){var i,r;if($t.str(t)){const{target:s,key:o}=QA(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function bD(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var h;const d=(h=n==null?void 0:n.__r3f)!=null?h:{},p=Object.entries(r),m=[];if(c){const _=Object.keys(l);for(let x=0;x<_.length;x++)r.hasOwnProperty(_[x])||p.unshift([_[x],CD+"remove"])}p.forEach(([_,x])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&_==="object"||$t.equ(x,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return m.push([_,x,!0,[]]);let A=[];_.includes("-")&&(A=_.split("-")),m.push([_,x,!1,A]);for(const M in r){const S=r[M];M.startsWith(`${_}-`)&&m.push([M,S,!1,M.split("-")])}});const y={...r};return d.memoizedProps&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:m}}function Hx(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=Vj(e)?e:bD(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,_,x]=c[p];if(Ux(n)){const S="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?S:C):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?S:C)}let g=n,A=g[m];if(x.length&&(A=x.reduce((M,S)=>M[S],n),!(A&&A.set))){const[M,...S]=x.reverse();g=S.reverse().reduce((C,P)=>C[P],n),m=M}if(y===CD+"remove")if(g.constructor){let M=Vb.get(g.constructor);M||(M=new g.constructor,Vb.set(g.constructor,M)),y=M[m]}else y=0;if(_)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(A&&A.set&&(A.copy||A instanceof _l)){if(Array.isArray(y))A.fromArray?A.fromArray(y):A.set(...y);else if(A.copy&&y&&y.constructor&&A.constructor===y.constructor)A.copy(y);else if(y!==void 0){const M=A instanceof Ne;!M&&A.setScalar?A.setScalar(y):A instanceof _l&&y instanceof _l?A.mask=y.mask:A.set(y),!MD()&&!a.linear&&M&&A.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof an&&g[m].format===Ni&&g[m].type===Es){const M=g[m];Ux(M)&&Ux(a.gl)?M.colorSpace=a.gl.outputColorSpace:M.encoding=a.gl.outputEncoding}Ic(n)}if(s.parent&&a.internal&&n.raycast&&h!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&qA(n),n}function Ic(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function qA(n){n.onUpdate==null||n.onUpdate(n)}function Xj(n,e){n.manual||(wD(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Cm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Jj(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Zc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zc.ContinuousEventPriority;default:return Zc.DefaultEventPriority}}function PD(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Yj(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{PD(t.capturedMap,e,i,r)})}function Kj(n){function e(l){const{internal:c}=n.getState(),h=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,c){const h=n.getState(),d=new Set,p=[],m=c?c(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const A=Bh(m[g]);A&&(A.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function y(g){const A=Bh(g);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var M;A.events.compute==null||A.events.compute(l,A,(M=A.previousRoot)==null?void 0:M.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(y).sort((g,A)=>{const M=Bh(g.object),S=Bh(A.object);return!M||!S?g.distance-A.distance:S.events.priority-M.events.priority||g.distance-A.distance}).filter(g=>{const A=Cm(g);return d.has(A)?!1:(d.add(A),!0)});h.events.filter&&(_=h.events.filter(_,h));for(const g of _){let A=g.object;for(;A;){var x;(x=A.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:A}),A=A.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(Cm(g.intersection))||p.push(g.intersection);return p}function r(l,c,h,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const _=Bh(y.object)||p,{raycaster:x,pointer:g,camera:A,internal:M}=_,S=new k(g.x,g.y,0).unproject(A),C=I=>{var J,$;return(J=($=M.capturedMap.get(I))==null?void 0:$.has(y.eventObject))!=null?J:!1},P=I=>{const J={intersection:y,target:c.target};M.capturedMap.has(I)?M.capturedMap.get(I).set(y.eventObject,J):M.capturedMap.set(I,new Map([[y.eventObject,J]])),c.target.setPointerCapture(I)},R=I=>{const J=M.capturedMap.get(I);J&&PD(M.capturedMap,y.eventObject,J,I)};let B={};for(let I in c){let J=c[I];typeof J!="function"&&(B[I]=J)}let b={...y,...B,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:S,ray:x.ray,camera:A,stopPropagation(){const I="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!I||I.has(y.eventObject))&&(b.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(J=>J.eventObject===y.eventObject))){const J=l.slice(0,l.indexOf(y));s([...J,y])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},nativeEvent:c};if(d(b),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const h of c.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Cm(h)),p!=null&&p.eventCount){const y={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let h=0;h<c.length;h++){const d=c[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=h;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(h,m?t:void 0),g=y?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=x.map(M=>M.eventObject)),y&&!x.length&&g<=2&&(o(h,p.interaction),d&&d(h)),m&&s(x);function A(M){const S=M.eventObject,C=S.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=Cm(M),B=p.hovered.get(R);B?B.stopped&&M.stopPropagation():(p.hovered.set(R,M),P.onPointerOver==null||P.onPointerOver(M),P.onPointerEnter==null||P.onPointerEnter(M))}P.onPointerMove==null||P.onPointerMove(M)}else{const R=P[l];R?(!y||p.initialHits.includes(S))&&(o(h,p.interaction.filter(B=>!p.initialHits.includes(B))),R(M)):y&&p.initialHits.includes(S)&&o(h,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(x,h,g,A)}}return{handlePointer:a}}const RD=n=>!!(n!=null&&n.render),LD=Y.createContext(null),Qj=(n,e)=>{const t=gD((a,l)=>{const c=new k,h=new k,d=new k;function p(g=l().camera,A=h,M=l().size){const{width:S,height:C,top:P,left:R}=M,B=S/C;A instanceof k?d.copy(A):d.set(...A);const b=g.getWorldPosition(c).distanceTo(d);if(wD(g))return{width:S/g.zoom,height:C/g.zoom,top:P,left:R,factor:1,distance:b,aspect:B};{const I=g.fov*Math.PI/180,J=2*Math.tan(I/2)*b,$=J*(S/C);return{width:$,height:J,top:P,left:R,factor:S/$,distance:b,aspect:B}}}let m;const y=g=>a(A=>({performance:{...A.performance,current:g}})),_=new ye;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,A)=>e(g,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xS,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(A=>({...A,events:{...A.events,...g}})),setSize:(g,A,M,S,C)=>{const P=l().camera,R={width:g,height:A,top:S||0,left:C||0,updateStyle:M};a(B=>({size:R,viewport:{...B.viewport,...p(P,h,R)}}))},setDpr:g=>a(A=>{const M=TD(g);return{viewport:{...A.viewport,dpr:M,initialDpr:A.viewport.initialDpr||M}}}),setFrameloop:(g="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,g!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Y.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,A,M)=>{const S=l().internal;return S.priority=S.priority+(A>0?1:0),S.subscribers.push({ref:g,priority:A,store:M}),S.subscribers=S.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(A>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:h,set:d}=t.getState();if(l!==r||c.dpr!==s){var p;r=l,s=c.dpr,Xj(a,l),h.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Tm,qj=new Set,Zj=new Set,$j=new Set;function Gx(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Ih(n,e){switch(n){case"before":return Gx(qj,e);case"after":return Gx(Zj,e);case"tail":return Gx($j,e)}}let Vx,Wx;function jx(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Vx=e.internal.subscribers,Tm=0;Tm<Vx.length;Tm++)Wx=Vx[Tm],Wx.ref.current(Wx.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function eX(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Ih("before",l);for(const h of n.values()){var c;r=h.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=jx(l,r))}if(Ih("after",l),t===0)return Ih("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var h;if(!l)return n.forEach(d=>o(d.store.getState()),c);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,h,d){if(c&&Ih("before",l),h)jx(l,h,d);else for(const p of n.values())jx(l,p.store.getState());c&&Ih("after",l)}return{loop:s,invalidate:o,advance:a}}function BD(){const n=Y.useContext(LD);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function wr(n=t=>t,e){return BD()(n,e)}function ID(n,e=0){const t=BD(),i=t.getState().internal.subscribe,r=SD(n);return vd(()=>i(r,e,t),[e,i,t]),null}function DD(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,Wj(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`))))))}}function xd(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Oj(DD(t,i),[n,...r],{equal:$t.equ});return Array.isArray(e)?s:s[0]}xd.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Nj(DD(t),[n,...i])};xd.clear=function(n,e){const t=Array.isArray(e)?e:[e];return kj([n,...t])};const Bu=new Map,{invalidate:Xb,advance:Jb}=eX(Bu),{reconciler:Wg,applyProps:Pc}=zj(Bu,Jj),Rc={objects:"shallow",strict:!1},tX=(n,e)=>{const t=typeof n=="function"?n(e):n;return RD(t)?t:new qw({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function nX(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function iX(n){const e=Bu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Qj(Xb,Jb),o=t||Wg.createContainer(s,Zc.ConcurrentRoot,null,!1,null,"",r,null);e||Bu.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(h={}){let{gl:d,size:p,scene:m,events:y,onCreated:_,shadows:x=!1,linear:g=!1,flat:A=!1,legacy:M=!1,orthographic:S=!1,frameloop:C="always",dpr:P=[1,2],performance:R,raycaster:B,camera:b,onPointerMissed:I}=h,J=s.getState(),$=J.gl;J.gl||J.set({gl:$=tX(d,n)});let q=J.raycaster;q||J.set({raycaster:q=new dD});const{params:N,...F}=B||{};if($t.equ(F,q,Rc)||Pc(q,{...F}),$t.equ(N,q.params,Rc)||Pc(q,{params:{...q.params,...N}}),!J.camera||J.camera===c&&!$t.equ(c,b,Rc)){c=b;const X=b instanceof cd,le=X?b:S?new $r(0,0,0,0,.1,1e3):new sn(75,0,.1,1e3);X||(le.position.z=5,b&&Pc(le,b),!J.camera&&!(b!=null&&b.rotation)&&le.lookAt(0,0,0)),J.set({camera:le})}if(!J.scene){let X;m instanceof Vg?X=m:(X=new Vg,m&&Pc(X,m)),J.set({scene:Bc(X)})}if(!J.xr){var z;const X=(ve,Se)=>{const Ie=s.getState();Ie.frameloop!=="never"&&Jb(ve,!0,Ie,Se)},le=()=>{const ve=s.getState();ve.gl.xr.enabled=ve.gl.xr.isPresenting,ve.gl.xr.setAnimationLoop(ve.gl.xr.isPresenting?X:null),ve.gl.xr.isPresenting||Xb(ve)},he={connect(){const ve=s.getState().gl;ve.xr.addEventListener("sessionstart",le),ve.xr.addEventListener("sessionend",le)},disconnect(){const ve=s.getState().gl;ve.xr.removeEventListener("sessionstart",le),ve.xr.removeEventListener("sessionend",le)}};typeof((z=$.xr)==null?void 0:z.addEventListener)=="function"&&he.connect(),J.set({xr:he})}if($.shadowMap){const X=$.shadowMap.enabled,le=$.shadowMap.type;if($.shadowMap.enabled=!!x,$t.boo(x))$.shadowMap.type=of;else if($t.str(x)){var V;const he={basic:vI,percentage:wy,soft:of,variance:Gr};$.shadowMap.type=(V=he[x])!=null?V:of}else $t.obj(x)&&Object.assign($.shadowMap,x);(X!==$.shadowMap.enabled||le!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const L=MD();L&&("enabled"in L?L.enabled=!M:"legacyMode"in L&&(L.legacyMode=M)),Pc($,{outputEncoding:g?3e3:3001,toneMapping:A?Ss:Rw}),J.legacy!==M&&J.set(()=>({legacy:M})),J.linear!==g&&J.set(()=>({linear:g})),J.flat!==A&&J.set(()=>({flat:A})),d&&!$t.fun(d)&&!RD(d)&&!$t.equ(d,$,Rc)&&Pc($,d),y&&!J.events.handlers&&J.set({events:y(s)});const U=nX(n,p);return $t.equ(U,J.size,Rc)||J.setSize(U.width,U.height,U.updateStyle,U.top,U.left),P&&J.viewport.dpr!==TD(P)&&J.setDpr(P),J.frameloop!==C&&J.setFrameloop(C),J.onPointerMissed||J.set({onPointerMissed:I}),R&&!$t.equ(R,J.performance,Rc)&&J.set(X=>({performance:{...X.performance,...R}})),a=_,l=!0,this},render(h){return l||this.configure(),Wg.updateContainer(Y.createElement(rX,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){FD(n)}}}function rX({store:n,children:e,onCreated:t,rootElement:i}){return vd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Y.createElement(LD.Provider,{value:n},e)}function FD(n,e){const t=Bu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Wg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),jj(r),Bu.delete(n),e&&e(n)}catch{}},500)})}}Wg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version});function Iu(){return Iu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Iu.apply(this,arguments)}function ZA(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(l,e)),h&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}ZA.debounce=ZA;var sX=ZA;const Yb=ty(sX);function oX(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=Y.useRef(!1);Y.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,y]=Y.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:M,top:S,width:C,height:P,bottom:R,right:B,x:b,y:I}=l.current.element.getBoundingClientRect(),J={left:M,top:S,width:C,height:P,bottom:R,right:B,x:b,y:I};l.current.element instanceof HTMLElement&&r&&(J.height=l.current.element.offsetHeight,J.width=l.current.element.offsetWidth),Object.freeze(J),d.current&&!uX(l.current.lastBounds,J)&&a(l.current.lastBounds=J)};return[A,h?Yb(A,h):A,c?Yb(A,c):A]},[a,r,c,h]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=A=>{!A||A===l.current.element||(_(),l.current.element=A,l.current.scrollContainers=OD(A),x())};return lX(y,!!t),aX(m),Y.useEffect(()=>{_(),x()},[t,y,m]),Y.useEffect(()=>_,[]),[g,o,p]}function aX(n){Y.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function lX(n,e){Y.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function OD(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...OD(n.parentElement)]}const cX=["x","y","top","bottom","left","right","width","height"],uX=(n,e)=>cX.every(t=>n[t]===e[t]);var hX=Object.defineProperty,fX=Object.defineProperties,dX=Object.getOwnPropertyDescriptors,Kb=Object.getOwnPropertySymbols,pX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,Qb=(n,e,t)=>e in n?hX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qb=(n,e)=>{for(var t in e||(e={}))pX.call(e,t)&&Qb(n,t,e[t]);if(Kb)for(var t of Kb(e))mX.call(e,t)&&Qb(n,t,e[t]);return n},gX=(n,e)=>fX(n,dX(e));function ND(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=ND(i,e,t);if(r)return r;i=e?null:i.sibling}}function kD(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const SS=kD(Y.createContext(null));class UD extends Y.Component{render(){return Y.createElement(SS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Zb,ReactCurrentDispatcher:$b}=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function yX(){const n=Y.useContext(SS);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const i of[Zb==null?void 0:Zb.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=ND(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function vX(){var n,e;const t=yX(),[i]=Y.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==SS&&!i.has(s)&&i.set(s,(e=$b==null?void 0:$b.current)==null?void 0:e.readContext(kD(s))),r=r.return}return i}function xX(){const n=vX();return Y.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Y.createElement(e,null,Y.createElement(t.Provider,gX(qb({},i),{value:n.get(t)}))),e=>Y.createElement(UD,qb({},e))),[n])}const Xx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _X(n){const{handlePointer:e}=Kj(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Xx).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=Xx[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Xx[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const AX=Y.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=_X,eventSource:a,eventPrefix:l,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:_,performance:x,raycaster:g,camera:A,scene:M,onPointerMissed:S,onCreated:C,...P},R){Y.useMemo(()=>Uj(Tj),[]);const B=xX(),[b,I]=oX({scroll:!0,debounce:{scroll:50,resize:0},...i}),J=Y.useRef(null),$=Y.useRef(null);Y.useImperativeHandle(R,()=>J.current);const q=SD(S),[N,F]=Y.useState(!1),[z,V]=Y.useState(!1);if(N)throw N;if(z)throw z;const L=Y.useRef(null);vd(()=>{const H=J.current;I.width>0&&I.height>0&&H&&(L.current||(L.current=iX(H)),L.current.configure({gl:s,events:o,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:_,performance:x,raycaster:g,camera:A,scene:M,size:I,onPointerMissed:(...U)=>q.current==null?void 0:q.current(...U),onCreated:U=>{U.events.connect==null||U.events.connect(a?Hj(a)?a.current:a:$.current),l&&U.setEvents({compute:(X,le)=>{const he=X[l+"X"],ve=X[l+"Y"];le.pointer.set(he/le.size.width*2-1,-(ve/le.size.height)*2+1),le.raycaster.setFromCamera(le.pointer,le.camera)}}),C==null||C(U)}}),L.current.render(Y.createElement(B,null,Y.createElement(ED,{set:V},Y.createElement(Y.Suspense,{fallback:Y.createElement(Gj,{set:F})},e)))))}),Y.useEffect(()=>{const H=J.current;if(H)return()=>FD(H)},[]);const O=a?"none":"auto";return Y.createElement("div",Iu({ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...r}},P),Y.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},Y.createElement("canvas",{ref:J,style:{display:"block"}},t)))}),zD=Y.forwardRef(function(e,t){return Y.createElement(UD,null,Y.createElement(AX,Iu({},e,{ref:t})))}),_d=new k,ES=new k,MX=new k;function wX(n,e,t){const i=_d.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function SX(n,e){const t=_d.setFromMatrixPosition(n.matrixWorld),i=ES.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(MX);return r.angleTo(s)>Math.PI/2}function EX(n,e,t,i){const r=_d.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function CX(n,e){if(e instanceof $r)return e.zoom;if(e instanceof sn){const t=_d.setFromMatrixPosition(n.matrixWorld),i=ES.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function TX(n,e,t){if(e instanceof sn||e instanceof $r){const i=_d.setFromMatrixPosition(n.matrixWorld),r=ES.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const $A=n=>Math.abs(n)<1e-10?0:n;function HD(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=$A(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const bX=(n=>e=>HD(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),PX=(n=>(e,t)=>HD(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function RX(n){return n&&typeof n=="object"&&"current"in n}const LX=Y.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:h=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:y,material:_,geometry:x,zIndexRange:g=[16777271,0],calculatePosition:A=wX,as:M="div",wrapperClass:S,pointerEvents:C="auto",...P},R)=>{const{gl:B,camera:b,scene:I,size:J,raycaster:$,events:q,viewport:N}=wr(),[F]=Y.useState(()=>document.createElement(M)),z=Y.useRef(),V=Y.useRef(null),L=Y.useRef(0),O=Y.useRef([0,0]),H=Y.useRef(null),U=Y.useRef(null),X=(a==null?void 0:a.current)||q.connected||B.domElement.parentNode,le=Y.useRef(null),he=Y.useRef(!1),ve=Y.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&RX(d[0]),[d]);Y.useLayoutEffect(()=>{const tt=B.domElement;d&&d==="blending"?(tt.style.zIndex=`${Math.floor(g[0]/2)}`,tt.style.position="absolute",tt.style.pointerEvents="none"):(tt.style.zIndex=null,tt.style.position=null,tt.style.pointerEvents=null)},[d]),Y.useLayoutEffect(()=>{if(V.current){const tt=z.current=kB(F);if(I.updateMatrixWorld(),h)F.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const we=A(V.current,b,J);F.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${we[0]}px,${we[1]}px,0);transform-origin:0 0;`}return X&&(r?X.prepend(F):X.appendChild(F)),()=>{X&&X.removeChild(F),tt.unmount()}}},[X,h]),Y.useLayoutEffect(()=>{S&&(F.className=S)},[S]);const Se=Y.useMemo(()=>h?{position:"absolute",top:0,left:0,width:J.width,height:J.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-J.height/2,left:-J.width/2,width:J.width,height:J.height},...t},[t,s,o,J,h]),Ie=Y.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);Y.useLayoutEffect(()=>{if(he.current=!1,h){var tt;(tt=z.current)==null||tt.render(Y.createElement("div",{ref:H,style:Se},Y.createElement("div",{ref:U,style:Ie},Y.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var we;(we=z.current)==null||we.render(Y.createElement("div",{ref:R,style:Se,className:i,children:n}))}});const Ve=Y.useRef(!0);ID(tt=>{if(V.current){b.updateMatrixWorld(),V.current.updateWorldMatrix(!0,!1);const we=h?O.current:A(V.current,b,J);if(h||Math.abs(L.current-b.zoom)>e||Math.abs(O.current[0]-we[0])>e||Math.abs(O.current[1]-we[1])>e){const Q=SX(V.current,b);let xe=!1;ve&&(d!=="blending"?xe=[I]:Array.isArray(d)&&(xe=d.map(We=>We.current)));const ge=Ve.current;if(xe){const We=EX(V.current,b,$,xe);Ve.current=We&&!Q}else Ve.current=!Q;ge!==Ve.current&&(p?p(!Ve.current):F.style.display=Ve.current?"block":"none");const Ee=Math.floor(g[0]/2),_e=d?ve?[g[0],Ee]:[Ee-1,0]:g;if(F.style.zIndex=`${TX(V.current,b,_e)}`,h){const[We,ke]=[J.width/2,J.height/2],Ge=b.projectionMatrix.elements[5]*ke,{isOrthographicCamera:Ze,top:yt,left:Gt,bottom:j,right:D}=b,oe=bX(b.matrixWorldInverse),Ce=Ze?`scale(${Ge})translate(${$A(-(D+Gt)/2)}px,${$A((yt+j)/2)}px)`:`translateZ(${Ge}px)`;let Ae=V.current.matrixWorld;c&&(Ae=b.matrixWorldInverse.clone().transpose().copyPosition(Ae).scale(V.current.scale),Ae.elements[3]=Ae.elements[7]=Ae.elements[11]=0,Ae.elements[15]=1),F.style.width=J.width+"px",F.style.height=J.height+"px",F.style.perspective=Ze?"":`${Ge}px`,H.current&&U.current&&(H.current.style.transform=`${Ce}${oe}translate(${We}px,${ke}px)`,U.current.style.transform=PX(Ae,1/((l||10)/400)))}else{const We=l===void 0?1:CX(V.current,b)*l;F.style.transform=`translate3d(${we[0]}px,${we[1]}px,0) scale(${We})`}O.current=we,L.current=b.zoom}}if(!ve&&le.current&&!he.current)if(h){if(H.current){const we=H.current.children[0];if(we!=null&&we.clientWidth&&we!=null&&we.clientHeight){const{isOrthographicCamera:Q}=b;if(Q||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof k?le.current.scale.copy(P.scale.clone().divideScalar(1)):le.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):le.current.scale.setScalar(1/P.scale));else{const xe=(l||10)/400,ge=we.clientWidth*xe,Ee=we.clientHeight*xe;le.current.scale.set(ge,Ee,1)}he.current=!0}}}else{const we=F.children[0];if(we!=null&&we.clientWidth&&we!=null&&we.clientHeight){const Q=1/N.factor,xe=we.clientWidth*Q,ge=we.clientHeight*Q;le.current.scale.set(xe,ge,1),he.current=!0}le.current.lookAt(tt.camera.position)}});const ut=Y.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return Y.createElement("group",Iu({},P,{ref:V}),d&&!ve&&Y.createElement("mesh",{castShadow:m,receiveShadow:y,ref:le},x||Y.createElement("planeGeometry",null),_||Y.createElement("shaderMaterial",{side:Cr,vertexShader:ut.vertexShader,fragmentShader:ut.fragmentShader})))});let Dh=0;const BX=gD(n=>(qc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Dh)/(i-Dh)*100})},qc.onLoad=()=>{n({active:!1})},qc.onError=e=>n(t=>({errors:[...t.errors,e]})),qc.onProgress=(e,t,i)=>{t===i&&(Dh=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Dh)/(i-Dh)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function eP(n,e){if(e===n2)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===zg||e===kw){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===zg)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var IX=Object.defineProperty,DX=(n,e,t)=>e in n?IX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ft=(n,e,t)=>(DX(n,typeof e!="symbol"?e+"":e,t),t);const tP=(n,e)=>(n%e+e)%e;let FX=class extends Ds{constructor(e,t){super(),ft(this,"object"),ft(this,"domElement"),ft(this,"enabled",!0),ft(this,"target",new k),ft(this,"minDistance",0),ft(this,"maxDistance",1/0),ft(this,"minZoom",0),ft(this,"maxZoom",1/0),ft(this,"minPolarAngle",0),ft(this,"maxPolarAngle",Math.PI),ft(this,"minAzimuthAngle",-1/0),ft(this,"maxAzimuthAngle",1/0),ft(this,"enableDamping",!1),ft(this,"dampingFactor",.05),ft(this,"enableZoom",!0),ft(this,"zoomSpeed",1),ft(this,"enableRotate",!0),ft(this,"rotateSpeed",1),ft(this,"enablePan",!0),ft(this,"panSpeed",1),ft(this,"screenSpacePanning",!0),ft(this,"keyPanSpeed",7),ft(this,"autoRotate",!1),ft(this,"autoRotateSpeed",2),ft(this,"reverseOrbit",!1),ft(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ft(this,"mouseButtons",{LEFT:Za.ROTATE,MIDDLE:Za.DOLLY,RIGHT:Za.PAN}),ft(this,"touches",{ONE:$a.ROTATE,TWO:$a.DOLLY_PAN}),ft(this,"target0"),ft(this,"position0"),ft(this,"zoom0"),ft(this,"_domElementKeyEvents",null),ft(this,"getPolarAngle"),ft(this,"getAzimuthalAngle"),ft(this,"setPolarAngle"),ft(this,"setAzimuthalAngle"),ft(this,"getDistance"),ft(this,"listenToKeyEvents"),ft(this,"stopListenToKeyEvents"),ft(this,"saveState"),ft(this,"reset"),ft(this,"update"),ft(this,"connect"),ft(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=Z=>{let fe=tP(Z,2*Math.PI),Me=h.phi;Me<0&&(Me+=2*Math.PI),fe<0&&(fe+=2*Math.PI);let Pe=Math.abs(fe-Me);2*Math.PI-Pe<Pe&&(fe<Me?fe+=2*Math.PI:Me+=2*Math.PI),d.phi=fe-Me,i.update()},this.setAzimuthalAngle=Z=>{let fe=tP(Z,2*Math.PI),Me=h.theta;Me<0&&(Me+=2*Math.PI),fe<0&&(fe+=2*Math.PI);let Pe=Math.abs(fe-Me);2*Math.PI-Pe<Pe&&(fe<Me?fe+=2*Math.PI:Me+=2*Math.PI),d.theta=fe-Me,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Z=>{Z.addEventListener("keydown",D),this._domElementKeyEvents=Z},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",D),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Z=new k,fe=new k(0,1,0),Me=new Kn().setFromUnitVectors(e.up,fe),Pe=Me.clone().invert(),De=new k,rt=new Kn,Et=2*Math.PI;return function(){const Fe=i.object.position;Me.setFromUnitVectors(e.up,fe),Pe.copy(Me).invert(),Z.copy(Fe).sub(i.target),Z.applyQuaternion(Me),h.setFromVector3(Z),i.autoRotate&&l===a.NONE&&$(I()),i.enableDamping?(h.theta+=d.theta*i.dampingFactor,h.phi+=d.phi*i.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let ae=i.minAzimuthAngle,Te=i.maxAzimuthAngle;return isFinite(ae)&&isFinite(Te)&&(ae<-Math.PI?ae+=Et:ae>Math.PI&&(ae-=Et),Te<-Math.PI?Te+=Et:Te>Math.PI&&(Te-=Et),ae<=Te?h.theta=Math.max(ae,Math.min(Te,h.theta)):h.theta=h.theta>(ae+Te)/2?Math.max(ae,h.theta):Math.min(Te,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=p,h.radius=Math.max(i.minDistance,Math.min(i.maxDistance,h.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),Z.setFromSpherical(h),Z.applyQuaternion(Pe),Fe.copy(i.target).add(Z),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),p=1,y||De.distanceToSquared(i.object.position)>c||8*(1-rt.dot(i.object.quaternion))>c?(i.dispatchEvent(r),De.copy(i.object.position),rt.copy(i.object.quaternion),y=!1,!0):!1}})(),this.connect=Z=>{Z===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Z,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ae),i.domElement.addEventListener("pointerdown",We),i.domElement.addEventListener("pointercancel",Ze),i.domElement.addEventListener("wheel",j)},this.dispose=()=>{var Z,fe,Me,Pe,De,rt;(Z=i.domElement)==null||Z.removeEventListener("contextmenu",Ae),(fe=i.domElement)==null||fe.removeEventListener("pointerdown",We),(Me=i.domElement)==null||Me.removeEventListener("pointercancel",Ze),(Pe=i.domElement)==null||Pe.removeEventListener("wheel",j),(De=i.domElement)==null||De.ownerDocument.removeEventListener("pointermove",ke),(rt=i.domElement)==null||rt.ownerDocument.removeEventListener("pointerup",Ge),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",D)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,h=new KA,d=new KA;let p=1;const m=new k;let y=!1;const _=new ye,x=new ye,g=new ye,A=new ye,M=new ye,S=new ye,C=new ye,P=new ye,R=new ye,B=[],b={};function I(){return 2*Math.PI/60/60*i.autoRotateSpeed}function J(){return Math.pow(.95,i.zoomSpeed)}function $(Z){i.reverseOrbit?d.theta+=Z:d.theta-=Z}function q(Z){i.reverseOrbit?d.phi+=Z:d.phi-=Z}const N=(()=>{const Z=new k;return function(Me,Pe){Z.setFromMatrixColumn(Pe,0),Z.multiplyScalar(-Me),m.add(Z)}})(),F=(()=>{const Z=new k;return function(Me,Pe){i.screenSpacePanning===!0?Z.setFromMatrixColumn(Pe,1):(Z.setFromMatrixColumn(Pe,0),Z.crossVectors(i.object.up,Z)),Z.multiplyScalar(Me),m.add(Z)}})(),z=(()=>{const Z=new k;return function(Me,Pe){const De=i.domElement;if(De&&i.object instanceof sn&&i.object.isPerspectiveCamera){const rt=i.object.position;Z.copy(rt).sub(i.target);let Et=Z.length();Et*=Math.tan(i.object.fov/2*Math.PI/180),N(2*Me*Et/De.clientHeight,i.object.matrix),F(2*Pe*Et/De.clientHeight,i.object.matrix)}else De&&i.object instanceof $r&&i.object.isOrthographicCamera?(N(Me*(i.object.right-i.object.left)/i.object.zoom/De.clientWidth,i.object.matrix),F(Pe*(i.object.top-i.object.bottom)/i.object.zoom/De.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function V(Z){i.object instanceof sn&&i.object.isPerspectiveCamera?p/=Z:i.object instanceof $r&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*Z)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function L(Z){i.object instanceof sn&&i.object.isPerspectiveCamera?p*=Z:i.object instanceof $r&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/Z)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function O(Z){_.set(Z.clientX,Z.clientY)}function H(Z){C.set(Z.clientX,Z.clientY)}function U(Z){A.set(Z.clientX,Z.clientY)}function X(Z){x.set(Z.clientX,Z.clientY),g.subVectors(x,_).multiplyScalar(i.rotateSpeed);const fe=i.domElement;fe&&($(2*Math.PI*g.x/fe.clientHeight),q(2*Math.PI*g.y/fe.clientHeight)),_.copy(x),i.update()}function le(Z){P.set(Z.clientX,Z.clientY),R.subVectors(P,C),R.y>0?V(J()):R.y<0&&L(J()),C.copy(P),i.update()}function he(Z){M.set(Z.clientX,Z.clientY),S.subVectors(M,A).multiplyScalar(i.panSpeed),z(S.x,S.y),A.copy(M),i.update()}function ve(Z){Z.deltaY<0?L(J()):Z.deltaY>0&&V(J()),i.update()}function Se(Z){let fe=!1;switch(Z.code){case i.keys.UP:z(0,i.keyPanSpeed),fe=!0;break;case i.keys.BOTTOM:z(0,-i.keyPanSpeed),fe=!0;break;case i.keys.LEFT:z(i.keyPanSpeed,0),fe=!0;break;case i.keys.RIGHT:z(-i.keyPanSpeed,0),fe=!0;break}fe&&(Z.preventDefault(),i.update())}function Ie(){if(B.length==1)_.set(B[0].pageX,B[0].pageY);else{const Z=.5*(B[0].pageX+B[1].pageX),fe=.5*(B[0].pageY+B[1].pageY);_.set(Z,fe)}}function Ve(){if(B.length==1)A.set(B[0].pageX,B[0].pageY);else{const Z=.5*(B[0].pageX+B[1].pageX),fe=.5*(B[0].pageY+B[1].pageY);A.set(Z,fe)}}function ut(){const Z=B[0].pageX-B[1].pageX,fe=B[0].pageY-B[1].pageY,Me=Math.sqrt(Z*Z+fe*fe);C.set(0,Me)}function tt(){i.enableZoom&&ut(),i.enablePan&&Ve()}function we(){i.enableZoom&&ut(),i.enableRotate&&Ie()}function Q(Z){if(B.length==1)x.set(Z.pageX,Z.pageY);else{const Me=ce(Z),Pe=.5*(Z.pageX+Me.x),De=.5*(Z.pageY+Me.y);x.set(Pe,De)}g.subVectors(x,_).multiplyScalar(i.rotateSpeed);const fe=i.domElement;fe&&($(2*Math.PI*g.x/fe.clientHeight),q(2*Math.PI*g.y/fe.clientHeight)),_.copy(x)}function xe(Z){if(B.length==1)M.set(Z.pageX,Z.pageY);else{const fe=ce(Z),Me=.5*(Z.pageX+fe.x),Pe=.5*(Z.pageY+fe.y);M.set(Me,Pe)}S.subVectors(M,A).multiplyScalar(i.panSpeed),z(S.x,S.y),A.copy(M)}function ge(Z){const fe=ce(Z),Me=Z.pageX-fe.x,Pe=Z.pageY-fe.y,De=Math.sqrt(Me*Me+Pe*Pe);P.set(0,De),R.set(0,Math.pow(P.y/C.y,i.zoomSpeed)),V(R.y),C.copy(P)}function Ee(Z){i.enableZoom&&ge(Z),i.enablePan&&xe(Z)}function _e(Z){i.enableZoom&&ge(Z),i.enableRotate&&Q(Z)}function We(Z){var fe,Me;i.enabled!==!1&&(B.length===0&&((fe=i.domElement)==null||fe.ownerDocument.addEventListener("pointermove",ke),(Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointerup",Ge)),Re(Z),Z.pointerType==="touch"?oe(Z):yt(Z))}function ke(Z){i.enabled!==!1&&(Z.pointerType==="touch"?Ce(Z):Gt(Z))}function Ge(Z){var fe,Me,Pe;Ye(Z),B.length===0&&((fe=i.domElement)==null||fe.releasePointerCapture(Z.pointerId),(Me=i.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",ke),(Pe=i.domElement)==null||Pe.ownerDocument.removeEventListener("pointerup",Ge)),i.dispatchEvent(o),l=a.NONE}function Ze(Z){Ye(Z)}function yt(Z){let fe;switch(Z.button){case 0:fe=i.mouseButtons.LEFT;break;case 1:fe=i.mouseButtons.MIDDLE;break;case 2:fe=i.mouseButtons.RIGHT;break;default:fe=-1}switch(fe){case Za.DOLLY:if(i.enableZoom===!1)return;H(Z),l=a.DOLLY;break;case Za.ROTATE:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(i.enablePan===!1)return;U(Z),l=a.PAN}else{if(i.enableRotate===!1)return;O(Z),l=a.ROTATE}break;case Za.PAN:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(i.enableRotate===!1)return;O(Z),l=a.ROTATE}else{if(i.enablePan===!1)return;U(Z),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Gt(Z){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;X(Z);break;case a.DOLLY:if(i.enableZoom===!1)return;le(Z);break;case a.PAN:if(i.enablePan===!1)return;he(Z);break}}function j(Z){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Z.preventDefault(),i.dispatchEvent(s),ve(Z),i.dispatchEvent(o))}function D(Z){i.enabled===!1||i.enablePan===!1||Se(Z)}function oe(Z){switch(Le(Z),B.length){case 1:switch(i.touches.ONE){case $a.ROTATE:if(i.enableRotate===!1)return;Ie(),l=a.TOUCH_ROTATE;break;case $a.PAN:if(i.enablePan===!1)return;Ve(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case $a.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;tt(),l=a.TOUCH_DOLLY_PAN;break;case $a.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;we(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ce(Z){switch(Le(Z),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Q(Z),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;xe(Z),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ee(Z),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;_e(Z),i.update();break;default:l=a.NONE}}function Ae(Z){i.enabled!==!1&&Z.preventDefault()}function Re(Z){B.push(Z)}function Ye(Z){delete b[Z.pointerId];for(let fe=0;fe<B.length;fe++)if(B[fe].pointerId==Z.pointerId){B.splice(fe,1);return}}function Le(Z){let fe=b[Z.pointerId];fe===void 0&&(fe=new ye,b[Z.pointerId]=fe),fe.set(Z.pageX,Z.pageY)}function ce(Z){const fe=Z.pointerId===B[0].pointerId?B[1]:B[0];return b[fe.pointerId]}t!==void 0&&this.connect(t),this.update()}};class CS extends vi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new zX(t)}),this.register(function(t){return new YX(t)}),this.register(function(t){return new KX(t)}),this.register(function(t){return new QX(t)}),this.register(function(t){return new GX(t)}),this.register(function(t){return new VX(t)}),this.register(function(t){return new WX(t)}),this.register(function(t){return new jX(t)}),this.register(function(t){return new UX(t)}),this.register(function(t){return new XX(t)}),this.register(function(t){return new HX(t)}),this.register(function(t){return new JX(t)}),this.register(function(t){return new NX(t)}),this.register(function(t){return new qX(t)}),this.register(function(t){return new ZX(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ts.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new rr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ts.decodeText(new Uint8Array(e.slice(0,4)))===GD){try{o[Pt.KHR_BINARY_GLTF]=new $X(e)}catch(h){r&&r(h);return}s=JSON.parse(o[Pt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ts.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new fJ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](l);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const h=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(h){case Pt.KHR_MATERIALS_UNLIT:o[h]=new kX;break;case Pt.KHR_DRACO_MESH_COMPRESSION:o[h]=new eJ(s,this.dracoLoader);break;case Pt.KHR_TEXTURE_TRANSFORM:o[h]=new tJ;break;case Pt.KHR_MESH_QUANTIZATION:o[h]=new nJ;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function OX(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Pt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class NX{constructor(e){this.parser=e,this.name=Pt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const h=new Ne(16777215);l.color!==void 0&&h.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new yS(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new gS(h),c.distance=d;break;case"spot":c=new mS(h),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,jo(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class kX{constructor(){this.name=Pt.KHR_MATERIALS_UNLIT}getMaterialType(){return er}extendParams(e,t,i){const r=[];e.color=new Ne(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class UX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class zX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ye(a,a)}return Promise.all(s)}}class HX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class GX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ne(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class VX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class WX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ne(a[0],a[1],a[2]),Promise.all(s)}}class jX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class XX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ne(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class JX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class YX{constructor(e){this.parser=e,this.name=Pt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class KX{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class QX{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class qX{constructor(e){this.name=Pt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,h=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,p,r.mode,r.filter),m})})}else return null}}class ZX{constructor(e){this.name=Pt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Ar.TRIANGLES&&c.mode!==Ar.TRIANGLE_STRIP&&c.mode!==Ar.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(h=>(l[c]=h,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const h=c.pop(),d=h.isGroup?h.children:[h],p=c[0].count,m=[];for(const y of d){const _=new lt,x=new k,g=new Kn,A=new k(1,1,1),M=new eS(y.geometry,y.material,p);for(let S=0;S<p;S++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,S),l.SCALE&&A.fromBufferAttribute(l.SCALE,S),M.setMatrixAt(S,_.compose(x,g,A));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&y.geometry.setAttribute(S,l[S]);Lt.prototype.copy.call(M,y),this.parser.assignFinalMaterial(M),m.push(M)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const GD="glTF",Fh=12,nP={JSON:1313821514,BIN:5130562};class $X{constructor(e){this.name=Pt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Fh);if(this.header={magic:Ts.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==GD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Fh,r=new DataView(e,Fh);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===nP.JSON){const l=new Uint8Array(e,Fh+s,o);this.content=Ts.decodeText(l)}else if(a===nP.BIN){const l=Fh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class eJ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Pt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const h in o){const d=eM[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=eM[h]||h.toLowerCase();if(o[h]!==void 0){const p=i.accessors[e.attributes[h]],m=fu[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(d){r.decodeDracoFile(h,function(p){for(const m in p.attributes){const y=p.attributes[m],_=l[m];_!==void 0&&(y.normalized=_)}d(p)},a,c)})})}}class tJ{constructor(){this.name=Pt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class nJ{constructor(){this.name=Pt.KHR_MESH_QUANTIZATION}}class VD extends Xu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,h=r-t,d=(i-t)/h,p=d*d,m=p*d,y=e*c,_=y-c,x=-2*m+3*p,g=m-p,A=1-x,M=g-p+d;for(let S=0;S!==a;S++){const C=o[_+S+a],P=o[_+S+l]*h,R=o[y+S+a],B=o[y+S]*h;s[S]=A*C+M*P+x*R+g*B}return s}}const iJ=new Kn;class rJ extends VD{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return iJ.fromArray(s).normalize().toArray(s),s}}const Ar={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},fu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},iP={9728:An,9729:hn,9984:kf,9985:Ey,9986:cu,9987:Ls},rP={33071:$n,33648:wu,10497:ya},Jx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},eM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...od.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Oo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},sJ={CUBICSPLINE:void 0,LINEAR:Bl,STEP:Eu},Yx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function oJ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new yd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Rs})),n.DefaultMaterial}function Ya(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function jo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function aJ(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,h=e.length;c<h;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,h=e.length;c<h;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const h=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=h),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function lJ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function cJ(n){let e;const t=n.extensions&&n.extensions[Pt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Kx(t.attributes):e=n.indices+":"+Kx(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+Kx(n.targets[i]);return e}function Kx(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function tM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function uJ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const hJ=new lt;class fJ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new OX,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new nD(this.options.manager):this.textureLoader=new cD(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new rr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Ya(s,a,r),jo(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,h]of o.children.entries())s(h,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Pt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Ts.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Jx[r.type],a=fu[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new kt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Jx[r.type],c=fu[r.componentType],h=c.BYTES_PER_ELEMENT,d=h*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let _,x;if(m&&m!==d){const g=Math.floor(p/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let M=t.cache.get(A);M||(_=new c(a,g*m,r.count*m/h),M=new fd(_,m/h),t.cache.add(A,M)),x=new va(M,l,p%m/h,y)}else a===null?_=new c(r.count*l):_=new c(a,p,r.count*l),x=new kt(_,l,y);if(r.sparse!==void 0){const g=Jx.SCALAR,A=fu[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,C=new A(o[1],M,r.sparse.count*g),P=new c(o[2],S,r.sparse.count*l);a!==null&&(x=new kt(x.array.slice(),x.itemSize,x.normalized));for(let R=0,B=C.length;R<B;R++){const b=C[R];if(x.setX(b,P[R*l]),l>=2&&x.setY(b,P[R*l+1]),l>=3&&x.setZ(b,P[R*l+2]),l>=4&&x.setW(b,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return h.magFilter=iP[p.magFilter]||hn,h.minFilter=iP[p.minFilter]||Ls,h.wrapS=rP[p.wrapS]||ya,h.wrapT=rP[p.wrapT]||ya,r.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(_){const x=new an(_);x.needsUpdate=!0,p(x)}),t.load(Ts.resolveURL(d,s.path),y,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||uJ(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Pt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Pt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Pt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Dy,Fn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new yi,Fn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return yd}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Pt.KHR_MATERIALS_UNLIT]){const d=r[Pt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ne(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Cr);const h=s.alphaMode||Yx.OPAQUE;if(h===Yx.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===Yx.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==er&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ye(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==er&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==er&&(a.emissive=new Ne().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==er&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),jo(d,s),t.associations.set(d,{materials:e}),s.extensions&&Ya(r,d,s),d})}createUniqueName(e){const t=Rt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Pt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return sP(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],h=cJ(c),d=r[h];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Pt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=sP(new gt,c,t),r[h]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const h=o[l].material===void 0?oJ(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,y=h.length;m<y;m++){const _=h[m],x=o[m];let g;const A=c[m];if(x.mode===Ar.TRIANGLES||x.mode===Ar.TRIANGLE_STRIP||x.mode===Ar.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new $w(_,A):new Jn(_,A),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),x.mode===Ar.TRIANGLE_STRIP?g.geometry=eP(g.geometry,kw):x.mode===Ar.TRIANGLE_FAN&&(g.geometry=eP(g.geometry,zg));else if(x.mode===Ar.LINES)g=new rs(_,A);else if(x.mode===Ar.LINE_STRIP)g=new vo(_,A);else if(x.mode===Ar.LINE_LOOP)g=new tS(_,A);else if(x.mode===Ar.POINTS)g=new nS(_,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&lJ(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),jo(g,s),x.extensions&&Ya(r,g,x),t.assignFinalMaterial(g),d.push(g)}for(let m=0,y=d.length;m<y;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&Ya(r,d[0],s),d[0];const p=new ro;s.extensions&&Ya(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,y=d.length;m<y;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new sn(g2.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new $r(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),jo(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,h=o.length;c<h;c++){const d=o[c];if(d){a.push(d);const p=new lt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new dd(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let h=0,d=i.channels.length;h<d;h++){const p=i.channels[h],m=i.samplers[p.sampler],y=p.target,_=y.node,x=i.parameters!==void 0?i.parameters[m.input]:m.input,g=i.parameters!==void 0?i.parameters[m.output]:m.output;y.node!==void 0&&(s.push(this.getDependency("node",_)),o.push(this.getDependency("accessor",x)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(h){const d=h[0],p=h[1],m=h[2],y=h[3],_=h[4],x=[];for(let g=0,A=d.length;g<A;g++){const M=d[g],S=p[g],C=m[g],P=y[g],R=_[g];if(M===void 0)continue;M.updateMatrix();let B;switch(Oo[R.path]){case Oo.weights:B=Pu;break;case Oo.rotation:B=xa;break;case Oo.position:case Oo.scale:default:B=Ru;break}const b=M.name?M.name:M.uuid,I=P.interpolation!==void 0?sJ[P.interpolation]:Bl,J=[];Oo[R.path]===Oo.weights?M.traverse(function(q){q.morphTargetInfluences&&J.push(q.name?q.name:q.uuid)}):J.push(b);let $=C.array;if(C.normalized){const q=tM($.constructor),N=new Float32Array($.length);for(let F=0,z=$.length;F<z;F++)N[F]=$[F]*q;$=N}for(let q=0,N=J.length;q<N;q++){const F=new B(J[q]+"."+Oo[R.path],S.array,$,I);P.interpolation==="CUBICSPLINE"&&(F.createInterpolant=function(V){const L=this instanceof xa?rJ:VD;return new L(this.times,this.values,this.getValueSize()/3,V)},F.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),x.push(F)}}return new Lu(r,void 0,x)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,h=a.length;c<h;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const h=c[0],d=c[1],p=c[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,hJ)});for(let m=0,y=d.length;m<y;m++)h.add(d[m]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let h;if(s.isBone===!0?h=new Iy:c.length>1?h=new ro:c.length===1?h=c[0]:h=new Lt,h!==c[0])for(let d=0,p=c.length;d<p;d++)h.add(c[d]);if(s.name&&(h.userData.name=s.name,h.name=o),jo(h,s),s.extensions&&Ya(i,h,s),s.matrix!==void 0){const d=new lt;d.fromArray(s.matrix),h.applyMatrix4(d)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new ro;i.name&&(s.name=r.createUniqueName(i.name)),jo(s,i),i.extensions&&Ya(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,d=l.length;h<d;h++)s.add(l[h]);const c=h=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof Fn||p instanceof an)&&d.set(p,m);return h.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}}function dJ(n,e,t){const i=e.attributes,r=new is;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new k(l[0],l[1],l[2]),new k(c[0],c[1],c[2])),a.normalized){const h=tM(fu[a.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new k,l=new k;for(let c=0,h=s.length;c<h;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const _=tM(fu[p.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Lr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function sP(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=eM[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return jo(n,e),dJ(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?aJ(n,e.targets,t):n})}const Qx=new WeakMap;class pJ extends vi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new rr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(Qx.has(e)){const l=Qx.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,h)=>{r._callbacks[s]={resolve:c,reject:h},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Qx.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new gt;e.index&&t.setIndex(new kt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new kt(o,a))}return t}_loadLibrary(e,t){const i=new rr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=mJ.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function mJ(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(h=>{const d=h.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(d,p,m,c),_=y.attributes.map(x=>x.array.buffer);y.index&&_.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},_)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const h=c.attributeIDs,d=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const _={index:null,attributes:[]};for(const x in h){const g=self[d[x]];let A,M;if(c.useUniqueIDs)M=h[x],A=a.GetAttributeByUniqueId(p,M);else{if(M=a.GetAttributeId(p,o[h[x]]),M===-1)continue;A=a.GetAttribute(p,M)}_.attributes.push(r(o,a,p,x,g,A))}return y===o.TRIANGULAR_MESH&&(_.index=i(o,a,p)),o.destroy(p),_}function i(o,a,l){const h=l.num_faces()*3,d=h*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,h).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,h,d){const p=d.num_components(),y=l.num_points()*p,_=y*h.BYTES_PER_ELEMENT,x=s(o,h),g=o._malloc(_);a.GetAttributeDataArrayForAllPoints(l,d,x,_,g);const A=new h(o.HEAPF32.buffer,g,y).slice();return o._free(g),{name:c,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let bm;const qx=()=>{if(bm)return bm;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const _=d.charCodeAt(y);p[y]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let m=0;for(let y=0;y<d.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(d,p,m,y,_,x){const g=s.exports.sbrk,A=m+3&-4,M=g(A*y),S=g(_.length),C=new Uint8Array(s.exports.memory.buffer);C.set(_,S);const P=d(M,m,y,S,_.length);if(P===0&&x&&x(M,A,y),p.set(C.subarray(M,M+m*y)),g(M-g(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return bm={ready:o,supported:!0,decodeVertexBuffer(d,p,m,y,_){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,y,s.exports[c[_]])},decodeIndexBuffer(d,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,y)},decodeIndexSequence(d,p,m,y){l(s.exports.meshopt_decodeIndexSequence,d,p,m,y)},decodeGltfBuffer(d,p,m,y,_,x){l(s.exports[h[_]],d,p,m,y,s.exports[c[x]])}},bm};let Pm=null;function WD(n,e,t){return i=>{t&&t(i),n&&(Pm||(Pm=new pJ),Pm.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(Pm)),e&&i.setMeshoptDecoder(typeof qx=="function"?qx():qx)}}function $y(n,e=!0,t=!0,i){return xd(CS,n,WD(e,t,i))}$y.preload=(n,e=!0,t=!0,i)=>xd.preload(CS,n,WD(e,t,i));$y.clear=n=>xd.clear(CS,n);const jD=Y.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},h)=>{const d=wr(P=>P.invalidate),p=wr(P=>P.camera),m=wr(P=>P.gl),y=wr(P=>P.events),_=wr(P=>P.setEvents),x=wr(P=>P.set),g=wr(P=>P.get),A=wr(P=>P.performance),M=e||p,S=i||y.connected||m.domElement,C=Y.useMemo(()=>new FX(M),[M]);return ID(()=>{C.enabled&&C.update()},-1),Y.useEffect(()=>(s&&C.connect(s===!0?S:s),C.connect(S),()=>void C.dispose()),[s,S,t,C,d]),Y.useEffect(()=>{const P=b=>{d(),t&&A.regress(),o&&o(b)},R=b=>{a&&a(b)},B=b=>{l&&l(b)};return C.addEventListener("change",P),C.addEventListener("start",R),C.addEventListener("end",B),()=>{C.removeEventListener("start",R),C.removeEventListener("end",B),C.removeEventListener("change",P)}},[o,a,l,C,d,_]),Y.useEffect(()=>{if(n){const P=g().controls;return x({controls:C}),()=>x({controls:P})}},[n,C]),Y.createElement("primitive",Iu({ref:h,object:C,enableDamping:r},c))});var XD={exports:{}},gJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yJ=gJ,vJ=yJ;function JD(){}function YD(){}YD.resetWarningCache=JD;var xJ=function(){function n(i,r,s,o,a,l){if(l!==vJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YD,resetWarningCache:JD};return t.PropTypes=t,t};XD.exports=xJ();var KD=XD.exports;function QD({all:n,scene:e,camera:t}){const i=wr(({gl:o})=>o),r=wr(({camera:o})=>o),s=wr(({scene:o})=>o);return Y.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new Jw(128);new Xw(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const qD=()=>{const{progress:n}=BX();return K.jsx(LX,{center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:K.jsxs("p",{className:"text-[14px] taxt-[#f1f1f1] font-[800] mt-40",children:[n.toFixed(0),"%"]})})},_J=()=>{const n=$y("./planet/scene.gltf");return K.jsx("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},AJ=()=>K.jsx(zD,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:60,near:.1,far:200,position:[-4,3,6]},children:K.jsxs(Y.Suspense,{fallback:K.jsx(qD,{}),children:[K.jsx(jD,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),K.jsx(_J,{}),K.jsx(QD,{all:!0})]})}),MJ=({isMobile:n})=>{const e=$y("./desktop_pc/scene.gltf");return K.jsxs("mesh",{children:[K.jsx("hemisphereLight",{intensity:3,groundColor:"black"}),K.jsx("pointLight",{intensity:1}),K.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:80,intensity:1}),K.jsx("primitive",{object:e.scene,scale:n?.9:1.2,position:n?[2,-1,-1]:[1,-2,-2],rotation:[-.01,-.2,-.1]})]})},wJ=()=>{const[n,e]=Y.useState(!1);Y.useEffect(()=>{const i=window.matchMedia("(max-width: 700px)");e(i.matches);const r=s=>{e(s.matches)};return i.addEventListener("change",r),()=>{i.removeEventListener("change",r)}},[]);const t=()=>{go("canvas_clicked","ComputersCanvas")};return K.jsxs(zD,{frameloop:"demand",shadows:!0,camera:{position:[20,20,0],fov:20},gl:{preserveDrawingBuffer:!0,alpha:!0},style:{height:"40%",width:"100%",position:"relative",minHeight:"300px",cursor:"grab"},onClick:t,children:[K.jsxs(Y.Suspense,{fallback:K.jsx(qD,{}),children:[K.jsx(jD,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2,enablePan:!1}),K.jsx(MJ,{isMobile:n})]}),K.jsx(QD,{all:!0})]})},ZD=Y.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),ev=Y.createContext({}),TS=Y.createContext(null),tv=typeof document<"u",$D=tv?Y.useLayoutEffect:Y.useEffect,eF=Y.createContext({strict:!1}),bS=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),SJ="framerAppearId",tF="data-"+bS(SJ);function EJ(n,e,t,i){const{visualElement:r}=Y.useContext(ev),s=Y.useContext(eF),o=Y.useContext(TS),a=Y.useContext(ZD).reducedMotion,l=Y.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;Y.useInsertionEffect(()=>{c&&c.update(t,o)});const h=Y.useRef(!!(t[tF]&&!window.HandoffComplete));return $D(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),Y.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function $c(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function CJ(n,e,t){return Y.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):$c(t)&&(t.current=i))},[e])}function Yf(n){return typeof n=="string"||Array.isArray(n)}function nv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const PS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RS=["initial",...PS];function iv(n){return nv(n.animate)||RS.some(e=>Yf(n[e]))}function nF(n){return!!(iv(n)||n.variants)}function TJ(n,e){if(iv(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Yf(t)?t:void 0,animate:Yf(i)?i:void 0}}return n.inherit!==!1?e:{}}function bJ(n){const{initial:e,animate:t}=TJ(n,Y.useContext(ev));return Y.useMemo(()=>({initial:e,animate:t}),[oP(e),oP(t)])}function oP(n){return Array.isArray(n)?n.join(" "):n}const aP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kf={};for(const n in aP)Kf[n]={isEnabled:e=>aP[n].some(t=>!!e[t])};function PJ(n){for(const e in n)Kf[e]={...Kf[e],...n[e]}}const jg=Y.createContext({}),iF=Y.createContext({}),RJ=Symbol.for("motionComponentSymbol");function LJ({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&PJ(n);function s(a,l){let c;const h={...Y.useContext(ZD),...a,layoutId:BJ(a)},{isStatic:d}=h,p=bJ(a),m=i(a,d);if(!d&&tv){p.visualElement=EJ(r,m,h,e);const y=Y.useContext(iF),_=Y.useContext(eF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,_,n,y))}return Y.createElement(ev.Provider,{value:p},c&&p.visualElement?Y.createElement(c,{visualElement:p.visualElement,...h}):null,t(r,a,CJ(m,p.visualElement,l),m,d,p.visualElement))}const o=Y.forwardRef(s);return o[RJ]=r,o}function BJ({layoutId:n}){const e=Y.useContext(jg).id;return e&&n!==void 0?e+"-"+n:n}function IJ(n){function e(i,r={}){return LJ(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const DJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LS(n){return typeof n!="string"||n.includes("-")?!1:!!(DJ.indexOf(n)>-1||/[A-Z]/.test(n))}const Xg={};function FJ(n){Object.assign(Xg,n)}const Ad=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(Ad);function rF(n,{layout:e,layoutId:t}){return Vl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Xg[n]||n==="opacity")}const gi=n=>!!(n&&n.getVelocity),OJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NJ=Ad.length;function kJ(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<NJ;o++){const a=Ad[o];if(n[a]!==void 0){const l=OJ[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const sF=n=>e=>typeof e=="string"&&e.startsWith(n),oF=sF("--"),nM=sF("var(--"),UJ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,zJ=(n,e)=>e&&typeof n=="number"?e.transform(n):n,_a=(n,e,t)=>Math.min(Math.max(t,n),e),Wl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},hf={...Wl,transform:n=>_a(0,1,n)},Rm={...Wl,default:1},ff=n=>Math.round(n*1e5)/1e5,rv=/(-)?([\d]*\.?[\d])+/g,aF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,HJ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Md(n){return typeof n=="string"}const wd=n=>({test:e=>Md(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ho=wd("deg"),bs=wd("%"),it=wd("px"),GJ=wd("vh"),VJ=wd("vw"),lP={...bs,parse:n=>bs.parse(n)/100,transform:n=>bs.transform(n*100)},cP={...Wl,transform:Math.round},lF={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,size:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,rotate:Ho,rotateX:Ho,rotateY:Ho,rotateZ:Ho,scale:Rm,scaleX:Rm,scaleY:Rm,scaleZ:Rm,skew:Ho,skewX:Ho,skewY:Ho,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:hf,originX:lP,originY:lP,originZ:it,zIndex:cP,fillOpacity:hf,strokeOpacity:hf,numOctaves:cP};function BS(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(oF(d)){s[d]=p;continue}const m=lF[d],y=zJ(p,m);if(Vl.has(d)){if(l=!0,o[d]=y,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=y):r[d]=y}if(e.transform||(l||i?r.transform=kJ(n.transform,t,h,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const IS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cF(n,e,t){for(const i in e)!gi(e[i])&&!rF(i,t)&&(n[i]=e[i])}function WJ({transformTemplate:n},e,t){return Y.useMemo(()=>{const i=IS();return BS(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function jJ(n,e,t){const i=n.style||{},r={};return cF(r,i,n),Object.assign(r,WJ(n,e,t)),n.transformValues?n.transformValues(r):r}function XJ(n,e,t){const i={},r=jJ(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const JJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Jg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||JJ.has(n)}let uF=n=>!Jg(n);function YJ(n){n&&(uF=e=>e.startsWith("on")?!Jg(e):n(e))}try{YJ(require("@emotion/is-prop-valid").default)}catch{}function KJ(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(uF(r)||t===!0&&Jg(r)||!e&&!Jg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function uP(n,e,t){return typeof n=="string"?n:it.transform(e+t*n)}function QJ(n,e,t){const i=uP(e,n.x,n.width),r=uP(t,n.y,n.height);return`${i} ${r}`}const qJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZJ={offset:"strokeDashoffset",array:"strokeDasharray"};function $J(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?qJ:ZJ;n[s.offset]=it.transform(-i);const o=it.transform(e),a=it.transform(t);n[s.array]=`${o} ${a}`}function DS(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(BS(n,c,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:_}=n;m.transform&&(_&&(y.transform=m.transform),delete m.transform),_&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=QJ(_,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&$J(m,o,a,l,!1)}const hF=()=>({...IS(),attrs:{}}),FS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function eY(n,e,t,i){const r=Y.useMemo(()=>{const s=hF();return DS(s,e,{enableHardwareAcceleration:!1},FS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};cF(s,n.style,n),r.style={...s,...r.style}}return r}function tY(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(LS(t)?eY:XJ)(i,s,o,t),h={...KJ(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=Y.useMemo(()=>gi(d)?d.get():d,[d]);return Y.createElement(t,{...h,children:p})}}function fF(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const dF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pF(n,e,t,i){fF(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(dF.has(r)?r:bS(r),e.attrs[r])}function OS(n,e){const{style:t}=n,i={};for(const r in t)(gi(t[r])||e.style&&gi(e.style[r])||rF(r,n))&&(i[r]=t[r]);return i}function mF(n,e){const t=OS(n,e);for(const i in n)if(gi(n[i])||gi(e[i])){const r=Ad.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function NS(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function iM(n){const e=Y.useRef(null);return e.current===null&&(e.current=n()),e.current}const Yg=n=>Array.isArray(n),nY=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),iY=n=>Yg(n)?n[n.length-1]||0:n;function sg(n){const e=gi(n)?n.get():n;return nY(e)?e.toValue():e}function rY({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:sY(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const gF=n=>(e,t)=>{const i=Y.useContext(ev),r=Y.useContext(TS),s=()=>rY(n,e,i,r);return t?s():iM(s)};function sY(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=sg(s[p]);let{initial:o,animate:a}=n;const l=iv(n),c=nF(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!nv(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const y=NS(n,m);if(!y)return;const{transitionEnd:_,transition:x,...g}=y;for(const A in g){let M=g[A];if(Array.isArray(M)){const S=h?M.length-1:0;M=M[S]}M!==null&&(r[A]=M)}for(const A in _)r[A]=_[A]}),r}const wn=n=>n;class hP{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function oY(n){let e=new hP,t=new hP,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&r,p=d?e:t;return c&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const Lm=["prepare","read","update","preRender","render","postRender"],aY=40;function lY(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=Lm.reduce((d,p)=>(d[p]=oY(()=>t=!0),d),{}),o=d=>s[d].process(r),a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,aY),1),r.timestamp=d,r.isProcessing=!0,Lm.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:Lm.reduce((d,p)=>{const m=s[p];return d[p]=(y,_=!1,x=!1)=>(t||l(),m.schedule(y,_,x)),d},{}),cancel:d=>Lm.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:Xt,cancel:Is,state:fi,steps:Zx}=lY(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0),cY={useVisualState:gF({scrapeMotionValuesFromProps:mF,createRenderState:hF,onMount:(n,e,{renderState:t,latestValues:i})=>{Xt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Xt.render(()=>{DS(t,i,{enableHardwareAcceleration:!1},FS(e.tagName),n.transformTemplate),pF(e,t)})}})},uY={useVisualState:gF({scrapeMotionValuesFromProps:OS,createRenderState:IS})};function hY(n,{forwardMotionProps:e=!1},t,i){return{...LS(n)?cY:uY,preloadedFeatures:t,useRender:tY(e),createVisualElement:i,Component:n}}function so(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const yF=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function sv(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const fY=n=>e=>yF(e)&&n(e,sv(e));function lo(n,e,t,i){return so(n,e,fY(t),i)}const dY=(n,e)=>t=>e(n(t)),da=(...n)=>n.reduce(dY);function vF(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const fP=vF("dragHorizontal"),dP=vF("dragVertical");function xF(n){let e=!1;if(n==="y")e=dP();else if(n==="x")e=fP();else{const t=fP(),i=dP();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function _F(){const n=xF(!0);return n?(n(),!1):!0}class Pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function pP(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||_F())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&Xt.update(()=>a[i](s,o))};return lo(n.current,t,r,{passive:!n.getProps()[i]})}class pY extends Pa{mount(){this.unmount=da(pP(this.node,!0),pP(this.node,!1))}unmount(){}}class mY extends Pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=da(so(this.node.current,"focus",()=>this.onFocus()),so(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AF=(n,e)=>e?n===e?!0:AF(n,e.parentElement):!1;function $x(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,sv(t))}class gY extends Pa{constructor(){super(...arguments),this.removeStartListeners=wn,this.removeEndListeners=wn,this.removeAccessibleListeners=wn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=lo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h}=this.node.getProps();Xt.update(()=>{AF(this.node.current,a.target)?c&&c(a,l):h&&h(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=lo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=da(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||$x("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Xt.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=so(this.node.current,"keyup",o),$x("down",(a,l)=>{this.startPress(a,l)})},t=so(this.node.current,"keydown",e),i=()=>{this.isPressing&&$x("cancel",(s,o)=>this.cancelPress(s,o))},r=so(this.node.current,"blur",i);this.removeAccessibleListeners=da(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Xt.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_F()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Xt.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=lo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=so(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=da(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rM=new WeakMap,e_=new WeakMap,yY=n=>{const e=rM.get(n.target);e&&e(n)},vY=n=>{n.forEach(yY)};function xY({root:n,...e}){const t=n||document;e_.has(t)||e_.set(t,{});const i=e_.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(vY,{root:n,...e})),i[r]}function _Y(n,e,t){const i=xY(e);return rM.set(n,t),i.observe(n),()=>{rM.delete(n),i.unobserve(n)}}const AY={some:0,all:1};class MY extends Pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:AY[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return _Y(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wY(e,t))&&this.startObserver()}unmount(){}}function wY({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const SY={inView:{Feature:MY},tap:{Feature:gY},focus:{Feature:mY},hover:{Feature:pY}};function MF(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function EY(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function CY(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function ov(n,e,t){const i=n.getProps();return NS(i,e,t!==void 0?t:i.custom,EY(n),CY(n))}let TY=wn,av=wn;const co=n=>n*1e3,Ps=n=>n/1e3,bY={current:!1},wF=n=>Array.isArray(n)&&typeof n[0]=="number";function SF(n){return!!(!n||typeof n=="string"&&EF[n]||wF(n)||Array.isArray(n)&&n.every(SF))}const Xh=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,EF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xh([0,.65,.55,1]),circOut:Xh([.55,0,1,.45]),backIn:Xh([.31,.01,.66,-.59]),backOut:Xh([.33,1.53,.69,.99])};function CF(n){if(n)return wF(n)?Xh(n):Array.isArray(n)?n.map(CF):EF[n]}function PY(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const h=CF(a);return Array.isArray(h)&&(c.easing=h),n.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function RY(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const TF=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,LY=1e-7,BY=12;function IY(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=TF(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>LY&&++a<BY);return o}function Sd(n,e,t,i){if(n===e&&t===i)return wn;const r=s=>IY(s,0,1,n,t);return s=>s===0||s===1?s:TF(r(s),e,i)}const DY=Sd(.42,0,1,1),FY=Sd(0,0,.58,1),bF=Sd(.42,0,.58,1),PF=n=>Array.isArray(n)&&typeof n[0]!="number",RF=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,LF=n=>e=>1-n(1-e),kS=n=>1-Math.sin(Math.acos(n)),BF=LF(kS),OY=RF(kS),IF=Sd(.33,1.53,.69,.99),US=LF(IF),NY=RF(US),kY=n=>(n*=2)<1?.5*US(n):.5*(2-Math.pow(2,-10*(n-1))),UY={linear:wn,easeIn:DY,easeInOut:bF,easeOut:FY,circIn:kS,circInOut:OY,circOut:BF,backIn:US,backInOut:NY,backOut:IF,anticipate:kY},sM=n=>{if(Array.isArray(n)){av(n.length===4);const[e,t,i,r]=n;return Sd(e,t,i,r)}else if(typeof n=="string")return UY[n];return n},zS=(n,e)=>t=>!!(Md(t)&&HJ.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),DF=(n,e,t)=>i=>{if(!Md(i))return i;const[r,s,o,a]=i.match(rv);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zY=n=>_a(0,255,n),t_={...Wl,transform:n=>Math.round(zY(n))},dl={test:zS("rgb","red"),parse:DF("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+t_.transform(n)+", "+t_.transform(e)+", "+t_.transform(t)+", "+ff(hf.transform(i))+")"};function HY(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const oM={test:zS("#"),parse:HY,transform:dl.transform},eu={test:zS("hsl","hue"),parse:DF("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+bs.transform(ff(e))+", "+bs.transform(ff(t))+", "+ff(hf.transform(i))+")"},wi={test:n=>dl.test(n)||oM.test(n)||eu.test(n),parse:n=>dl.test(n)?dl.parse(n):eu.test(n)?eu.parse(n):oM.parse(n),transform:n=>Md(n)?n:n.hasOwnProperty("red")?dl.transform(n):eu.transform(n)},on=(n,e,t)=>-t*n+t*e+n;function n_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function GY({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=n_(l,a,n+1/3),s=n_(l,a,n),o=n_(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const i_=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},VY=[oM,dl,eu],WY=n=>VY.find(e=>e.test(n));function mP(n){const e=WY(n);let t=e.parse(n);return e===eu&&(t=GY(t)),t}const FF=(n,e)=>{const t=mP(n),i=mP(e),r={...t};return s=>(r.red=i_(t.red,i.red,s),r.green=i_(t.green,i.green,s),r.blue=i_(t.blue,i.blue,s),r.alpha=on(t.alpha,i.alpha,s),dl.transform(r))};function jY(n){var e,t;return isNaN(n)&&Md(n)&&(((e=n.match(rv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(aF))===null||t===void 0?void 0:t.length)||0)>0}const OF={regex:UJ,countKey:"Vars",token:"${v}",parse:wn},NF={regex:aF,countKey:"Colors",token:"${c}",parse:wi.parse},kF={regex:rv,countKey:"Numbers",token:"${n}",parse:Wl.parse};function r_(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function Kg(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&r_(t,OF),r_(t,NF),r_(t,kF),t}function UF(n){return Kg(n).values}function zF(n){const{values:e,numColors:t,numVars:i,tokenised:r}=Kg(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(OF.token,o[l]):l<i+t?a=a.replace(NF.token,wi.transform(o[l])):a=a.replace(kF.token,ff(o[l]));return a}}const XY=n=>typeof n=="number"?0:n;function JY(n){const e=UF(n);return zF(n)(e.map(XY))}const Aa={test:jY,parse:UF,createTransformer:zF,getAnimatableNone:JY},HF=(n,e)=>t=>`${t>0?e:n}`;function GF(n,e){return typeof n=="number"?t=>on(n,e,t):wi.test(n)?FF(n,e):n.startsWith("var(")?HF(n,e):WF(n,e)}const VF=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>GF(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},YY=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=GF(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},WF=(n,e)=>{const t=Aa.createTransformer(e),i=Kg(n),r=Kg(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?da(VF(i.values,r.values),t):HF(n,e)},Du=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},gP=(n,e)=>t=>on(n,e,t);function KY(n){return typeof n=="number"?gP:typeof n=="string"?wi.test(n)?FF:WF:Array.isArray(n)?VF:typeof n=="object"?YY:gP}function QY(n,e,t){const i=[],r=t||KY(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||wn:e;a=da(l,a)}i.push(a)}return i}function jF(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(av(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=QY(e,i,r),a=o.length,l=c=>{let h=0;if(a>1)for(;h<n.length-2&&!(c<n[h+1]);h++);const d=Du(n[h],n[h+1],c);return o[h](d)};return t?c=>l(_a(n[0],n[s-1],c)):l}function XF(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Du(0,e,i);n.push(on(t,1,r))}}function JF(n){const e=[0];return XF(e,n.length-1),e}function qY(n,e){return n.map(t=>t*e)}function ZY(n,e){return n.map(()=>e||bF).splice(0,n.length-1)}function Qg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=PF(i)?i.map(sM):sM(i),s={done:!1,value:e[0]},o=qY(t&&t.length===e.length?t:JF(e),n),a=jF(o,e,{ease:Array.isArray(r)?r:ZY(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function YF(n,e){return e?n*(1e3/e):0}const $Y=5;function KF(n,e,t){const i=Math.max(e-$Y,0);return YF(t-n(i),e-i)}const s_=.001,e7=.01,yP=10,t7=.05,n7=1;function i7({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;TY(n<=co(yP));let o=1-e;o=_a(t7,n7,o),n=_a(e7,yP,Ps(n)),o<1?(r=c=>{const h=c*o,d=h*n,p=h-t,m=aM(c,o),y=Math.exp(-d);return s_-p/m*y},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-d),_=aM(Math.pow(c,2),o);return(-r(c)+s_>0?-1:1)*((p-m)*y)/_}):(r=c=>{const h=Math.exp(-c*n),d=(c-t)*n+1;return-s_+h*d},s=c=>{const h=Math.exp(-c*n),d=(t-c)*(n*n);return h*d});const a=5/n,l=s7(r,s,a);if(n=co(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const r7=12;function s7(n,e,t){let i=t;for(let r=1;r<r7;r++)i=i-n(i)/e(i);return i}function aM(n,e){return n*Math.sqrt(1-e*e)}const o7=["duration","bounce"],a7=["stiffness","damping","mass"];function vP(n,e){return e.some(t=>n[t]!==void 0)}function l7(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!vP(n,a7)&&vP(n,o7)){const t=i7(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function HS({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=l7({...i,velocity:-Ps(i.velocity||0)}),m=d||0,y=l/(2*Math.sqrt(a*c)),_=s-r,x=Ps(Math.sqrt(a/c)),g=Math.abs(_)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let A;if(y<1){const M=aM(x,y);A=S=>{const C=Math.exp(-y*x*S);return s-C*((m+y*x*_)/M*Math.sin(M*S)+_*Math.cos(M*S))}}else if(y===1)A=M=>s-Math.exp(-x*M)*(_+(m+x*_)*M);else{const M=x*Math.sqrt(y*y-1);A=S=>{const C=Math.exp(-y*x*S),P=Math.min(M*S,300);return s-C*((m+y*x*_)*Math.sinh(P)+M*_*Math.cosh(P))/M}}return{calculatedDuration:p&&h||null,next:M=>{const S=A(M);if(p)o.done=M>=h;else{let C=m;M!==0&&(y<1?C=KF(A,M,S):C=0);const P=Math.abs(C)<=t,R=Math.abs(s-S)<=e;o.done=P&&R}return o.value=o.done?s:S,o}}}function xP({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],p={done:!1,value:d},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,y=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let _=t*e;const x=d+_,g=o===void 0?x:o(x);g!==x&&(_=g-d);const A=B=>-_*Math.exp(-B/i),M=B=>g+A(B),S=B=>{const b=A(B),I=M(B);p.done=Math.abs(b)<=c,p.value=p.done?g:I};let C,P;const R=B=>{m(p.value)&&(C=B,P=HS({keyframes:[p.value,y(p.value)],velocity:KF(M,B,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return R(0),{calculatedDuration:null,next:B=>{let b=!1;return!P&&C===void 0&&(b=!0,S(B),R(B)),C!==void 0&&B>C?P.next(B-C):(!b&&S(B),p)}}}const c7=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Xt.update(e,!0),stop:()=>Is(e),now:()=>fi.isProcessing?fi.timestamp:performance.now()}},lM=2e4;function cM(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<lM;)e+=t,i=n.next(e);return e>=lM?1/0:e}const u7={decay:xP,inertia:xP,tween:Qg,keyframes:Qg,spring:HS};function qg({autoplay:n=!0,delay:e=0,driver:t=c7,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...p}){let m=1,y=!1,_,x;const g=()=>{x=new Promise(U=>{_=U})};g();let A;const M=u7[r]||Qg;let S;M!==Qg&&typeof i[0]!="number"&&(S=jF([0,100],i,{clamp:!1}),i=[0,100]);const C=M({...p,keyframes:i});let P;a==="mirror"&&(P=M({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let R="idle",B=null,b=null,I=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=cM(C));const{calculatedDuration:J}=C;let $=1/0,q=1/0;J!==null&&($=J+o,q=$*(s+1)-o);let N=0;const F=U=>{if(b===null)return;m>0&&(b=Math.min(b,U)),m<0&&(b=Math.min(U-q/m,b)),B!==null?N=B:N=Math.round(U-b)*m;const X=N-e*(m>=0?1:-1),le=m>=0?X<0:X>q;N=Math.max(X,0),R==="finished"&&B===null&&(N=q);let he=N,ve=C;if(s){const ut=Math.min(N,q)/$;let tt=Math.floor(ut),we=ut%1;!we&&ut>=1&&(we=1),we===1&&tt--,tt=Math.min(tt,s+1),!!(tt%2)&&(a==="reverse"?(we=1-we,o&&(we-=o/$)):a==="mirror"&&(ve=P)),he=_a(0,1,we)*$}const Se=le?{done:!1,value:i[0]}:ve.next(he);S&&(Se.value=S(Se.value));let{done:Ie}=Se;!le&&J!==null&&(Ie=m>=0?N>=q:N<=0);const Ve=B===null&&(R==="finished"||R==="running"&&Ie);return d&&d(Se.value),Ve&&L(),Se},z=()=>{A&&A.stop(),A=void 0},V=()=>{R="idle",z(),_(),g(),b=I=null},L=()=>{R="finished",h&&h(),z(),_()},O=()=>{if(y)return;A||(A=t(F));const U=A.now();l&&l(),B!==null?b=U-B:(!b||R==="finished")&&(b=U),R==="finished"&&g(),I=b,B=null,R="running",A.start()};n&&O();const H={then(U,X){return x.then(U,X)},get time(){return Ps(N)},set time(U){U=co(U),N=U,B!==null||!A||m===0?B=U:b=A.now()-U/m},get duration(){const U=C.calculatedDuration===null?cM(C):C.calculatedDuration;return Ps(U)},get speed(){return m},set speed(U){U===m||!A||(m=U,H.time=Ps(N))},get state(){return R},play:O,pause:()=>{R="paused",B=N},stop:()=>{y=!0,R!=="idle"&&(R="idle",c&&c(),V())},cancel:()=>{I!==null&&F(I),V()},complete:()=>{R="finished"},sample:U=>(b=0,F(U))};return H}function QF(n){let e;return()=>(e===void 0&&(e=n()),e)}const h7=QF(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),f7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bm=10,d7=2e4,p7=(n,e)=>e.type==="spring"||n==="backgroundColor"||!SF(e.ease);function m7(n,e,{onUpdate:t,onComplete:i,...r}){if(!(h7()&&f7.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const h=()=>{l=new Promise(M=>{a=M})};h();let{keyframes:d,duration:p=300,ease:m,times:y}=r;if(p7(e,r)){const M=qg({...r,repeat:0,delay:0});let S={done:!1,value:d[0]};const C=[];let P=0;for(;!S.done&&P<d7;)S=M.sample(P),C.push(S.value),P+=Bm;y=void 0,d=C,p=P-Bm,m="linear"}const _=PY(n.owner.current,e,d,{...r,duration:p,ease:m,times:y}),x=()=>{c=!1,_.cancel()},g=()=>{c=!0,Xt.update(x),a(),h()};return _.onfinish=()=>{c||(n.set(RY(d,r)),i&&i(),g())},{then(M,S){return l.then(M,S)},attachTimeline(M){return _.timeline=M,_.onfinish=null,wn},get time(){return Ps(_.currentTime||0)},set time(M){_.currentTime=co(M)},get speed(){return _.playbackRate},set speed(M){_.playbackRate=M},get duration(){return Ps(p)},play:()=>{o||(_.play(),Is(x))},pause:()=>_.pause(),stop:()=>{if(o=!0,_.playState==="idle")return;const{currentTime:M}=_;if(M){const S=qg({...r,autoplay:!1});n.setWithVelocity(S.sample(M-Bm).value,S.sample(M).value,Bm)}g()},complete:()=>{c||_.finish()},cancel:g}}function g7({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:wn,pause:wn,stop:wn,then:s=>(s(),Promise.resolve()),cancel:wn,complete:wn});return e?qg({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const y7={type:"spring",stiffness:500,damping:25,restSpeed:10},v7=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),x7={type:"keyframes",duration:.8},_7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A7=(n,{keyframes:e})=>e.length>2?x7:Vl.has(n)?n.startsWith("scale")?v7(e[1]):y7:_7,uM=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Aa.test(e)||e==="0")&&!e.startsWith("url(")),M7=new Set(["brightness","contrast","saturate","opacity"]);function w7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(rv)||[];if(!i)return n;const r=t.replace(i,"");let s=M7.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const S7=/([a-z-]*)\(.*?\)/g,hM={...Aa,getAnimatableNone:n=>{const e=n.match(S7);return e?e.map(w7).join(" "):n}},E7={...lF,color:wi,backgroundColor:wi,outlineColor:wi,fill:wi,stroke:wi,borderColor:wi,borderTopColor:wi,borderRightColor:wi,borderBottomColor:wi,borderLeftColor:wi,filter:hM,WebkitFilter:hM},GS=n=>E7[n];function qF(n,e){let t=GS(n);return t!==hM&&(t=Aa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const ZF=n=>/^0[^.\s]+$/.test(n);function C7(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||ZF(n)}function T7(n,e,t,i){const r=uM(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),C7(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];s[h]=qF(e,a)}return s}function b7({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function VS(n,e){return n[e]||n.default||n}const P7={skipAnimations:!1},WS=(n,e,t,i={})=>r=>{const s=VS(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-co(o);const l=T7(e,n,t,s),c=l[0],h=l[l.length-1],d=uM(n,c),p=uM(n,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(b7(s)||(m={...m,...A7(n,m)}),m.duration&&(m.duration=co(m.duration)),m.repeatDelay&&(m.repeatDelay=co(m.repeatDelay)),!d||!p||bY.current||s.type===!1||P7.skipAnimations)return g7(m);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=m7(e,n,m);if(y)return y}return qg(m)};function Zg(n){return!!(gi(n)&&n.add)}const $F=n=>/^\-?\d*\.?\d+$/.test(n);function jS(n,e){n.indexOf(e)===-1&&n.push(e)}function lv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class XS{constructor(){this.subscriptions=[]}add(e){return jS(this.subscriptions,e),()=>lv(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const R7=n=>!isNaN(parseFloat(n));class L7{constructor(e,t={}){this.version="10.17.9",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=fi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Xt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=R7(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new XS);const i=this.events[e].add(t);return e==="change"?()=>{i(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?YF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fu(n,e){return new L7(n,e)}const eO=n=>e=>e.test(n),B7={test:n=>n==="auto",parse:n=>n},tO=[Wl,it,bs,Ho,VJ,GJ,B7],Oh=n=>tO.find(eO(n)),I7=[...tO,wi,Aa],D7=n=>I7.find(eO(n));function F7(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Fu(t))}function O7(n,e){const t=ov(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=iY(s[o]);F7(n,o,a)}}function N7(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),h!=null&&(typeof h=="string"&&($F(h)||ZF(h))?h=parseFloat(h):!D7(h)&&Aa.test(c)&&(h=qF(l,c)),n.addValue(l,Fu(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function k7(n,e){return e?(e[n]||e.default||e).from:void 0}function U7(n,e,t){const i={};for(const r in n){const s=k7(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function z7({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function H7(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function JS(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||h&&z7(h,d))continue;const y={delay:t,elapsed:0,...VS(s||{},d)};if(window.HandoffAppearAnimations){const g=n.getProps()[tF];if(g){const A=window.HandoffAppearAnimations(g,d,p,Xt);A!==null&&(y.elapsed=A,y.isHandoff=!0)}}let _=!y.isHandoff&&!H7(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(_=!1),p.animation&&(_=!1),_)continue;p.start(WS(d,p,m,n.shouldReduceMotion&&Vl.has(d)?{type:!1}:y));const x=p.animation;Zg(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&O7(n,o)}),c}function fM(n,e,t={}){const i=ov(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(JS(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=r;return G7(n,e,c+l,h,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function G7(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(V7).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(fM(c,e,{...s,delay:t+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function V7(n,e){return n.sortNodePosition(e)}function W7(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>fM(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=fM(n,e,t);else{const r=typeof e=="function"?ov(n,e,t.custom):e;i=Promise.all(JS(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const j7=[...PS].reverse(),X7=PS.length;function J7(n){return e=>Promise.all(e.map(({animation:t,options:i})=>W7(n,t,i)))}function Y7(n){let e=J7(n);const t=Q7();let i=!0;const r=(l,c)=>{const h=ov(n,c);if(h){const{transition:d,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const h=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},_=1/0;for(let g=0;g<X7;g++){const A=j7[g],M=t[A],S=h[A]!==void 0?h[A]:d[A],C=Yf(S),P=A===c?M.isActive:null;P===!1&&(_=g);let R=S===d[A]&&S!==h[A]&&C;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),M.protectedKeys={...y},!M.isActive&&P===null||!S&&!M.prevProp||nv(S)||typeof S=="boolean")continue;let b=K7(M.prevProp,S)||A===c&&M.isActive&&!R&&C||g>_&&C,I=!1;const J=Array.isArray(S)?S:[S];let $=J.reduce(r,{});P===!1&&($={});const{prevResolvedValues:q={}}=M,N={...q,...$},F=z=>{b=!0,m.has(z)&&(I=!0,m.delete(z)),M.needsAnimating[z]=!0};for(const z in N){const V=$[z],L=q[z];if(y.hasOwnProperty(z))continue;let O=!1;Yg(V)&&Yg(L)?O=!MF(V,L):O=V!==L,O?V!==void 0?F(z):m.add(z):V!==void 0&&m.has(z)?F(z):M.protectedKeys[z]=!0}M.prevProp=S,M.prevResolvedValues=$,M.isActive&&(y={...y,...$}),i&&n.blockInitialAnimation&&(b=!1),b&&(!R||I)&&p.push(...J.map(z=>({animation:z,options:{type:A,...l}})))}if(m.size){const g={};m.forEach(A=>{const M=n.getBaseTarget(A);M!==void 0&&(g[A]=M)}),p.push({animation:g})}let x=!!p.length;return i&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,c,h){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(h,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function K7(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!MF(e,n):!1}function Ka(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q7(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class q7 extends Pa{constructor(e){super(e),e.animationState||(e.animationState=Y7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),nv(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Z7=0;class $7 extends Pa{constructor(){super(...arguments),this.id=Z7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const eK={animation:{Feature:q7},exit:{Feature:$7}},_P=(n,e)=>Math.abs(n-e);function tK(n,e){const t=_P(n.x,e.x),i=_P(n.y,e.y);return Math.sqrt(t**2+i**2)}class nO{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=a_(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=tK(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=d,{timestamp:_}=fi;this.history.push({...y,timestamp:_});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=o_(p,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=a_(d.type==="pointercancel"?this.lastMoveEventInfo:o_(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,x),y&&y(d,x)},!yF(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=sv(e),a=o_(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=fi;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=t;h&&h(e,a_(a,this.history)),this.removeListeners=da(lo(this.contextWindow,"pointermove",this.handlePointerMove),lo(this.contextWindow,"pointerup",this.handlePointerUp),lo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Is(this.updatePoint)}}function o_(n,e){return e?{point:e(n.point)}:n}function AP(n,e){return{x:n.x-e.x,y:n.y-e.y}}function a_({point:n},e){return{point:n,delta:AP(n,iO(e)),offset:AP(n,nK(e)),velocity:iK(e,.1)}}function nK(n){return n[0]}function iO(n){return n[n.length-1]}function iK(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=iO(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>co(e)));)t--;if(!i)return{x:0,y:0};const s=Ps(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sr(n){return n.max-n.min}function dM(n,e=0,t=.01){return Math.abs(n-e)<=t}function MP(n,e,t,i=.5){n.origin=i,n.originPoint=on(e.min,e.max,n.origin),n.scale=sr(t)/sr(e),(dM(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=on(t.min,t.max,n.origin)-n.originPoint,(dM(n.translate)||isNaN(n.translate))&&(n.translate=0)}function df(n,e,t,i){MP(n.x,e.x,t.x,i?i.originX:void 0),MP(n.y,e.y,t.y,i?i.originY:void 0)}function wP(n,e,t){n.min=t.min+e.min,n.max=n.min+sr(e)}function rK(n,e,t){wP(n.x,e.x,t.x),wP(n.y,e.y,t.y)}function SP(n,e,t){n.min=e.min-t.min,n.max=n.min+sr(e)}function pf(n,e,t){SP(n.x,e.x,t.x),SP(n.y,e.y,t.y)}function sK(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?on(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?on(t,n,i.max):Math.min(n,t)),n}function EP(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function oK(n,{top:e,left:t,bottom:i,right:r}){return{x:EP(n.x,t,r),y:EP(n.y,e,i)}}function CP(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function aK(n,e){return{x:CP(n.x,e.x),y:CP(n.y,e.y)}}function lK(n,e){let t=.5;const i=sr(n),r=sr(e);return r>i?t=Du(e.min,e.max-i,n.min):i>r&&(t=Du(n.min,n.max-r,e.min)),_a(0,1,t)}function cK(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const pM=.35;function uK(n=pM){return n===!1?n=0:n===!0&&(n=pM),{x:TP(n,"left","right"),y:TP(n,"top","bottom")}}function TP(n,e,t){return{min:bP(n,e),max:bP(n,t)}}function bP(n,e){return typeof n=="number"?n:n[e]||0}const PP=()=>({translate:0,scale:1,origin:0,originPoint:0}),tu=()=>({x:PP(),y:PP()}),RP=()=>({min:0,max:0}),Bn=()=>({x:RP(),y:RP()});function _r(n){return[n("x"),n("y")]}function rO({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function hK({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function fK(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function l_(n){return n===void 0||n===1}function mM({scale:n,scaleX:e,scaleY:t}){return!l_(n)||!l_(e)||!l_(t)}function tl(n){return mM(n)||sO(n)||n.z||n.rotate||n.rotateX||n.rotateY}function sO(n){return LP(n.x)||LP(n.y)}function LP(n){return n&&n!=="0%"}function $g(n,e,t){const i=n-t,r=e*i;return t+r}function BP(n,e,t,i,r){return r!==void 0&&(n=$g(n,r,i)),$g(n,t,i)+e}function gM(n,e=0,t=1,i,r){n.min=BP(n.min,e,t,i,r),n.max=BP(n.max,e,t,i,r)}function oO(n,{x:e,y:t}){gM(n.x,e.translate,e.scale,e.originPoint),gM(n.y,t.translate,t.scale,t.originPoint)}function dK(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&nu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,oO(n,o)),i&&tl(s.latestValues)&&nu(n,s.latestValues))}e.x=IP(e.x),e.y=IP(e.y)}function IP(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Xo(n,e){n.min=n.min+e,n.max=n.max+e}function DP(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=on(n.min,n.max,s);gM(n,e[t],e[i],o,e.scale)}const pK=["x","scaleX","originX"],mK=["y","scaleY","originY"];function nu(n,e){DP(n.x,e,pK),DP(n.y,e,mK)}function aO(n,e){return rO(fK(n.getBoundingClientRect(),e))}function gK(n,e,t){const i=aO(n,t),{scroll:r}=e;return r&&(Xo(i.x,r.offset.x),Xo(i.y,r.offset.y)),i}const lO=({current:n})=>n?n.ownerDocument.defaultView:null,yK=new WeakMap;class vK{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(sv(h,"page").point)},s=(h,d)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xF(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_r(x=>{let g=this.getAxisMotionValue(x).get()||0;if(bs.test(g)){const{projection:A}=this.visualElement;if(A&&A.layout){const M=A.layout.layoutBox[x];M&&(g=sr(M)*(parseFloat(g)/100))}}this.originPoint[x]=g}),y&&Xt.update(()=>y(h,d),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:_}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=d;if(m&&this.currentDirection===null){this.currentDirection=xK(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),_&&_(h,d)},a=(h,d)=>this.stop(h,d),l=()=>_r(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new nO(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:lO(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Xt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Im(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=sK(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&$c(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=oK(r.layoutBox,t):this.constraints=!1,this.elastic=uK(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_r(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=cK(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!$c(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=gK(i,r.root,this.visualElement.getTransformPagePoint());let o=aK(r.layout.layoutBox,s);if(t){const a=t(hK(o));this.hasMutatedConstraints=!!a,a&&(o=rO(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=_r(h=>{if(!Im(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(WS(e,i,0,t))}stopAnimation(){_r(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_r(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){_r(t=>{const{drag:i}=this.getProps();if(!Im(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-on(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!$c(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};_r(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=lK({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),_r(o=>{if(!Im(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(on(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;yK.set(this.visualElement,this);const e=this.visualElement.current,t=lo(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();$c(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=so(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_r(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=pM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Im(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function xK(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class _K extends Pa{constructor(e){super(e),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new vK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const FP=n=>(e,t)=>{n&&Xt.update(()=>n(e,t))};class AK extends Pa{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(e){this.session=new nO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:FP(e),onStart:FP(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Xt.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=lo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MK(){const n=Y.useContext(TS);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=Y.useId();return Y.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const og={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OP(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Nh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(it.test(n))n=parseFloat(n);else return n;const t=OP(n,e.target.x),i=OP(n,e.target.y);return`${t}% ${i}%`}},wK={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Aa.parse(n);if(r.length>5)return i;const s=Aa.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=on(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class SK extends uo.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;FJ(EK),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),og.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Xt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cO(n){const[e,t]=MK(),i=Y.useContext(jg);return uo.createElement(SK,{...n,layoutGroup:i,switchLayoutGroup:Y.useContext(iF),isPresent:e,safeToRemove:t})}const EK={borderRadius:{...Nh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nh,borderTopRightRadius:Nh,borderBottomLeftRadius:Nh,borderBottomRightRadius:Nh,boxShadow:wK},uO=["TopLeft","TopRight","BottomLeft","BottomRight"],CK=uO.length,NP=n=>typeof n=="string"?parseFloat(n):n,kP=n=>typeof n=="number"||it.test(n);function TK(n,e,t,i,r,s){r?(n.opacity=on(0,t.opacity!==void 0?t.opacity:1,bK(i)),n.opacityExit=on(e.opacity!==void 0?e.opacity:1,0,PK(i))):s&&(n.opacity=on(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<CK;o++){const a=`border${uO[o]}Radius`;let l=UP(e,a),c=UP(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||kP(l)===kP(c)?(n[a]=Math.max(on(NP(l),NP(c),i),0),(bs.test(c)||bs.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=on(e.rotate||0,t.rotate||0,i))}function UP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const bK=hO(0,.5,BF),PK=hO(.5,.95,wn);function hO(n,e,t){return i=>i<n?0:i>e?1:t(Du(n,e,i))}function zP(n,e){n.min=e.min,n.max=e.max}function vr(n,e){zP(n.x,e.x),zP(n.y,e.y)}function HP(n,e,t,i,r){return n-=e,n=$g(n,1/t,i),r!==void 0&&(n=$g(n,1/r,i)),n}function RK(n,e=0,t=1,i=.5,r,s=n,o=n){if(bs.test(e)&&(e=parseFloat(e),e=on(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=on(s.min,s.max,i);n===s&&(a-=e),n.min=HP(n.min,e,t,a,r),n.max=HP(n.max,e,t,a,r)}function GP(n,e,[t,i,r],s,o){RK(n,e[t],e[i],e[r],e.scale,s,o)}const LK=["x","scaleX","originX"],BK=["y","scaleY","originY"];function VP(n,e,t,i){GP(n.x,e,LK,t?t.x:void 0,i?i.x:void 0),GP(n.y,e,BK,t?t.y:void 0,i?i.y:void 0)}function WP(n){return n.translate===0&&n.scale===1}function fO(n){return WP(n.x)&&WP(n.y)}function IK(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function dO(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function jP(n){return sr(n.x)/sr(n.y)}class DK{constructor(){this.members=[]}add(e){jS(this.members,e),e.scheduleRender()}remove(e){if(lv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XP(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:h}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const FK=(n,e)=>n.depth-e.depth;class OK{constructor(){this.children=[],this.isDirty=!1}add(e){jS(this.children,e),this.isDirty=!0}remove(e){lv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FK),this.isDirty=!1,this.children.forEach(e)}}function NK(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Is(i),n(s-e))};return Xt.read(i,!0),()=>Is(i)}function kK(n){window.MotionDebug&&window.MotionDebug.record(n)}function pO(n){return n instanceof SVGElement&&n.tagName!=="svg"}function YS(n,e,t){const i=gi(n)?n:Fu(n);return i.start(WS("",i,e,t)),i.animation}const JP=["","X","Y","Z"],UK={visibility:"hidden"},YP=1e3;let zK=0;const nl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=zK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nl.totalNodes=nl.resolvedTargetDeltas=nl.recalculatedProjection=0,this.nodes.forEach(VK),this.nodes.forEach(YK),this.nodes.forEach(KK),this.nodes.forEach(WK),kK(nl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new OK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new XS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pO(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=NK(p,250),og.hasAnimatedSinceResize&&(og.hasAnimatedSinceResize=!1,this.nodes.forEach(QP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||eQ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=h.getProps(),A=!this.targetLayout||!dO(this.targetLayout,y)||m,M=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,M);const S={...VS(_,"layout"),onPlay:x,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||QP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KP);return}this.isUpdating||this.nodes.forEach(XK),this.isUpdating=!1,this.nodes.forEach(JK),this.nodes.forEach(HK),this.nodes.forEach(GK),this.clearAllSnapshots();const a=performance.now();fi.delta=_a(0,1e3/60,a-fi.timestamp),fi.timestamp=a,fi.isProcessing=!0,Zx.update.process(fi),Zx.preRender.process(fi),Zx.render.process(fi),fi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(jK),this.sharedNodes.forEach(qK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!fO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||tl(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),tQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Bn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Xo(a.x,l.offset.x),Xo(a.y,l.offset.y)),a}removeElementScroll(o){const a=Bn();vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){vr(a,o);const{scroll:p}=this.root;p&&(Xo(a.x,-p.offset.x),Xo(a.y,-p.offset.y))}Xo(a.x,h.offset.x),Xo(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Bn();vr(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&nu(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),tl(h.latestValues)&&nu(l,h.latestValues)}return tl(this.latestValues)&&nu(l,this.latestValues),l}removeTransform(o){const a=Bn();vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!tl(c.latestValues))continue;mM(c.latestValues)&&c.updateSnapshot();const h=Bn(),d=c.measurePageBox();vr(h,d),VP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return tl(this.latestValues)&&VP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=fi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),pf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bn(),this.targetWithTransforms=Bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),oO(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),pf(this.relativeTargetOrigin,this.target,m.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mM(this.parent.latestValues)||sO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fi.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;vr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;dK(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=tu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=tu(),this.projectionDeltaWithTransform=tu());const _=this.projectionTransform;df(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=XP(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),nl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=tu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Bn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,_=m!==y,x=this.getStack(),g=!x||x.members.length<=1,A=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some($K));this.animationProgress=0;let M;this.mixTargetDelta=S=>{const C=S/1e3;qP(d.x,o.x,C),qP(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZK(this.relativeTarget,this.relativeTargetOrigin,p,C),M&&IK(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Bn()),vr(M,this.relativeTarget)),_&&(this.animationValues=h,TK(h,c,this.latestValues,C,A,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{og.hasAnimatedSinceResize=!0,this.currentAnimation=YS(0,YP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&gO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Bn();const d=sr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=sr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}vr(a,l),nu(a,h),df(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DK),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<JP.length;h++){const d="rotate"+JP[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UK;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sg(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=sg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!tl(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=XP(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in Xg){if(p[_]===void 0)continue;const{correct:x,applyTo:g}=Xg[_],A=c.transform==="none"?p[_]:x(p[_],d);if(g){const M=g.length;for(let S=0;S<M;S++)c[g[S]]=A}else c[_]=A}return this.options.layoutId&&(c.pointerEvents=d===this?sg(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KP),this.root.sharedNodes.clear()}}}function HK(n){n.updateLayout()}function GK(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?_r(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=sr(p);p.min=i[d].min,p.max=p.min+m}):gO(s,t.layoutBox,i)&&_r(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=sr(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=tu();df(a,i,t.layoutBox);const l=tu();o?df(l,n.applyTransform(r,!0),t.measuredBox):df(l,i,t.layoutBox);const c=!fO(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=Bn();pf(y,t.layoutBox,p.layoutBox);const _=Bn();pf(_,i,m.layoutBox),dO(y,_)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function VK(n){nl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function WK(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function jK(n){n.clearSnapshot()}function KP(n){n.clearMeasurements()}function XK(n){n.isLayoutDirty=!1}function JK(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function QP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function YK(n){n.resolveTargetDelta()}function KK(n){n.calcProjection()}function QK(n){n.resetRotation()}function qK(n){n.removeLeadSnapshot()}function qP(n,e,t){n.translate=on(e.translate,0,t),n.scale=on(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function ZP(n,e,t,i){n.min=on(e.min,t.min,i),n.max=on(e.max,t.max,i)}function ZK(n,e,t,i){ZP(n.x,e.x,t.x,i),ZP(n.y,e.y,t.y,i)}function $K(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const eQ={duration:.45,ease:[.4,0,.1,1]},$P=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),eR=$P("applewebkit/")&&!$P("chrome/")?Math.round:wn;function tR(n){n.min=eR(n.min),n.max=eR(n.max)}function tQ(n){tR(n.x),tR(n.y)}function gO(n,e,t){return n==="position"||n==="preserve-aspect"&&!dM(jP(e),jP(t),.2)}const nQ=mO({attachResizeListener:(n,e)=>so(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),c_={current:void 0},yO=mO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!c_.current){const n=new nQ({});n.mount(window),n.setOptions({layoutScroll:!0}),c_.current=n}return c_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),iQ={pan:{Feature:AK},drag:{Feature:_K,ProjectionNode:yO,MeasureLayout:cO}},rQ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function sQ(n){const e=rQ.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function yM(n,e,t=1){const[i,r]=sQ(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return $F(o)?parseFloat(o):o}else return nM(r)?yM(r,e,t+1):r}function oQ(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!nM(s))return;const o=yM(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!nM(s))continue;const o=yM(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const aQ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vO=n=>aQ.has(n),lQ=n=>Object.keys(n).some(vO),nR=n=>n===Wl||n===it,iR=(n,e)=>parseFloat(n.split(", ")[e]),rR=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return iR(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?iR(s[1],n):0}},cQ=new Set(["x","y","z"]),uQ=Ad.filter(n=>!cQ.has(n));function hQ(n){const e=[];return uQ.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Ou={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:rR(4,13),y:rR(5,14)};Ou.translateX=Ou.x;Ou.translateY=Ou.y;const fQ=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=Ou[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),n[c]=Ou[c](l,s)}),n},dQ=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(vO);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],d=Oh(h);const p=e[l];let m;if(Yg(p)){const y=p.length,_=p[0]===null?1:0;h=p[_],d=Oh(h);for(let x=_;x<y&&p[x]!==null;x++)m?av(Oh(p[x])===m):m=Oh(p[x])}else m=Oh(p);if(d!==m)if(nR(d)&&nR(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===it&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?c.set(m.transform(h)):e[l]=d.transform(p):(o||(s=hQ(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=fQ(e,n,a);return s.length&&s.forEach(([h,d])=>{n.getValue(h).set(d)}),n.render(),tv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function pQ(n,e,t,i){return lQ(e)?dQ(n,e,t,i):{target:e,transitionEnd:i}}const mQ=(n,e,t,i)=>{const r=oQ(n,e,i);return e=r.target,i=r.transitionEnd,pQ(n,e,t,i)},vM={current:null},xO={current:!1};function gQ(){if(xO.current=!0,!!tv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>vM.current=n.matches;n.addListener(e),e()}else vM.current=!1}function yQ(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(gi(s))n.addValue(r,s),Zg(i)&&i.add(r);else if(gi(o))n.addValue(r,Fu(s,{owner:n})),Zg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Fu(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Qf=new WeakMap,_O=Object.keys(Kf),vQ=_O.length,sR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xQ=RS.length;class _Q{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=iv(t),this.isVariantNode=nF(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{});for(const d in h){const p=h[d];a[d]!==void 0&&gi(p)&&(p.set(a[d],!1),Zg(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Qf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),xO.current||gQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qf.delete(this.current),this.projection&&this.projection.unmount(),Is(this.notifyUpdate),Is(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Vl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<vQ;l++){const c=_O[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:m}=Kf[c];p&&(o=p),h(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&$c(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<sR.length;i++){const r=sR[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=yQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<xQ;i++){const r=RS[i],s=this.props[r];(Yf(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Fu(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=NS(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!gi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new XS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class AO extends _Q{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=U7(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){N7(this,i,o);const a=mQ(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function AQ(n){return window.getComputedStyle(n)}class MO extends AO{readValueFromInstance(e,t){if(Vl.has(t)){const i=GS(t);return i&&i.default||0}else{const i=AQ(e),r=(oF(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return aO(e,t)}build(e,t,i,r){BS(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return OS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){fF(e,t,i,r)}}class wO extends AO{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Vl.has(t)){const i=GS(t);return i&&i.default||0}return t=dF.has(t)?t:bS(t),e.getAttribute(t)}measureInstanceViewportBox(){return Bn()}scrapeMotionValuesFromProps(e,t){return mF(e,t)}build(e,t,i,r){DS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){pF(e,t,i,r)}mount(e){this.isSVGTag=FS(e.tagName),super.mount(e)}}const MQ=(n,e)=>LS(n)?new wO(e,{enableHardwareAcceleration:!1}):new MO(e,{enableHardwareAcceleration:!0}),wQ={layout:{ProjectionNode:yO,MeasureLayout:cO}},SQ={...eK,...SY,...iQ,...wQ},Ot=IJ((n,e)=>hY(n,e,SQ,MQ));function EQ(){const n=Y.useRef(!1);return $D(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function CQ(){const n=EQ(),[e,t]=Y.useState(0),i=Y.useCallback(()=>{n.current&&t(e+1)},[e]);return[Y.useCallback(()=>Xt.postRender(i),[i]),e]}function TQ(n){return Y.useEffect(()=>()=>n(),[])}const bQ=Y.createContext(null),PQ=n=>!n.isLayoutDirty&&n.willUpdate(!1);function oR(){const n=new Set,e=new WeakMap,t=()=>n.forEach(PQ);return{add:i=>{n.add(i),e.set(i,i.addEventListener("willUpdate",t))},remove:i=>{n.delete(i);const r=e.get(i);r&&(r(),e.delete(i)),t()},dirty:t}}const SO=n=>n===!0,RQ=n=>SO(n===!0)||n==="id",LQ=({children:n,id:e,inherit:t=!0})=>{const i=Y.useContext(jg),r=Y.useContext(bQ),[s,o]=CQ(),a=Y.useRef(null),l=i.id||r;a.current===null&&(RQ(t)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:SO(t)&&i.group||oR()});const c=Y.useMemo(()=>({...a.current,forceRender:s}),[o]);return Y.createElement(jg.Provider,{value:c},n)};function EO(n,e,t){var i;if(typeof n=="string"){let r=document;e&&(av(!!e.current),r=e.current),t?((i=t[n])!==null&&i!==void 0||(t[n]=r.querySelectorAll(n)),n=t[n]):n=r.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}function BQ(n,e){let t;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;t!==o&&n(o),t=o};return Xt.update(i,!0),()=>Is(i)}const IQ=QF(()=>window.ScrollTimeline!==void 0);class CO{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e){const t=this.animations.map(i=>{if(IQ()&&i.attachTimeline)i.attachTimeline(e);else return i.pause(),BQ(r=>{i.time=i.duration*r},e)});return()=>{t.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function DQ(n){return typeof n=="object"&&!Array.isArray(n)}function FQ(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=pO(n)?new wO(e,{enableHardwareAcceleration:!1}):new MO(e,{enableHardwareAcceleration:!0});t.mount(n),Qf.set(n,t)}function OQ(n,e=100){const t=HS({keyframes:[0,e],...n}),i=Math.min(cM(t),lM);return{type:"keyframes",ease:r=>t.next(i*r).value/e,duration:Ps(i)}}function aR(n,e,t,i){var r;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(r=i.get(e))!==null&&r!==void 0?r:n}const NQ=(n,e,t)=>{const i=e-n;return((t-n)%i+i)%i+n};function kQ(n,e){return PF(n)?n[NQ(0,n.length,e)]:n}function UQ(n,e,t){for(let i=0;i<n.length;i++){const r=n[i];r.at>e&&r.at<t&&(lv(n,r),i--)}}function zQ(n,e,t,i,r,s){UQ(n,r,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:on(r,s,i[o]),easing:kQ(t,o)})}function HQ(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const GQ="easeInOut";function VQ(n,{defaultTransition:e={},...t}={},i){const r=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,h=0,d=0;for(let p=0;p<n.length;p++){const m=n[p];if(typeof m=="string"){l.set(m,h);continue}else if(!Array.isArray(m)){l.set(m.name,aR(h,m.at,c,l));continue}let[y,_,x={}]=m;x.at!==void 0&&(h=aR(h,x.at,c,l));let g=0;const A=(M,S,C,P=0,R=0)=>{const B=WQ(M),{delay:b=0,times:I=JF(B),type:J="keyframes",...$}=S;let{ease:q=e.ease||"easeOut",duration:N}=S;const F=typeof b=="function"?b(P,R):b,z=B.length;if(z<=2&&J==="spring"){let H=100;if(z===2&&JQ(B)){const le=B[1]-B[0];H=Math.abs(le)}const U={...$};N!==void 0&&(U.duration=co(N));const X=OQ(U,H);q=X.ease,N=X.duration}N??(N=r);const V=h+F,L=V+N;I.length===1&&I[0]===0&&(I[1]=1);const O=I.length-B.length;O>0&&XF(I,O),B.length===1&&B.unshift(null),zQ(C,B,q,I,V,L),g=Math.max(F+N,g),d=Math.max(L,d)};if(gi(y)){const M=lR(y,o);A(_,x,cR("default",M))}else{const M=EO(y,i,a),S=M.length;for(let C=0;C<S;C++){_=_,x=x;const P=M[C],R=lR(P,o);for(const B in _)A(_[B],jQ(x,B),cR(B,R),C,S)}c=h,h+=g}}return o.forEach((p,m)=>{for(const y in p){const _=p[y];_.sort(HQ);const x=[],g=[],A=[];for(let S=0;S<_.length;S++){const{at:C,value:P,easing:R}=_[S];x.push(P),g.push(Du(0,d,C)),A.push(R||"easeOut")}g[0]!==0&&(g.unshift(0),x.unshift(x[0]),A.unshift(GQ)),g[g.length-1]!==1&&(g.push(1),x.push(null)),s.has(m)||s.set(m,{keyframes:{},transition:{}});const M=s.get(m);M.keyframes[y]=x,M.transition[y]={...e,duration:d,ease:A,times:g,...t}}}),s}function lR(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function cR(n,e){return e[n]||(e[n]=[]),e[n]}function WQ(n){return Array.isArray(n)?n:[n]}function jQ(n,e){return n[e]?{...n,...n[e]}:{...n}}const XQ=n=>typeof n=="number",JQ=n=>n.every(XQ);function TO(n,e,t,i){const r=EO(n,i),s=r.length,o=[];for(let a=0;a<s;a++){const l=r[a];Qf.has(l)||FQ(l);const c=Qf.get(l),h={...t};typeof h.delay=="function"&&(h.delay=h.delay(a,s)),o.push(...JS(c,{...e,transition:h},{}))}return new CO(o)}const YQ=n=>Array.isArray(n)&&Array.isArray(n[0]);function KQ(n,e,t){const i=[];return VQ(n,e,t).forEach(({keyframes:s,transition:o},a)=>{let l;gi(a)?l=YS(a,s.default,o.default):l=TO(a,s,o),i.push(l)}),new CO(i)}const QQ=n=>{function e(t,i,r){let s;return YQ(t)?s=KQ(t,i,n):DQ(i)?s=TO(t,i,r,n):s=YS(t,i,r),n&&n.animations.push(s),s}return e};function qQ(){const n=iM(()=>({current:null,animations:[]})),e=iM(()=>QQ(n));return TQ(()=>{n.animations.forEach(t=>t.stop())}),[n,e]}function ZQ(n,e){if(n==="first")return 0;{const t=e-1;return n==="last"?t:t/2}}function $Q(n=.1,{startDelay:e=0,from:t=0,ease:i}={}){return(r,s)=>{const o=typeof t=="number"?t:ZQ(t,s),a=Math.abs(o-r);let l=n*a;if(i){const c=s*n;l=sM(i)(l/c)*c}return e+l}}const Ma={paddingX:"px-4",padding:"px-4 py-4",sectionHeadText:"text-white font-black text-6xl",sectionSubText:"text-lg text-secondary uppercase tracking-wider"},eq=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),KS=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),bO=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),tq=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),cv=(n,e)=>function(){return K.jsxs(Ot.section,{variants:tq(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.1},className:`${Ma.padding} max-w-7xl mx-auto relative z-0`,children:[K.jsx("span",{className:"hash-span",id:e,children:" "}),K.jsx(n,{})]})},nq=({name:n,value:e,onChange:t,placeholder:i,label:r})=>K.jsxs("label",{className:"flex flex-col",children:[K.jsx("span",{className:"text-white font-medium mb-4",children:r}),K.jsx("input",{type:"email",name:n,value:e,onChange:t,placeholder:i,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),iq=({loading:n})=>K.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:n?"Sending...":"Send"}),rq=({name:n,value:e,onChange:t,placeholder:i,label:r})=>K.jsxs("label",{className:"flex flex-col",children:[K.jsx("span",{className:"text-white font-medium mb-4",children:r}),K.jsx("textarea",{rows:7,name:n,value:e,onChange:t,placeholder:i,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),sq=({name:n,value:e,onChange:t,placeholder:i,label:r})=>K.jsxs("label",{className:"flex flex-col",children:[K.jsx("span",{className:"text-white font-medium mb-4",children:r}),K.jsx("input",{type:"text",name:n,value:e,onChange:t,placeholder:i,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),oq="/assets/logo-62e96d7c.svg",aq="/assets/backend-565fc01f.png",lq="/assets/sql-896ef2f5.png",cq="/assets/web-0d05165f.png",QS="/assets/github-3b4e1609.png",uq="/assets/menu-242d80a8.svg",hq="/assets/close-ad0e0ca6.svg",fq="/assets/css-79a7f026.png",dq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",pq="/assets/html-92b76a73.png",mq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",gq="/assets/nodejs-d83eb6dd.png",yq="/assets/reactjs-966214a8.png",vq="/assets/sql-server-e364bf21.png",xq="/assets/todo-app-7025d98f.png",_q="/assets/battleship-486d89a0.png",Aq="/assets/winningMindset-4ddd208a.png",Mq="/assets/linkedin-1ea6f11b.png",wq=()=>K.jsxs(Ot.footer,{layout:!0,className:"flex justify-center items-center gap-4 mb-2 mt-10",children:[K.jsx("p",{children:"mgkdante"}),K.jsx("a",{href:"https://github.com/mgkdante",target:"_blank",rel:"noopener noreferrer",children:K.jsx("img",{src:QS,alt:"GitHub",className:"w-6 h-6"})}),K.jsx("a",{href:"https://github.com/mgkdante/yesid-portfolio",target:"_blank",rel:"noopener noreferrer",children:"Source code"})]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xM=function(){return xM=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},xM.apply(this,arguments)};function Sq(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}var du="",mf=null,ag=null,PO=null;function qS(){du="",mf!==null&&mf.disconnect(),ag!==null&&(window.clearTimeout(ag),ag=null)}function uR(n){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(n.tagName)&&!n.hasAttribute("disabled")||t.includes(n.tagName)&&n.hasAttribute("href")}function hR(){var n=null;if(du==="#")n=document.body;else{var e=du.replace("#","");n=document.getElementById(e),n===null&&du==="#top"&&(n=document.body)}if(n!==null){PO(n);var t=n.getAttribute("tabindex");return t===null&&!uR(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),t===null&&!uR(n)&&(n.blur(),n.removeAttribute("tabindex")),qS(),!0}return!1}function Eq(n){window.setTimeout(function(){hR()===!1&&(mf===null&&(mf=new MutationObserver(hR)),mf.observe(document,{attributes:!0,childList:!0,subtree:!0}),ag=window.setTimeout(function(){qS()},n||1e4))},0)}function RO(n){return uo.forwardRef(function(e,t){var i="";typeof e.to=="string"&&e.to.includes("#")?i="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(i=e.to.hash);var r={};n===hI&&(r.isActive=function(a,l){return a&&a.isExact&&l.hash===i});function s(a){qS(),du=e.elementId?"#"+e.elementId:i,e.onClick&&e.onClick(a),du!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(PO=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},Eq(e.timeout))}var o=Sq(e,["scroll","smooth","timeout","elementId"]);return uo.createElement(n,xM({},r,o,{onClick:s,ref:t}),e.children)})}var fR=RO(sf);RO(hI);const u_={title:"Hi, I'm Yesid",role:"An App Developer ",description:"from Montreal, Canada. I aspire to help others offer great solutions with a strong focus on user events and maintainable code."},dR={title:"Projects",subtitle:"My work",description:`As a hobbyist developer, I have developed some projects using
                different technologies. From this portfolio using React and Vite to
                some projects using vanilla JavaScript and CSS.
                In addition to web development, I've also worked on some Android
                projects using Android Compose.
                These projects have been a great way for me to develop my skills as a
                developer and explore my passion for creating innovative solutions.
                I'm excited to continue working on new projects and pushing the
                boundaries of what's possible with web and mobile development.`},Cq=[{name:"Battleship",description:"This is a classic naval strategy game implemented in JavaScript using ES6 modules. Play against a computer opponent with options for manual or random ship placement.",image:_q,source_code_link:"https://github.com/mgkdante/Battleship",demo_link:"https://mgkdante.github.io/Battleship/"},{name:"Todo App",description:"A simple todo list application developed using vanilla JavaScript and CSS. The application allows users to create and edit projects, as well as tasks within those projects. All data is saved in localStorage for persistence. Webpack was used for bundling the application.",image:xq,source_code_link:"https://github.com/mgkdante/todo-app",demo_link:"http://mgkdante.github.io/todo-app"},{name:"Habits App for Android",description:"This Android application helps you track your goals and milestones, fostering a winning mindset. It's built with Jetpack Compose and utilizes modern Android development practices.",image:Aq,source_code_link:"https://github.com/mgkdante/HabitsApps",demo_link:"https://github.com/mgkdante/HabitsApps"}],Tq={title:"Stack",subtitle:"knowledge"},bq=[{name:"HTML 5",icon:pq},{name:"CSS 3",icon:fq},{name:"JavaScript",icon:mq},{name:"React JS",icon:yq},{name:"Node JS",icon:gq},{name:"Git",icon:dq},{name:"SQL Server",icon:vq}],pR=[{id:"overview",title:"Overview"},{id:"tech",title:"Tech"},{id:"projects",title:"Projects"},{id:"contact",title:"Contact"},{id:"resume",title:"Resume"}],mR={title:"Contact",subtitle:"Get in touch"},Lc={name:{label:"Your Name",placeholder:"What's your good name?"},email:{label:"Your Email",placeholder:"What's your web address?"},message:{label:"Your Message",placeholder:"What you want to say?"}},eo={name:"Yesid Otalora",contact:{location:"Montreal (Québec)",phone:"1-819-446-5594",email:"contact@yesid.dev",website:"http://www.yesid.dev/"},skills:["HTML","CSS","JavaScript","NodeJS","React","Django","Jetpack Compose"],personalQualities:["Curious","Team player","Determined","Efficient","Creative","Organized","Quick learner"],languages:["English","French","Spanish"],education:[{title:"University studies– Bachelor of Science in Computer Science",institution:"Bishop's University (Lennoxville)",period:"2019 - 2022"},{title:"College studies – Accounting and Management Technology",institution:"Champlain College (Lennoxville)",period:"2014 - 2018"}],workExperience:[{title:"SQL Developer",institution:"Global Excel",period:"2021 - Present",tasks:["Debug the company's database","Create and maintain Stored Procedures","Create and maintain SSRS reports","Work on any request by the business side concerning data management."]},{title:"Owner and Founder",institution:"Themsocks.com",period:"2018 - 2020",tasks:["Build a Shopify website","Work on some custom CSS styling","Work with Google and Facebook channels","Ship products at the post office on a regular basis"]},{title:"Assistant Accountant",institution:"Services d'administration marcoux",period:"2018 - 2019",tasks:["Make the financial reports of companies and individuals","Correct the data entered in the bookkeeping system","Verify that all client folders are up to date","Make the tax report of companies and individuals"]}],hobbies:[{title:"App Development",description:"I enjoy spending my free time improving my app development skills and building interesting projects.",tasks:["Completed courses on Coursera to deepen my understanding of various web and app development technologies.","Practiced problem-solving and coding skills on HackerRank.","Followed The Odin Project (TOP) curriculum for a comprehensive, community-driven web development learning path.","Applied learning from TOP to build projects, including this portfolio and several Android apps.","Explored Webflow and created a website: https://stylelibrestudios.com for a client"]}],certifications:[{name:"Developing Back-End Apps with Node.js and Express",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/QLEA7J4MKE3S"},{name:"Developing Front-End Apps with React",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/5572UF2X2CJC"},{name:"Django Web Framework",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/HHP4GUFRA2LG"},{name:"HTML and CSS in depth",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/GQLG9B5QMMB9"},{name:"Introduction to Cloud Computing",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/4FHCX2SE2ZRC"},{name:"Introduction to Databases for Back-End Development",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/YTPFFYYD3K8E"},{name:"Introduction to Web Development with HTML, CSS, JavaScript",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/G9KJBVS8RMYW"},{name:"React Basics",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/MZKYB9THPNJX"},{name:"Programming in Python",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/4NMGCBHN3ECX"},{name:"Foundations of User Experience (UX) Design",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/G5235ZF599EW"},{name:"Programming with JavaScript",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/P5S4LU9N7DWQ"},{name:"Start the UX Design Process: Empathize, Define, and Ideate",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/XW9DAMZX4REY"},{name:"Version Control",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/VE7G5TTJY8BQ"},{name:"Introduction to Back-End Development",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/GEA76K7HKU5K"},{name:"Introduction to Front-End Development",provider:"Coursera",link:"https://www.coursera.org/account/accomplishments/certificate/JJNYYY7HNUJM"}]},gR={title:"Overview",subtitle:"What I offer",description:"Welcome to my portfolio! As a Bishop's University Computer Science alumnus, I'm passionate about advancing in the ever-evolving tech world. Eager for software development opportunities, I'm committed to contributing to innovation and supporting the growth of communities and businesses in Canada. Here's a showcase of my key skills and areas of growth."},Pq=[{title:"Front-End Developer",icon:cq,whyTitle:"What I love about the Front-End",why:"I'm passionate about Front-End development because it allows me to tell stories through code, creating emotional connections with users. Just as I simplify daily interactions in my personal life, I use Front-End development to enhance user experiences and make things easier for others.",whatTitle:"What I have tried",what:"I've explored various frameworks like React, and Django, along with styling libraries including Tailwind CSS, Bootstrap, and Material U. For design, I've used Figma and Adobe XD, preferring Figma while continuing to enhance my design skills.",challenge:"I'm aiming to develop applications that address user problems, understand their needs, and ensure a comfortable user events."},{title:"Back-End Developer",icon:aq,whyTitle:"What I love about the Back-End",why:"I appreciate the Back-End for its abstract, non-visual nature, where beautiful and functional code can significantly impact users. I'm patiently striving to become a top-tier back-end developer capable of changing lives with my work.",whatTitle:"What I have tried",what:"My events in back-end development, though limited, includes working with frameworks like Django Rest Framework and ExpressJS, enough to build a REST API and connect it to a database. I'm enhancing my skills through The Odin Project, confident that soon I'll be capable of developing a complete back-end application.",challenge:"My long term goal is to become a seasoned full-stack developer."},{title:"SQL Developer",icon:lq,whyTitle:"What I love about SQL",why:"SQL's strength lies in its simple yet powerful ability to store, retrieve, and customize data efficiently. Its ease of use and performance optimization, especially with Data Structure Algorithms (DSA) for query enhancement, are particularly fascinating.",whatTitle:"What I have tried",what:"As a SQL developer skilled in SQL Server, SSRS, and some SSIS, I've also experimented with MySQL and SQLite in my personal projects. Additionally, I've explored ORM abstractions in Android (Room) and Django, as well as delving into NoSQL and Firebase.",challenge:"Really looking forward to make SQL second nature and be able to craft beautiful apps from the database to the ui "}],Rq=()=>{const[n,e]=Y.useState(""),[t,i]=Y.useState(!1),r=Y.useRef(null),s=Y.useRef(null);Y.useEffect(()=>{const a=c=>{r.current&&!r.current.contains(c.target)&&s.current!==c.target&&i(!1)},l=()=>{i(!1)};return document.addEventListener("mousedown",a),window.addEventListener("scroll",l),()=>{document.removeEventListener("mousedown",a),window.removeEventListener("scroll",l)}},[]);const o=a=>{e(a),go("navigation_clicked",{action:`Clicked on ${a}`})};return K.jsx("nav",{className:`${Ma.paddingX} border-b border-gray-900 w-full flex items-center fixed top-0 z-20  bg-opacity-60 backdrop-blur-md`,children:K.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto px-2 md:px-4 lg:px-6 xl:px-8",children:[K.jsx(sf,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:K.jsx("img",{src:oq,alt:"logo",className:"w-[120px] h-[100px]"})}),K.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:pR.map(a=>K.jsx("li",{className:`${n===a.title?"font-bold":"font-medium"} hover:font-bold text-[18px] font-medium cursor-pointer`,onClick:()=>o(a.title),children:a.id==="resume"?K.jsx(sf,{to:`/${a.id}`,onClick:()=>window.scrollTo(0,0),children:a.title}):K.jsx(fR,{smooth:!0,to:`/#${a.id}`,children:a.title})},a.id))}),K.jsxs("div",{className:"sm:hidden flex items-center flex-1 justify-end pr-5",children:[K.jsx("img",{ref:s,src:t?hq:uq,alt:"menu",className:"w-[28px] h-[h-28px] cursor-pointer object-contain",onClick:()=>{i(!t),go("menu_toggled",{action:`Menu ${t?"Closed":"Opened"}`})}}),K.jsx("div",{ref:r,className:`${t?"flex":"hidden"} p-6 bg-black backdrop-blur-md bg-opacity-80 absolute top-20 right-0 mx-4 mt-6 min-w-[140px] z-10 rounded-xl border-1 border-gray-900 border`,children:K.jsx("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:pR.map(a=>K.jsx("li",{className:`${n===a.title?"font-bold":"text-white"} hover:font-bold font-medium cursor-pointer text-[16px]`,onClick:()=>{i(!t),o(a.title)},children:a.id==="resume"?K.jsx(sf,{to:`/${a.id}`,onClick:()=>window.scrollTo(0,0),children:a.title}):K.jsx(fR,{smooth:!0,to:`/#${a.id}`,children:a.title})},a.id))})})]})]})})},LO=({section:n})=>K.jsx(Ot.p,{variants:KS("","",.1,1),className:"mt-4 text-secondary text-[17px] w-full leading-[30px] text-justify",children:n.description}),ZS=({section:n})=>K.jsxs(Ot.div,{variants:eq(),children:[K.jsx("p",{className:Ma.sectionSubText,children:n.subtitle}),K.jsx("h2",{className:Ma.sectionHeadText,children:n.title})]});function BO(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=BO(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Lq(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=BO(n))&&(i&&(i+=" "),i+=e);return i}const $S="-";function Bq(n){const e=Dq(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;function r(o){const a=o.split($S);return a[0]===""&&a.length!==1&&a.shift(),IO(a,e)||Iq(o)}function s(o,a){const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}return{getClassGroupId:r,getConflictingClassGroupIds:s}}function IO(n,e){var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?IO(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join($S);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const yR=/^\[(.+)\]$/;function Iq(n){if(yR.test(n)){const e=yR.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function Dq(n){const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return Oq(Object.entries(n.classGroups),t).forEach(([s,o])=>{_M(o,i,s,e)}),i}function _M(n,e,t,i){n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:vR(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(Fq(r)){_M(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{_M(o,vR(e,s),t,i)})})}function vR(n,e){let t=n;return e.split($S).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t}function Fq(n){return n.isThemeGetter}function Oq(n,e){return e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,r]}):n}function Nq(n){if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;function r(s,o){t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)}return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}}const DO="!";function kq(n){const e=n.separator,t=e.length===1,i=e[0],r=e.length;return function(o){const a=[];let l=0,c=0,h;for(let _=0;_<o.length;_++){let x=o[_];if(l===0){if(x===i&&(t||o.slice(_,_+r)===e)){a.push(o.slice(c,_)),c=_+r;continue}if(x==="/"){h=_;continue}}x==="["?l++:x==="]"&&l--}const d=a.length===0?o:o.substring(c),p=d.startsWith(DO),m=p?d.substring(1):d,y=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}}}function Uq(n){if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e}function zq(n){return{cache:Nq(n.cacheSize),splitModifiers:kq(n),...Bq(n)}}const Hq=/\s+/;function Gq(n,e){const{splitModifiers:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=new Set;return n.trim().split(Hq).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:h}=t(o);let d=i(h?c.substring(0,h):c),p=!!h;if(!d){if(!h)return{isTailwindClass:!1,originalClassName:o};if(d=i(c),!d)return{isTailwindClass:!1,originalClassName:o};p=!1}const m=Uq(a).join(":");return{isTailwindClass:!0,modifierId:l?m+DO:m,classGroupId:d,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=o,h=a+l;return s.has(h)?!1:(s.add(h),r(l,c).forEach(d=>s.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function Vq(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=FO(e))&&(i&&(i+=" "),i+=t);return i}function FO(n){if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=FO(n[i]))&&(t&&(t+=" "),t+=e);return t}function Wq(n,...e){let t,i,r,s=o;function o(l){const c=e.reduce((h,d)=>d(h),n());return t=zq(c),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const h=Gq(l,t);return r(l,h),h}return function(){return s(Vq.apply(null,arguments))}}function qt(n){const e=t=>t[n]||[];return e.isThemeGetter=!0,e}const OO=/^\[(?:([a-z-]+):)?(.+)\]$/i,jq=/^\d+\/\d+$/,Xq=new Set(["px","full","screen"]),Jq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kq=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ks(n){return pl(n)||Xq.has(n)||jq.test(n)}function No(n){return Ju(n,"length",rZ)}function pl(n){return!!n&&!Number.isNaN(Number(n))}function Dm(n){return Ju(n,"number",pl)}function kh(n){return!!n&&Number.isInteger(Number(n))}function qq(n){return n.endsWith("%")&&pl(n.slice(0,-1))}function vt(n){return OO.test(n)}function ko(n){return Jq.test(n)}const Zq=new Set(["length","size","percentage"]);function $q(n){return Ju(n,Zq,NO)}function eZ(n){return Ju(n,"position",NO)}const tZ=new Set(["image","url"]);function nZ(n){return Ju(n,tZ,oZ)}function iZ(n){return Ju(n,"",sZ)}function Uh(){return!0}function Ju(n,e,t){const i=OO.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1}function rZ(n){return Yq.test(n)}function NO(){return!1}function sZ(n){return Kq.test(n)}function oZ(n){return Qq.test(n)}function aZ(){const n=qt("colors"),e=qt("spacing"),t=qt("blur"),i=qt("brightness"),r=qt("borderColor"),s=qt("borderRadius"),o=qt("borderSpacing"),a=qt("borderWidth"),l=qt("contrast"),c=qt("grayscale"),h=qt("hueRotate"),d=qt("invert"),p=qt("gap"),m=qt("gradientColorStops"),y=qt("gradientColorStopPositions"),_=qt("inset"),x=qt("margin"),g=qt("opacity"),A=qt("padding"),M=qt("saturate"),S=qt("scale"),C=qt("sepia"),P=qt("skew"),R=qt("space"),B=qt("translate"),b=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",vt,e],$=()=>[vt,e],q=()=>["",Ks,No],N=()=>["auto",pl,vt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],L=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",vt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[pl,Dm],X=()=>[pl,vt];return{cacheSize:500,separator:":",theme:{colors:[Uh],spacing:[Ks,No],blur:["none","",ko,vt],brightness:U(),borderColor:[n],borderRadius:["none","","full",ko,vt],borderSpacing:$(),borderWidth:q(),contrast:U(),grayscale:O(),hueRotate:X(),invert:O(),gap:$(),gradientColorStops:[n],gradientColorStopPositions:[qq,No],inset:J(),margin:J(),opacity:U(),padding:$(),saturate:U(),scale:U(),sepia:O(),skew:X(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",vt]}],container:["container"],columns:[{columns:[ko]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),vt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kh,vt]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vt]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",kh,vt]}],"grid-cols":[{"grid-cols":[Uh]}],"col-start-end":[{col:["auto",{span:["full",kh,vt]},vt]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Uh]}],"row-start-end":[{row:["auto",{span:[kh,vt]},vt]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vt,e]}],"min-w":[{"min-w":[vt,e,"min","max","fit"]}],"max-w":[{"max-w":[vt,e,"none","full","min","max","fit","prose",{screen:[ko]},ko]}],h:[{h:[vt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ko,No]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dm]}],"font-family":[{font:[Uh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vt]}],"line-clamp":[{"line-clamp":["none",pl,Dm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,vt]}],"list-image":[{"list-image":["none",vt]}],"list-style-type":[{list:["none","disc","decimal",vt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,No]}],"underline-offset":[{"underline-offset":["auto",Ks,vt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),eZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$q]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nZ]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:z()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Ks,vt]}],"outline-w":[{outline:[Ks,No]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Ks,No]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ko,iZ]}],"shadow-color":[{shadow:[Uh]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ko,vt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[M]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vt]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",vt]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",vt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[kh,vt]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ks,No,Dm]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const lZ=Wq(aZ);function qf(...n){return lZ(Lq(n))}const xR=({words:n,className:e})=>{const[t,i]=qQ();let r=n.split(" ");Y.useEffect(()=>{i("span",{opacity:1},{duration:2,delay:$Q(.2)})},[t.current]);const s=()=>K.jsx(Ot.span,{ref:t,children:r.map((o,a)=>K.jsxs(Ot.span,{className:"opacity-0",children:[o," "]},o+a))});return K.jsx("div",{className:qf("",e),children:K.jsx("div",{className:"mt-4",children:K.jsx("div",{className:"leading-snug tracking-wide",children:s()})})})},cZ=()=>K.jsxs("div",{className:"text-justify",children:[K.jsx(xR,{className:`${Ma.sectionHeadText}`,words:u_.title}),K.jsxs("div",{className:"mt-4 text-secondary text-[20px] w-full leading-[30px] text-justify font-medium",children:[K.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-300 via-blue-500 to-purple-600 text-[2rem]",children:u_.role})," ",K.jsx(xR,{className:"font-semibold",words:u_.description})]})]}),uZ=n=>{const[e,t]=Y.useState(n);return[e,t]},hZ=(n,e)=>{Y.useEffect(()=>{const t=setTimeout(n,e);return()=>clearTimeout(t)},[n,e])},fZ=()=>{const[n,e]=uZ(!0);return hZ(()=>{e(!1)},5e3),n?K.jsx("div",{className:"absolute top-0 right-full mr-2 w-32 text-center text-white p-2 rounded",children:"Click here to scroll to the next section"}):null},dZ=()=>K.jsxs("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2 relative",title:"Click here to scroll to next section",children:[K.jsx(fZ,{}),K.jsx(Ot.div,{animate:{y:[0,24,0]},transition:{repeat:1/0,duration:4,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-white mb-1"})]}),pZ=()=>K.jsxs("section",{className:"w-full h-[calc(100vh-100px)] flex flex-col justify-between items-center relative mx-auto pb-16",children:[K.jsx("div",{className:`${Ma.paddingX} max-w-7xl mx-auto flex flex-row items-start gap-5`,children:K.jsx(cZ,{})}),K.jsx(wJ,{}),K.jsx("a",{href:"#overview",className:"z-10 w-full flex justify-center items-center",children:K.jsx(dZ,{})})]}),mZ=()=>K.jsx(pZ,{}),kO=({index:n,title:e,icon:t,whyTitle:i,why:r,whatTitle:s,what:o,challenge:a,isClickable:l=!1,openCardIndex:c,setOpenCardIndex:h})=>{const d=y=>{go("card_clicked",{action:y})},p=()=>{l&&(h(c===n?null:n),d(e))},m=c===n;return K.jsx(Ot.div,{layout:!0,children:K.jsx(Ot.div,{layout:!0,className:`${m?"w-[90%] md:w-[450px] mx-auto":"w-[250px] mx-auto"}`,children:K.jsx(Ot.div,{variants:KS("right","spring",.5*n,.75),className:"w-full rounded-[20px] shadow-card",children:K.jsxs(Ot.div,{onClick:p,options:{max:45,scale:1,speed:450},className:`my-5 bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center
                        flex-col backdrop-blur-md bg-opacity-60  ${l?"cursor-pointer":""}`,children:[K.jsx(Ot.img,{layout:"position",src:t,alt:e,className:"w-16 h-16 object-contain"}),K.jsx(Ot.h3,{layout:"position",className:"text-white text-[16px] font-bold text-center",children:e}),l&&K.jsx(Ot.div,{animate:{rotate:m?180:0},transition:{duration:.5},children:K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-white",children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),K.jsx("br",{}),m&&K.jsxs(Ot.div,{className:"text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[K.jsx(Ot.p,{className:"font-bold",children:i}),K.jsx(Ot.p,{children:r}),K.jsx("br",{}),K.jsx(Ot.p,{className:"font-bold",children:s}),K.jsx(Ot.p,{children:o}),K.jsx("br",{}),K.jsx(Ot.p,{children:a})]})]})})})})},gZ=()=>{const[n,e]=Y.useState(null);return K.jsx(Ot.div,{className:"mt-20 flex flex-wrap justify-evenly",children:Pq.map((t,i)=>K.jsx(kO,{index:i,...t,isClickable:!0,openCardIndex:n,setOpenCardIndex:e},t.title))})},yZ=()=>K.jsxs(Ot.div,{children:[K.jsx(ZS,{section:gR}),K.jsx(LO,{section:gR}),K.jsx(gZ,{})]}),vZ=cv(yZ,"overview");function xZ(n,e,t,i){return new(t||(t=Promise))(function(r,s){function o(c){try{l(i.next(c))}catch(h){s(h)}}function a(c){try{l(i.throw(c))}catch(h){s(h)}}function l(c){var h;c.done?r(c.value):(h=c.value,h instanceof t?h:new t(function(d){d(h)})).then(o,a)}l((i=i.apply(n,e||[])).next())})}const _R=(n,e,t,i)=>{n.style.transition=`${e} ${t}ms ${i}`},Zs=(n,e,t)=>Math.min(Math.max(n,e),t);class _Z{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:a,height:l}=o,c=Math.sqrt(Math.pow(a,2)+Math.pow(l,2));return{width:c,height:c}},this.setSize=o=>{const a=this.calculateGlareSize(o);this.glareEl.style.width=`${a.width}px`,this.glareEl.style.height=`${a.height}px`},this.update=(o,a,l,c)=>{this.updateAngle(o,a.glareReverse),this.updateOpacity(o,a,l,c)},this.updateAngle=(o,a)=>{const{xPercentage:l,yPercentage:c}=o,h=180/Math.PI,d=l?Math.atan2(c,-l)*h:0;this.glareAngle=d-(a?180:0)},this.updateOpacity=(o,a,l,c)=>{const{xPercentage:h,yPercentage:d}=o,{glarePosition:p,glareReverse:m,glareMaxOpacity:y}=a,_=l?-1:1,x=c?-1:1,g=m?-1:1;let A=0;switch(p){case"top":A=-h*_*g;break;case"right":A=d*x*g;break;case"bottom":case void 0:A=h*_*g;break;case"left":A=-d*x*g;break;case"all":A=Math.hypot(h,d)}const M=Zs(A,0,100);this.glareOpacity=M*y/100},this.render=o=>{const{glareColor:a}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${a} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,s)}}class AZ{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:i,yPercentage:r}=e,{tiltMaxAngleX:s,tiltMaxAngleY:o}=t;this.tiltAngleX=i*s/100,this.tiltAngleY=r*o/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:i,tiltAngleYManual:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=t;(i!==null||r!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=r!==null?r:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=Zs(this.tiltAngleX,-90,90),this.tiltAngleY=Zs(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:i}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const MZ=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class UO extends Y.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>xZ(this,void 0,void 0,function*(){if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?(yield e())==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)}),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t(e.type),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":const{tiltAngleXInitial:i,tiltAngleYInitial:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=this.props,a=r/o*100;this.wrapperEl.clientPosition.xPercentage=Zs(i/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Zs(a,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:i}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/i*100,this.wrapperEl.clientPosition.xPercentage=Zs(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Zs(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:i,flipHorizontally:r}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,i;if(e){const{x:r,y:s}=this.wrapperEl.clientPosition;t=s/window.innerHeight*200-100,i=r/window.innerWidth*200-100}else{const{size:{width:r,height:s,left:o,top:a},clientPosition:{x:l,y:c}}=this.wrapperEl;t=(c-a)/s*200-100,i=(l-o)/r*200-100}this.wrapperEl.clientPosition.xPercentage=Zs(t,-100,100),this.wrapperEl.clientPosition.yPercentage=Zs(i,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new AZ,this.initGlare(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new _Z(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let i=0,r=0;this.glare&&(i=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:r,eventType:e.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;_R(this.wrapperEl.node,"all",e,t),this.glare&&_R(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:i}=this.props;return uo.createElement("div",{ref:r=>this.wrapperEl.node=r,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:i},e)}}UO.defaultProps=MZ;const wZ=()=>K.jsx("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center gap-10 my-10",children:bq.map((n,e)=>K.jsx(UO,{children:K.jsx("div",{children:K.jsx(kO,{index:e,title:n.name,icon:n.icon},n.name)},n.name)},n.name))}),SZ=()=>K.jsxs(K.Fragment,{children:[K.jsx(ZS,{section:Tq}),K.jsx(wZ,{})]}),EZ=cv(SZ,"tech");var zO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(zO);var HO=zO.exports,CZ=e1(Y),Uo=e1(KD),TZ=e1(HO);function e1(n){return n&&n.__esModule?n:{default:n}}const bZ=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),CZ.default.createElement("div",{className:(0,TZ.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));bZ.propTypes={children:Uo.default.oneOfType([Uo.default.arrayOf(Uo.default.node),Uo.default.node]).isRequired,className:Uo.default.string,animate:Uo.default.bool,layout:Uo.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Uo.default.string};function AM(){return AM=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AM.apply(this,arguments)}function PZ(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,MM(n,e)}function MM(n,e){return MM=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},MM(n,e)}function RZ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var wM=new Map,Fm=new WeakMap,AR=0,GO=void 0;function LZ(n){GO=n}function BZ(n){return n?(Fm.has(n)||(AR+=1,Fm.set(n,AR.toString())),Fm.get(n)):"0"}function IZ(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?BZ(n.root):n[e])}).toString()}function DZ(n){var e=IZ(n),t=wM.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(h){h(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},wM.set(e,t)}return t}function t1(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=GO),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=DZ(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),wM.delete(o))}}var FZ=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function MR(n){return typeof n.children!="function"}var ey=function(n){PZ(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),MR(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,h=r.fallbackInView;this._unobserveCb=t1(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},h)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!MR(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,h=RZ(a,FZ);return Y.createElement(c||"div",AM({ref:this.handleNode},h),l)},e}(Y.Component);ey.displayName="InView";ey.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function OZ(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,h=e.fallbackInView,d=Y.useRef(),p=Y.useState({inView:!!c}),m=p[0],y=p[1],_=Y.useCallback(function(g){d.current!==void 0&&(d.current(),d.current=void 0),!l&&g&&(d.current=t1(g,function(A,M){y({inView:A,entry:M}),M.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},h))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,h,i]);Y.useEffect(function(){!d.current&&m.entry&&!a&&!l&&y({inView:!!c})});var x=[_,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const NZ=Object.freeze(Object.defineProperty({__proto__:null,InView:ey,default:ey,defaultFallbackInView:LZ,observe:t1,useInView:OZ},Symbol.toStringTag,{value:"Module"})),kZ=kN(NZ);var zo=n1(Y),nn=n1(KD),Om=n1(HO),UZ=kZ;function n1(n){return n&&n.__esModule?n:{default:n}}const zZ=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:h=null,id:d="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:_={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>zo.default.createElement(UZ.InView,_,({inView:g,ref:A})=>zo.default.createElement("div",{ref:A,id:d,className:(0,Om.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},zo.default.createElement(zo.default.Fragment,null,zo.default.createElement("span",{style:h,onClick:l,className:(0,Om.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||x,"is-hidden":!(g||x)})},o),zo.default.createElement("div",{style:i,onClick:c,className:(0,Om.default)(y,"vertical-timeline-element-content",{"bounce-in":g||x,"is-hidden":!(g||x)})},zo.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,zo.default.createElement("span",{className:(0,Om.default)(s,"vertical-timeline-element-date")},r)))));zZ.propTypes={children:nn.default.oneOfType([nn.default.arrayOf(nn.default.node),nn.default.node]),className:nn.default.string,contentArrowStyle:nn.default.shape({}),contentStyle:nn.default.shape({}),date:nn.default.node,dateClassName:nn.default.string,icon:nn.default.element,iconClassName:nn.default.string,iconStyle:nn.default.shape({}),iconOnClick:nn.default.func,onTimelineElementClick:nn.default.func,id:nn.default.string,position:nn.default.string,style:nn.default.shape({}),textClassName:nn.default.string,visible:nn.default.bool,intersectionObserverProps:nn.default.shape({root:nn.default.object,rootMargin:nn.default.string,threshold:nn.default.number,triggerOnce:nn.default.bool})};const VO=Y.createContext(void 0),HZ=({children:n,className:e,containerClassName:t})=>{const i=Y.useRef(null),[r,s]=Y.useState(!1),o=c=>{if(!i.current)return;const{left:h,top:d,width:p,height:m}=i.current.getBoundingClientRect(),y=(c.clientX-h-p/2)/12.5,_=(c.clientY-d-m/2)/12.5;i.current.style.transform=`rotateY(${y}deg) rotateX(${_}deg)`},a=c=>{s(!0),i.current},l=c=>{i.current&&(s(!1),i.current.style.transform="rotateY(0deg) rotateX(0deg)")};return K.jsx(VO.Provider,{value:[r,s],children:K.jsx("div",{className:qf("py-20 flex items-center justify-center",t),style:{perspective:"1000px"},children:K.jsx("div",{ref:i,onMouseEnter:a,onMouseMove:o,onMouseLeave:l,className:qf("flex items-center justify-center relative transition-all duration-200 ease-linear",e),style:{transformStyle:"preserve-3d"},children:n})})})},GZ=({children:n,className:e})=>K.jsx("div",{className:qf("[transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",e),children:n}),Nm=({as:n="div",children:e,className:t,translateX:i=0,translateY:r=0,translateZ:s=0,rotateX:o=0,rotateY:a=0,rotateZ:l=0,...c})=>{const h=Y.useRef(null),[d]=VZ();Y.useEffect(()=>{p()},[d]);const p=()=>{h.current&&(d?h.current.style.transform=`translateX(${i}px) translateY(${r}px) translateZ(${s}px) rotateX(${o}deg) rotateY(${a}deg) rotateZ(${l}deg)`:h.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")};return K.jsx(n,{ref:h,className:qf("w-fit transition duration-200 ease-linear",t),...c,children:e})},VZ=()=>{const n=Y.useContext(VO);if(n===void 0)throw new Error("useMouseEnter must be used within a MouseEnterProvider");return n},WZ=({index:n,name:e,description:t,image:i,source_code_link:r})=>{const s=(o,a)=>{go("project_clicked",{action:a}),o.stopPropagation(),window.open(r,"_blank").focus()};return K.jsx(Ot.div,{variants:KS("up","spring",n*.5,.75),children:K.jsx(HZ,{className:"inter-var",children:K.jsxs(GZ,{className:"flex flex-col justify-between items-center bg-tertiary bg-opacity-80 relative group/card shadow-card w-full xs:w-[360px] rounded-2xl p-5",children:[K.jsxs(Nm,{translateZ:"100",className:"w-full h-[230px] relative cursor-pointer hover:shadow-card",onClick:o=>s(o,e),children:[K.jsx("img",{src:i,alt:"project_image",className:"w-full h-full object-contain rounded-2xl"}),K.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:K.jsx(Nm,{translateZ:100,translateX:10,translateY:-10,as:"button",className:"bg-tertiary w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:K.jsx("img",{src:QS,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),K.jsx(Nm,{translateZ:"50",className:"text-xl font-bold text-white self-start mt-5",children:e}),K.jsx(Nm,{as:"p",translateZ:"60",className:"text-neutral-500 text-sm max-w-sm mt-2 dark:text-neutral-300",children:t})]})})})},jZ=()=>K.jsx("div",{className:"mt-20 flex flex-wrap justify-center gap-7",children:Cq.map((n,e)=>K.jsx(WZ,{index:e,...n},`project-${e}`))}),XZ=()=>K.jsxs(K.Fragment,{children:[K.jsx(ZS,{section:dR}),K.jsx(LO,{section:dR}),K.jsx(jZ,{})]}),JZ=cv(XZ,"projects"),YZ=()=>K.jsxs("div",{children:[K.jsx("p",{className:Ma.sectionSubText,children:mR.subtitle}),K.jsx("h3",{className:Ma.sectionHeadText,children:mR.title})]}),KZ=n=>{const[e,t]=Y.useState(n);return[e,s=>{const{name:o,value:a}=s.target;t(l=>({...l,[o]:a})),go("form_field_changed",{field_name:o,field_value:a})},()=>{t(n)}]},Zf={_origin:"https://api.emailjs.com"},QZ=(n,e="https://api.emailjs.com")=>{Zf._userID=n,Zf._origin=e},WO=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class wR{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const jO=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new wR(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new wR(o))}),s.open("POST",Zf._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),qZ=(n,e,t,i)=>{const r=i||Zf._userID;return WO(r,n,e),jO("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},ZZ=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},$Z=(n,e,t,i)=>{const r=i||Zf._userID,s=ZZ(t);WO(r,n,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),jO("/api/v1.0/email/send-form",o)},e$={init:QZ,send:qZ,sendForm:$Z},t$=n=>{const[e,t]=Y.useState(!1);return[e,r=>{r.preventDefault(),t(!0),e$.send("service_nuw6z8a","template_cbngh99",{from_name:n.name,to_name:"Yesid Otalora",from_email:n.email,to_email:"contact@yesid.dev",message:n.message},"WNltWCBp5T28Qr4Wa").then(()=>{t(!1),alert("Thank you. I will get back to you as soon as possible.")},s=>{t(!1),console.error(s),alert("Ahh, something went wrong. Please try again.")})}]},n$=()=>{const n={name:"",email:"",message:""},[e,t,i]=KZ(n),[r,s]=t$(e);return K.jsxs("form",{onSubmit:o=>{s(o),i()},className:"mt-12 flex flex-col gap-8 flex-grow",children:[K.jsx(sq,{name:"name",value:e.name,onChange:t,placeholder:Lc.name.placeholder,label:Lc.name.label}),K.jsx(nq,{name:"email",value:e.email,onChange:t,placeholder:Lc.email.placeholder,label:Lc.email.label}),K.jsx(rq,{name:"message",value:e.message,onChange:t,placeholder:Lc.message.placeholder,label:Lc.message.label}),K.jsx(iq,{loading:r})]})},i$=()=>K.jsx(Ot.div,{variants:bO("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:K.jsx(AJ,{})}),r$=()=>K.jsxs("div",{className:"xl:mt-12 flex xl:flex-row flex-col gap-10 overflow-hidden mb-16 overflow-y-visible",children:[K.jsxs(Ot.div,{variants:bO("left","tween",.2,1),className:"flex-[0.75] backdrop-blur-md bg-opacity-60 p-8 rounded-2xl bg-tertiary shadow-card",children:[K.jsx(YZ,{}),K.jsx(n$,{})]}),K.jsx(i$,{})]}),s$=cv(r$,"contact"),o$=({contact:n})=>K.jsxs("div",{children:[K.jsx("h2",{className:"text-xl",children:"Contact"}),K.jsxs("div",{className:"flex flex-col sm:items-center md:items-start p-4",children:[K.jsx("p",{children:n.location}),K.jsx("p",{children:K.jsx("a",{href:`tel:${n.phone}`,children:n.phone})}),K.jsx("p",{children:K.jsx("a",{href:`mailto:${n.email}`,children:n.email})}),K.jsx("p",{children:K.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",children:n.website})}),K.jsxs("div",{className:"flex pt-3 gap-10",children:[K.jsx("a",{href:"https://www.linkedin.com/in/otaloray/",target:"_blank",rel:"noopener noreferrer",children:K.jsx("img",{src:Mq,alt:"LinkedIn",className:"w-6 h-6"})}),K.jsx("a",{href:"https://github.com/mgkdante",target:"_blank",rel:"noopener noreferrer",children:K.jsx("img",{src:QS,alt:"GitHub",className:"w-6 h-6"})})]})]})]}),h_=({title:n,items:e})=>K.jsxs("div",{children:[K.jsx("h2",{className:"text-xl",children:n}),K.jsx("ul",{className:"xs:grid xs:grid-cols-2 sm:grid sm:grid-cols-3 md:grid md:grid-cols-1 p-4 gap-4",children:e.map((t,i)=>K.jsx("li",{children:t},i))})]}),a$=()=>K.jsxs("div",{className:"row-span-2 md:col-span-2 space-y-4 bg-black backdrop-blur-sm bg-opacity-50 border-1 border-gray-900 border h-full overflow-auto md:rounded-l-2xl md:rounded-r-none rounded-t-2xl shadow-card px-5 py-8 md:p-16",children:[K.jsx("h1",{className:"text-4xl font-bold",children:eo.name}),K.jsx(o$,{contact:eo.contact}),K.jsx(h_,{title:"Skills",items:eo.skills}),K.jsx(h_,{title:"Personal Qualities",items:eo.personalQualities}),K.jsx(h_,{title:"Spoken Languages",items:eo.languages})]}),f_=({experience:n})=>K.jsxs("div",{className:"p-4 space-y-2",children:[n.description?K.jsxs(K.Fragment,{children:[K.jsx("p",{children:n.title}),K.jsx("p",{children:n.description})]}):K.jsxs(K.Fragment,{children:[K.jsx("p",{children:n.institution}),K.jsx("div",{className:"pl-2",children:K.jsxs("div",{className:"flex justify-between",children:[K.jsx("p",{children:n.title}),K.jsx("p",{children:n.period})]})})]}),n.tasks&&K.jsx("ul",{className:"list-disc pl-5",children:n.tasks.map((e,t)=>K.jsx("li",{children:e},t))})]}),l$=({certification:n})=>K.jsx(Ot.div,{layout:!0,className:"p-2",children:K.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",children:n.name})}),c$=({provider:n,certifications:e})=>{const[t,i]=Y.useState(!1),r=()=>{i(!t)};return K.jsxs(Ot.div,{layout:!0,onClick:r,className:"cursor-pointer",children:[K.jsxs(Ot.div,{layout:!0,className:"flex justify-between items-center p-2 md:p-4",children:[K.jsx(Ot.h3,{className:"text-xl font-bold",children:n}),K.jsx(Ot.div,{animate:{rotate:t?180:0},transition:{duration:.5},children:K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-white",children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),t&&K.jsx(Ot.div,{className:"text-white p-2 md:p-4",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.map((s,o)=>K.jsx(l$,{certification:s},o))})]})},u$=()=>{const n=eo.certifications.reduce((e,t)=>{const i=e[t.provider]||[];return i.push(t),e[t.provider]=i,e},{});return K.jsxs("div",{className:"row-span-4 md:col-span-4 space-y-4 backdrop-blur-md bg-opacity-40 md:bg-opacity-60 bg-tertiary h-full overflow-auto rounded-b-2xl md:rounded-r-2xl md:rounded-l-none shadow-card p-2 px-5 py-8 md:p-16",children:[K.jsxs("div",{children:[K.jsx("h2",{className:"text-2xl font-semibold",children:"Education"}),eo.education.map((e,t)=>K.jsx(f_,{experience:e},t))]}),K.jsxs("div",{children:[K.jsx("h2",{className:"text-2xl font-semibold",children:"Work Experience"}),eo.workExperience.map((e,t)=>K.jsx(f_,{experience:e},t))]}),K.jsxs("div",{children:[K.jsx("h2",{className:"text-2xl font-semibold",children:"Hobbies"}),eo.hobbies.map((e,t)=>K.jsx(f_,{experience:e},t))]}),K.jsxs("div",{children:[K.jsx("h2",{className:"text-2xl font-semibold",children:"Certifications"}),Object.entries(n).map(([e,t],i)=>K.jsx(c$,{provider:e,certifications:t},i))]})]})},SR="/assets/Resume_Yesid_Otalora-ef63d30f.pdf",h$=()=>{const n=()=>{go("resume_downloaded",{action:"Clicked on Download PDF"})},e=()=>{go("resume_viewed",{action:"Clicked on View PDF"})};return K.jsxs("div",{className:"my-10 flex justify-center space-x-4",children:[K.jsx("a",{href:SR,download:!0,onClick:n,className:"text-white rounded-full backdrop-blur-md bg-opacity-40 bg-tertiary shadow-card w-40 h-20 sm:w-64 sm:h-20 flex justify-center items-center font-semibold transform transition duration-500 ease-in-out hover:scale-110",children:"Download PDF"}),K.jsx("a",{href:SR,target:"_blank",rel:"noopener noreferrer",onClick:e,className:"text-white rounded-full backdrop-blur-md bg-opacity-40 bg-tertiary shadow-card w-40 h-20 sm:w-64 sm:h-20 md:flex justify-center items-center font-semibold hidden transform transition duration-500 ease-in-out hover:scale-110",children:"View PDF"})]})},f$=()=>K.jsxs(K.Fragment,{children:[K.jsxs(Ot.div,{layout:!0,className:"relative grid md:grid-cols-6 grid-rows-1 text-white mt-5",children:[K.jsx(a$,{}),K.jsx(u$,{})]}),K.jsx(h$,{})]}),d$=()=>K.jsxs(K.Fragment,{children:[K.jsx(Rq,{}),K.jsxs("div",{className:"relative z-0 pt-[100px] px-2 md:px-4 lg:px-6 xl:px-8 mx-auto max-w-screen-xl",children:[K.jsxs(DG,{location,children:[K.jsx(cA,{path:"/",element:K.jsxs(LQ,{children:[K.jsx(mZ,{}),K.jsx(vZ,{}),"$",K.jsx(EZ,{}),K.jsx(JZ,{}),K.jsx(s$,{})]})}),K.jsx(cA,{exact:!0,path:"/resume",element:K.jsx(f$,{})})]},location.pathname),K.jsx(wq,{})]})]});Tw.initialize("G-TLYPGQ6X12");const p$=()=>{const n=Hu();return WG(n),Y.useEffect(()=>{Tw.send({hitType:"pageview",page:n.pathname+n.search})},[n]),K.jsx(d$,{})},m$=()=>K.jsxs("div",{className:"relative z-0 bg-primary",children:[K.jsx(XH,{}),K.jsx(zG,{children:K.jsx(p$,{})})]});d_.createRoot(document.getElementById("root")).render(K.jsx(uo.StrictMode,{children:K.jsx(m$,{})}));
